{
  "version": 3,
  "sources": ["../../@devexpress/dx-core/src/utils.ts", "../../@devexpress/dx-core/src/plugin-host.ts", "../../@devexpress/dx-core/src/event-emitter.ts", "../../@devexpress/dx-core/src/shallow-equal.ts", "../../@devexpress/dx-core/src/memoize.ts", "../../@devexpress/dx-core/src/easings.ts", "../../@devexpress/dx-core/src/messages-formatter.ts", "../../@devexpress/dx-react-core/src/plugin-based/contexts.ts", "../../@devexpress/dx-react-core/src/plugin-based/plugin-indexer.tsx", "../../@devexpress/dx-react-core/src/plugin-based/constants.ts", "../../@devexpress/dx-react-core/src/utils/with-props-from-context.tsx", "../../@devexpress/dx-react-core/src/plugin-based/plugin.tsx", "../../@devexpress/dx-react-core/src/plugin-based/template-placeholder.tsx", "../../@devexpress/dx-react-core/src/plugin-based/plugin-host.tsx", "../../@devexpress/dx-react-core/src/plugin-based/helpers.ts", "../../@devexpress/dx-react-core/src/plugin-based/action.tsx", "../../@devexpress/dx-react-core/src/plugin-based/getter.tsx", "../../@devexpress/dx-react-core/src/plugin-based/template.tsx", "../../@devexpress/dx-react-core/src/plugin-based/template-connector.tsx", "../../@devexpress/dx-react-core/src/draggable/touch-strategy.ts", "../../@devexpress/dx-react-core/src/draggable/gesture-cover.ts", "../../@devexpress/dx-react-core/src/draggable/selection-utils.ts", "../../@devexpress/dx-react-core/src/draggable/mouse-strategy.ts", "../../@devexpress/dx-react-core/src/draggable/shared-events.ts", "../../@devexpress/dx-react-core/src/ref-holder.tsx", "../../@devexpress/dx-react-core/src/draggable.tsx", "../../@devexpress/dx-react-core/src/drag-drop/context.ts", "../../@devexpress/dx-react-core/src/drag-drop/provider.tsx", "../../@devexpress/dx-react-core/src/drag-drop/source.tsx", "../../@devexpress/dx-react-core/src/drag-drop/target.tsx", "../../@devexpress/dx-react-core/src/sizer.tsx", "../../@devexpress/dx-react-core/src/utils/connect-props.tsx", "../../@devexpress/dx-react-core/src/utils/state-helper.ts", "../../@devexpress/dx-react-core/src/utils/with-components.tsx", "../../@devexpress/dx-react-core/src/utils/ref-type.ts", "../../rrule/src/weekday.ts", "../../rrule/src/helpers.ts", "../../rrule/src/dateutil.ts", "../../rrule/src/iterresult.ts", "../../tslib/tslib.es6.mjs", "../../rrule/src/callbackiterresult.ts", "../../rrule/src/nlp/i18n.ts", "../../rrule/src/nlp/totext.ts", "../../rrule/src/nlp/parsetext.ts", "../../rrule/src/types.ts", "../../rrule/src/nlp/index.ts", "../../rrule/src/datetime.ts", "../../rrule/src/parseoptions.ts", "../../rrule/src/parsestring.ts", "../../rrule/src/datewithzone.ts", "../../rrule/src/optionstostring.ts", "../../rrule/src/cache.ts", "../../rrule/src/masks.ts", "../../rrule/src/iterinfo/yearinfo.ts", "../../rrule/src/iterinfo/monthinfo.ts", "../../rrule/src/iterinfo/easter.ts", "../../rrule/src/iterinfo/index.ts", "../../rrule/src/iter/poslist.ts", "../../rrule/src/iter/index.ts", "../../rrule/src/rrule.ts", "../../rrule/src/iterset.ts", "../../rrule/src/rrulestr.ts", "../../rrule/src/rruleset.ts", "../../@devexpress/dx-scheduler-core/src/utils.ts", "../../@devexpress/dx-scheduler-core/src/constants.ts", "../../@devexpress/dx-scheduler-core/src/plugins/common/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/common/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointments/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/week-view/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/week-view/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/vertical-rect/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/all-day-panel/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointment-form/constants.ts", "../../@devexpress/dx-scheduler-core/src/plugins/month-view/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/horizontal-rect/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/month-view/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/all-day-panel/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/integrated-grouping/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/integrated-grouping/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/common/calculate-rects.ts", "../../@devexpress/dx-scheduler-core/src/plugins/scheduler-core/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/scheduler-core/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/grouping-panel/utils.ts", "../../@devexpress/dx-scheduler-core/src/plugins/week-view/utils.ts", "../../@devexpress/dx-scheduler-core/src/plugins/view-state/reducers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointment-tooltip/reducers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointment-tooltip/constants.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointment-form/reducers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointment-form/utils.ts", "../../@devexpress/dx-scheduler-core/src/plugins/appointment-form/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/editing-state/reducers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/editing-state/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/editing-state/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/drag-drop-provider/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/current-time-indicator/helpers.tsx", "../../@devexpress/dx-scheduler-core/src/plugins/resources/helpers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/resources/computeds.ts", "../../@devexpress/dx-scheduler-core/src/plugins/grouping-state/reducers.ts", "../../@devexpress/dx-scheduler-core/src/plugins/common/utils.ts", "../../@devexpress/dx-scheduler-core/src/plugins/date-navigator/helpers.ts", "../../@devexpress/dx-scheduler-core/src/types/appointment-form.types.ts", "../../@devexpress/dx-react-scheduler/src/plugins/scheduler-core.tsx", "../../@devexpress/dx-react-scheduler/src/scheduler.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/basic-view.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/vertical-view.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/day-view.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/week-view.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/month-view.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/toolbar.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/date-navigator.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/view-switcher.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/appointments.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/all-day-panel.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/view-state.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/editing-state.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/appointment-tooltip.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/appointment-form.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/drag-drop-provider.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/today-button.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/edit-recurrence-menu.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/integrated-editing.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/resources.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/confirmation-dialog.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/grouping-state.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/grouping-panel.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/current-time-indicator.tsx", "../../@devexpress/dx-react-scheduler/src/plugins/integrated-grouping.tsx"],
  "sourcesContent": ["const DELAY = 200;\n\nconst compare = (a, b) => {\n  const aPosition = a.position();\n  const bPosition = b.position();\n  for (let i = 0; i < Math.min(aPosition.length, bPosition.length); i += 1) {\n    if (aPosition[i] < bPosition[i]) return -1;\n    if (aPosition[i] > bPosition[i]) return 1;\n  }\n  return aPosition.length - bPosition.length;\n};\n\n/** @internal */\nexport const insertPlugin = (array, newItem) => {\n  const result = array.slice();\n  const nextItemIndex = array.findIndex(item => compare(newItem, item) <= 0);\n  const targetIndex = nextItemIndex < 0 ? array.length : nextItemIndex;\n  const alreadyExists = (targetIndex >= 0 && targetIndex < array.length)\n    && compare(newItem, array[targetIndex]) === 0;\n  let deletedItems = 0;\n  if (alreadyExists) {\n    deletedItems = 1;\n    const targetItemPosition = result[targetIndex].position();\n    if (targetItemPosition.length > 1) {\n      for (let i = targetIndex + 1; i < result.length; i += 1) {\n        const itemPosition = result[i].position();\n        if (targetItemPosition.length === itemPosition.length &&\n          targetItemPosition[targetItemPosition.length - 2] ===\n          itemPosition[itemPosition.length - 2]) {\n          deletedItems += 1;\n        } else {\n          break;\n        }\n      }\n    }\n  }\n  result.splice(targetIndex, deletedItems, newItem);\n  return result;\n};\n\n/** @internal */\nexport const removePlugin = (array, item) => {\n  const itemIndex = array.indexOf(item);\n  return itemIndex >= 0 ? [...array.slice(0, itemIndex), ...array.slice(itemIndex + 1)] : array;\n};\n\n/** @internal */\nexport const createClickHandlers = (click?, dblClick?) => {\n  let timeoutId;\n  const events: any = {};\n  if (click) {\n    events.onClick = (e) => {\n      if (!timeoutId) {\n        timeoutId = setTimeout(() => {\n          clearTimeout(timeoutId);\n          click(e);\n        }, DELAY);\n      }\n    };\n  }\n  if (dblClick) {\n    events.onDoubleClick = (e) => {\n      clearTimeout(timeoutId);\n      dblClick(e);\n    };\n  }\n  return events;\n};\n\n/** @internal */\nexport const slice = arr => Array.prototype.slice.call(arr); // slice can be renamed to copy as well\n\n/** @internal */\nexport const hasWindow = () => typeof window !== 'undefined';\n", "import { insertPlugin, removePlugin } from './utils';\nimport { Getters } from '@devexpress/dx-react-core';\n\nconst getDependencyError = (\n  pluginName, dependencyName,\n  ) => new Error(\n    `The '${pluginName}' plugin requires '${dependencyName}' to be defined before it.`,\n  );\n\n/** @internal */\nexport type PluginPositionFn = () => number[];\n\nexport interface IDependency { name: string; optional?: boolean; }\n\n/** @internal */\nexport type InnerPlugin = {\n  position: PluginPositionFn;\n  name?: string;\n  dependencies?: IDependency[];\n} & Getters;\n\n/** @internal */\nexport class PluginHost {\n  private plugins: InnerPlugin[];\n  private subscriptions: Set<any>;\n  private gettersCache: object = {};\n  private knownKeysCache: object = {};\n  private validationRequired: boolean = true;\n\n  constructor() {\n    this.plugins = [];\n    this.subscriptions = new Set();\n  }\n\n  ensureDependencies() {\n    const defined: Set<string> = new Set();\n    const knownOptionals: Map<string, string> = new Map();\n    this.plugins\n      .filter(plugin => plugin.container)\n      .forEach((plugin) => {\n        const pluginName = plugin.name || '';\n        if (knownOptionals.has(pluginName)) {\n          throw (getDependencyError(knownOptionals.get(pluginName), pluginName));\n        }\n\n        (plugin.dependencies || [])\n          .forEach((dependency) => {\n            if (defined.has(dependency.name)) return;\n            if (dependency.optional) {\n              if (!knownOptionals.has(dependency.name)) {\n                knownOptionals.set(dependency.name, pluginName);\n              }\n              return;\n            }\n            throw (getDependencyError(pluginName, dependency.name));\n          });\n\n        defined.add(pluginName);\n      });\n  }\n\n  registerPlugin(plugin) {\n    this.plugins = insertPlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  unregisterPlugin(plugin) {\n    this.plugins = removePlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  knownKeys(postfix) {\n    if (!this.knownKeysCache[postfix]) {\n      this.knownKeysCache[postfix] = Array.from(this.plugins\n        .map(plugin => Object.keys(plugin))\n        .map(keys => keys.filter(key => key.endsWith(postfix))[0])\n        .filter(key => !!key)\n        .reduce((acc, key) => acc.add(key), new Set<string>()))\n        .map(key => key.replace(postfix, ''));\n    }\n    return this.knownKeysCache[postfix];\n  }\n\n  collect(key, upTo?) {\n    if (this.validationRequired) {\n      this.ensureDependencies();\n      this.validationRequired = false;\n    }\n\n    let res = this.gettersCache[key];\n    if (!res) {\n      // Add cache for original plugin indexes\n      const indexCache = this.plugins\n        .map((plugin, index) => ({ key: plugin[key], index }))\n        .filter(plugin => !!plugin.key);\n      this.gettersCache[`${key}_i`] = indexCache;\n      res = indexCache.map(item => item.key);\n      this.gettersCache[key] = res;\n    }\n\n    if (!upTo) return res;\n\n    const upToIndex = this.plugins.indexOf(upTo);\n\n    // Try to get a result from upToIndex cache first.\n    const upToIndexKey = key + upToIndex;\n    let upToRes = this.gettersCache[upToIndexKey];\n\n    if (!upToRes) {\n      const indexCache = this.gettersCache[`${key}_i`];\n      upToRes = this.gettersCache[key]\n        .filter((getter, index) => indexCache[index].index < upToIndex);\n      this.gettersCache[upToIndexKey] = upToRes;\n    }\n\n    return upToRes;\n  }\n\n  get(key, upTo) {\n    const plugins = this.collect(key, upTo);\n\n    if (!plugins.length) return undefined;\n\n    let result;\n    // slice creates shallow copy, when do it many times, it costs about 5%\n    plugins.forEach((plugin) => {\n      result = plugin(result);\n    });\n    return result;\n  }\n\n  registerSubscription(subscription) {\n    this.subscriptions.add(subscription);\n  }\n\n  unregisterSubscription(subscription) {\n    this.subscriptions.delete(subscription);\n  }\n\n  broadcast(event, message?: any) {\n    this.subscriptions.forEach(subscription => subscription[event] && subscription[event](message));\n  }\n\n  private cleanPluginsCache() {\n    this.validationRequired = true;\n    this.gettersCache = {};\n    this.knownKeysCache = {};\n  }\n}\n", "type Handler = (e: object) => void;\n\n/** @internal */\nexport class EventEmitter {\n  private handlers: Handler[];\n\n  constructor() {\n    this.handlers = [];\n  }\n\n  emit(e) {\n    this.handlers.forEach(handler => handler(e));\n  }\n\n  subscribe(handler) {\n    this.handlers.push(handler);\n  }\n\n  unsubscribe(handler) {\n    this.handlers.splice(this.handlers.indexOf(handler), 1);\n  }\n}\n", "/** @internal */\nexport const shallowEqual = (objA, objB) => {\n  if (objA === objB) {\n    return true;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  const hasOwn = Object.prototype.hasOwnProperty;\n  // tslint:disable-next-line: prefer-for-of\n  for (let i = 0; i < keysA.length; i += 1) {\n    if (!hasOwn.call(objB, keysA[i])\n        || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n\n    const valA = objA[keysA[i]];\n    const valB = objB[keysA[i]];\n\n    if (valA !== valB) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/** @internal */\nexport const argumentsShallowEqual = (prev, next) => {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  for (let i = 0; i < prev.length; i += 1) {\n    if (prev[i] !== next[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n", "import { argumentsShallowEqual } from './shallow-equal';\n\n/** @internal */\nexport const memoize = (func) => {\n  let lastArgs: any = null;\n  let lastResult: ReturnType<typeof func> = null;\n  return (...args) => {\n    if (lastArgs === null || !argumentsShallowEqual(lastArgs, args)) {\n      lastResult = func(...args);\n    }\n    lastArgs = args;\n    return lastResult;\n  };\n};\n", "/** @internal */\nexport const easeInQuad = t => t * t;\n/** @internal */\nexport const easeOutQuad = t => t * (2 - t);\n/** @internal */\nexport const easeInOutQuad = t => (t < 0.5\n  ? 2 * t * t\n  : -1 + ((4 - (2 * t)) * t));\n\n/** @internal */\nexport const easeInCubic = t => t * t * t;\n/** @internal */\nexport const easeOutCubic = t => ((t - 1) * (t - 1) * (t - 1)) + 1;\n/** @internal */\nexport const easeInOutCubic = t => (t < 0.5\n  ? 4 * t * t * t\n  : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1);\n\n/** @internal */\nexport const easeInQuart = t => t * t * t * t;\n/** @internal */\nexport const easeOutQuart = t => 1 - ((t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuart = t => (t < 0.5\n  ? 8 * t * t * t * t\n  : 1 - (8 * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n\n/** @internal */\nexport const easeInQuint = t => t * t * t * t * t;\n/** @internal */\nexport const easeOutQuint = t => 1 + ((t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuint = t => (t < 0.5\n  ? 16 * t * t * t * t * t\n  : 1 + (16 * (t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n", "import { GetMessagesFormatterFn } from './types';\n\nconst processPattern = (pattern, params) => Object.keys(params).reduce(\n  (msg, key) => msg.replace(`{${key}}`, params[key]),\n  pattern,\n);\n\n/** @internal */\nexport const getMessagesFormatter: GetMessagesFormatterFn = messages => (key, params?) => {\n  const message = messages[key];\n\n  if (typeof message === 'function') {\n    return message(params);\n  }\n  if (params) {\n    return processPattern(message, params);\n  }\n  return message ?? '';\n};\n", "import * as React from 'react';\nimport { PluginHost, PluginPositionFn } from '@devexpress/dx-core';\n\n/** @internal */\nexport interface TemplateHostInterface {\n  params(...args): any;\n  templates(...args): any;\n}\n\n/** @internal */\nexport const PluginHostContext = React.createContext<PluginHost | null>(null);\n/** @internal */\nexport const PositionContext = React.createContext<PluginPositionFn>(() => []);\n/** @internal */\nexport const TemplateHostContext = React.createContext<TemplateHostInterface | null>(null);\n", "import * as React from 'react';\nimport { PluginPositionFn } from '@devexpress/dx-core';\nimport { PositionContext } from './contexts';\n\ntype MemoizedPluginPositionFn =\n  (index: number, positionContext: PluginPositionFn) => PluginPositionFn;\n\ntype PluginIndexerProps = {\n  children: React.ReactNode;\n};\n\n/** @internal */\nexport class PluginIndexer extends React.PureComponent<PluginIndexerProps> {\n  indexes: { [index: number]: PluginPositionFn } = {};\n  memoize: MemoizedPluginPositionFn = (index, positionContext) => {\n    if (this.indexes[index]) return this.indexes[index];\n\n    const fn: PluginPositionFn = () => {\n      const calculatedPosition = positionContext();\n      return [...calculatedPosition, index];\n    };\n    this.indexes[index] = fn;\n\n    return fn;\n  }\n  render() {\n    const { children } = this.props;\n    return (\n      <PositionContext.Consumer>\n        {positionContext => (\n          React.Children.map(children, (child: any, index: number) => {\n            if (!child || !child.type) return child;\n            const childPosition = this.memoize(index, positionContext);\n\n            return (\n              <PositionContext.Provider key={String(index)} value={childPosition}>\n                {child}\n              </PositionContext.Provider>\n            );\n          })\n        )}\n      </PositionContext.Consumer>\n    );\n  }\n}\n", "/** @internal */\nexport const PLUGIN_HOST_CONTEXT = 'dxcore_pluginHost_context';\n/** @internal */\nexport const POSITION_CONTEXT = 'dxcore_position_context';\n/** @internal */\nexport const TEMPLATE_HOST_CONTEXT = 'dxcore_templateHost_context';\n\n/** @internal */\nexport const RERENDER_TEMPLATE_EVENT = Symbol('rerenderTemplate');\n/** @internal */\nexport const RERENDER_TEMPLATE_SCOPE_EVENT = Symbol('rerenderTemplateScope');\n/** @internal */\nexport const UPDATE_CONNECTION_EVENT = Symbol('updateConnection');\n", "import * as React from 'react';\nimport { PluginHostContext, PositionContext } from '../plugin-based/contexts';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from '../plugin-based/constants';\n\n/** @internal */\nexport const withContext = (Context, name) => Component => props => (\n  <Context.Consumer>\n    {context => (\n      <Component {...props} {...{ [name]: context }} />\n    )}\n  </Context.Consumer>\n);\n\n/** @internal */\nexport const withHostAndPosition = Component => withContext(\n  PluginHostContext,\n  PLUGIN_HOST_CONTEXT,\n)(withContext(PositionContext, POSITION_CONTEXT)(Component));\n", "import * as React from 'react';\nimport { InnerPlugin, IDependency } from '@devexpress/dx-core';\nimport { PluginIndexer } from './plugin-indexer';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\nimport { PluginContextProps } from './plugin-context-prop-types';\n\nexport interface PluginProps {\n  /** React elements that expose the plugin's state and actions and render the plugin's UI. */\n  children: React.ReactNode;\n  name?: string;\n  dependencies?: IDependency[];\n}\n\n/** @internal */\nexport class PluginBase extends React.PureComponent<PluginProps & PluginContextProps> {\n  plugin!: InnerPlugin;\n\n  componentDidMount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: position } = this.props;\n    const { name, dependencies } = this.props;\n    this.plugin = {\n      position,\n      name,\n      dependencies,\n      container: true,\n    };\n    pluginHost.registerPlugin(this.plugin);\n    pluginHost.ensureDependencies();\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.ensureDependencies();\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.unregisterPlugin(this.plugin);\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <PluginIndexer>\n        {children}\n      </PluginIndexer>\n    );\n  }\n}\n\nexport const Plugin: React.ComponentType<PluginProps> = withHostAndPosition(PluginBase);\n", "import * as React from 'react';\nimport { shallowEqual } from '@devexpress/dx-core';\nimport {\n  PLUGIN_HOST_CONTEXT, RERENDER_TEMPLATE_EVENT,\n  TEMPLATE_HOST_CONTEXT, RERENDER_TEMPLATE_SCOPE_EVENT,\n} from './constants';\nimport { withContext } from '../utils/with-props-from-context';\nimport { PluginHostContext, TemplateHostContext, TemplateHostInterface } from './contexts';\nimport { PluginContextProps } from './plugin-context-prop-types';\nimport { TemplateBase } from './template';\n\nexport interface TemplatePlaceholderProps {\n  /** The name of a template to be rendered. */\n  name?: string;\n  /** An object passed to the related template. */\n  params?: object;\n  children?: (content) => any;\n}\ninterface TemplateHostContextProps {\n  [TEMPLATE_HOST_CONTEXT: string]: TemplateHostInterface;\n}\n\ntype Props = TemplatePlaceholderProps & PluginContextProps & TemplateHostContextProps;\n\nconst getRenderingData = (props: Props): { params?: object, templates: TemplateBase[] } => {\n  const { name, params } = props;\n  if (name) {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = props;\n    return {\n      params,\n      templates: pluginHost.collect(`${name}Template`)\n        .filter(template => template.predicate(params))\n        .reverse(),\n    };\n  }\n  const { [TEMPLATE_HOST_CONTEXT]: templateHost } = props;\n  return {\n    params: params || templateHost.params(),\n    templates: templateHost.templates(),\n  };\n};\n\nclass TemplatePlaceholderBase extends React.Component<Props> {\n  subscription = {\n    [RERENDER_TEMPLATE_EVENT]: (id: number) => {\n      if (this.template && this.template.id === id) {\n        this.forceUpdate();\n      }\n    },\n    [RERENDER_TEMPLATE_SCOPE_EVENT]: (name: string) => {\n      const { name: propsName } = this.props;\n      if (propsName === name) {\n        this.forceUpdate();\n      }\n    },\n  };\n  template: TemplateBase | null = null;\n  params?: object = {};\n\n  componentDidMount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.registerSubscription(this.subscription);\n  }\n\n  shouldComponentUpdate(nextProps: Props) {\n    const { params, templates } = getRenderingData(nextProps);\n    const [template] = templates;\n    const { children } = this.props;\n\n    return children !== nextProps.children\n      || templates.length !== getRenderingData(this.props).templates.length\n      || this.template !== template\n      || !shallowEqual(this.params, params);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.unregisterSubscription(this.subscription);\n  }\n\n  render() {\n    const { params, templates } = getRenderingData(this.props);\n\n    this.params = params;\n    [this.template] = templates;\n    const restTemplates = templates.slice(1);\n\n    let content: ((...args) => any) | null = null;\n    if (this.template) {\n      const { children: templateContent } = this.template;\n\n      content = templateContent() || null;\n      if (content && typeof content === 'function') {\n        content = content(params);\n      }\n    }\n\n    const { children: templatePlaceholder } = this.props;\n    return (\n      <TemplateHostContext.Provider\n        value={{\n          templates: () => restTemplates,\n          params: () => this.params,\n        }}\n      >\n        {templatePlaceholder ? templatePlaceholder(content) : content}\n      </TemplateHostContext.Provider>\n    );\n  }\n}\n\n/** A React component to which a related Template is rendered. */\nexport const TemplatePlaceholder: React.ComponentType<TemplatePlaceholderProps> = withContext(\n  PluginHostContext, PLUGIN_HOST_CONTEXT,\n)(\n  withContext(TemplateHostContext, TEMPLATE_HOST_CONTEXT)(TemplatePlaceholderBase),\n);\n\nexport const PlaceholderWithRef: React.ComponentType<TemplatePlaceholderProps & {\n  forwardedRef?: any;\n}> = ({ params, forwardedRef }) => (\n  <TemplatePlaceholder\n    params={{\n      ...params,\n      forwardedRef,\n    }}\n  />\n);\n", "import * as React from 'react';\nimport { PluginHost as PluginHostCore } from '@devexpress/dx-core';\nimport { PluginIndexer } from './plugin-indexer';\nimport { TemplatePlaceholder } from './template-placeholder';\nimport { PluginHostContext } from './contexts';\n\nexport interface PluginHostProps {\n  /** Plugin React elements. */\n  children: React.ReactNode;\n}\n\n/** @internal */\nclass PluginHostBase extends React.PureComponent<PluginHostProps> {\n  host: PluginHostCore;\n\n  constructor(props: PluginHostProps) {\n    super(props);\n\n    this.host = new PluginHostCore();\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <PluginHostContext.Provider value={this.host}>\n        <PluginIndexer>\n          {children}\n        </PluginIndexer>\n        <TemplatePlaceholder name=\"root\" />\n      </PluginHostContext.Provider>\n    );\n  }\n}\n\nexport const PluginHost: React.ComponentType<PluginHostProps> = PluginHostBase;\n", "import { shallowEqual } from '@devexpress/dx-core';\n\n/** @internal */\nexport const getAvailableGetters = (\n  pluginHost,\n  getGetterValue = getterName => pluginHost.get(`${getterName}Getter`),\n) => {\n  const trackedDependencies = {};\n\n  let getters;\n  if (typeof Proxy !== 'undefined') {\n    getters = new Proxy({}, {\n      get(target, prop) {\n        if (typeof prop !== 'string') return undefined;\n        const result = getGetterValue(prop);\n        trackedDependencies[prop] = result;\n        return result;\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        return {\n          configurable: true,\n          enumerable: true,\n          value: this.get!(target as any, prop, undefined),\n        };\n      },\n      ownKeys() {\n        return pluginHost.knownKeys('Getter');\n      },\n    });\n  } else {\n    getters = pluginHost.knownKeys('Getter')\n      .reduce((acc, getterName) => {\n        Object.defineProperty(acc, getterName, {\n          get: () => {\n            const result = getGetterValue(getterName);\n            trackedDependencies[getterName] = result;\n            return result;\n          },\n        });\n        return acc;\n      }, {});\n  }\n\n  return { getters, trackedDependencies };\n};\n\n/** @internal */\nexport const isTrackedDependenciesChanged = (\n  pluginHost,\n  prevTrackedDependencies,\n  getGetterValue = getterName => pluginHost.get(`${getterName}Getter`),\n) => {\n  const trackedDependencies = Object.keys(prevTrackedDependencies)\n    // tslint:disable-next-line: prefer-object-spread\n    .reduce((acc, getterName) => Object.assign(acc, {\n      [getterName]: getGetterValue(getterName),\n    }), {});\n\n  return !shallowEqual(prevTrackedDependencies, trackedDependencies);\n};\n\n/** @internal */\nexport const getAvailableActions = (\n  pluginHost,\n  getAction = actionName => pluginHost.collect(`${actionName}Action`).slice().reverse()[0],\n) => {\n  let actions;\n  if (typeof Proxy !== 'undefined') {\n    actions = new Proxy({}, {\n      get(target, prop) {\n        if (typeof prop !== 'string') return undefined;\n        return getAction(prop);\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        return {\n          configurable: true,\n          enumerable: true,\n          value: this.get!(target as any, prop, undefined),\n        };\n      },\n      ownKeys() {\n        return pluginHost.knownKeys('Action');\n      },\n    });\n  } else {\n    actions = pluginHost.knownKeys('Action')\n      .reduce((acc, actionName) => {\n        Object.defineProperty(acc, actionName, {\n          get: () => getAction(actionName),\n        });\n        return acc;\n      }, {});\n  }\n  return actions;\n};\n", "import * as React from 'react';\nimport { InnerPlugin } from '@devexpress/dx-core';\nimport {\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\nimport { PluginContextProps } from './plugin-context-prop-types';\nimport { Getters, Actions } from '../types';\n\nexport interface ActionProps {\n  /** The action name. */\n  name: string;\n  /** A function that is called when the action is executed. */\n  action: (payload: any, getters: Getters, actions: Actions) => void;\n}\n\n/** @internal */\nexport class ActionBase extends React.PureComponent<ActionProps & PluginContextProps> {\n  plugin: InnerPlugin;\n  pluginRegistered: boolean;\n\n  constructor(props) {\n    super(props);\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name } = props;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Action`]: (params) => {\n        const { action } = this.props;\n        const { getters } = getAvailableGetters(\n          pluginHost,\n          getterName => pluginHost.get(`${getterName}Getter`, this.plugin),\n        );\n        let nextParams = params;\n        const actions = getAvailableActions(\n          pluginHost,\n          actionName => (actionName === name\n            ? (newParams) => { nextParams = newParams; }\n            : pluginHost.collect(`${actionName}Action`, this.plugin).slice().reverse()[0]),\n        );\n        action(params, getters, actions);\n        const nextAction = pluginHost.collect(`${name}Action`, this.plugin).slice().reverse()[0];\n        if (nextAction) {\n          nextAction(nextParams);\n        }\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n\n    this.pluginRegistered = true;\n  }\n\n  componentDidMount() {\n    if (this.pluginRegistered) {\n      return;\n    }\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.registerPlugin(this.plugin);\n    this.pluginRegistered = true;\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.unregisterPlugin(this.plugin);\n    this.pluginRegistered = false;\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport const Action: React.ComponentType<ActionProps> = withHostAndPosition(ActionBase);\n", "import * as React from 'react';\nimport {\n  isTrackedDependenciesChanged,\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { UPDATE_CONNECTION_EVENT, PLUGIN_HOST_CONTEXT, POSITION_CONTEXT } from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\nimport { InnerPlugin } from '@devexpress/dx-core';\nimport { PluginContextProps } from './plugin-context-prop-types';\nimport { ComputedFn } from '../types';\n\nexport interface GetterProps {\n  /** The Getter's name. */\n  name: string;\n  /** The shared value. */\n  value?: any;\n  /*** A function that calculates a value depending on the values other Getters expose.\n   * The value is computed each time a related Getter's value changes.\n   * Applies only if `value` is not defined.\n   */\n  computed?: ComputedFn;\n}\n\n/** @internal */\nexport class GetterBase extends React.PureComponent<GetterProps & PluginContextProps> {\n  plugin: InnerPlugin;\n  pluginRegistered: boolean;\n\n  constructor(props) {\n    super(props);\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name } = props;\n\n    let lastComputed;\n    let lastTrackedDependencies = {};\n    let lastResult;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Getter`]: (original) => {\n        const { value, computed } = this.props;\n        if (computed === undefined) return value;\n\n        const getGetterValue = getterName => ((getterName === name)\n          ? original\n          : pluginHost.get(`${getterName}Getter`, this.plugin));\n\n        if (computed === lastComputed\n          && !isTrackedDependenciesChanged(pluginHost, lastTrackedDependencies, getGetterValue)) {\n          return lastResult;\n        }\n\n        const { getters, trackedDependencies } = getAvailableGetters(pluginHost, getGetterValue);\n        const actions = getAvailableActions(pluginHost);\n\n        lastComputed = computed;\n        lastTrackedDependencies = trackedDependencies;\n        lastResult = computed(getters, actions);\n        return lastResult;\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n\n    this.pluginRegistered = true;\n  }\n\n  componentDidMount() {\n    if (this.pluginRegistered) {\n      return;\n    }\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.registerPlugin(this.plugin);\n    this.pluginRegistered = true;\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.broadcast(UPDATE_CONNECTION_EVENT);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n\n    pluginHost.unregisterPlugin(this.plugin);\n    this.pluginRegistered = false;\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport const Getter: React.ComponentType<GetterProps> = withHostAndPosition(GetterBase);\n", "import * as React from 'react';\nimport { InnerPlugin } from '@devexpress/dx-core';\nimport {\n  PLUGIN_HOST_CONTEXT, POSITION_CONTEXT,\n  RERENDER_TEMPLATE_EVENT, RERENDER_TEMPLATE_SCOPE_EVENT,\n} from './constants';\nimport { withHostAndPosition } from '../utils/with-props-from-context';\nimport { PluginContextProps } from './plugin-context-prop-types';\n\nexport interface TemplateProps {\n  // tslint:disable-next-line:max-line-length\n  /** The template name. The `root` name is reserved. A template called `root` is rendered as the plugin based component's root. */\n  name: string;\n  // tslint:disable-next-line:max-line-length\n  /** A predicate function that returns a Boolean value that specifies whether the template should be rendered. */\n  predicate?: (params: object) => boolean;\n  /** A markup or function that returns a markup based on the specified parameters. */\n  children: React.ReactNode | ((params: object) => React.ReactNode);\n}\n\nlet globalTemplateId = 0;\n/** @internal */\nexport class TemplateBase extends React.PureComponent<TemplateProps & PluginContextProps> {\n  id: number;\n  plugin: InnerPlugin;\n  children: () => any;\n  pluginRegistered: boolean;\n\n  constructor(props) {\n    super(props);\n\n    this.children = () => void 0;\n\n    globalTemplateId += 1;\n    this.id = globalTemplateId;\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost, [POSITION_CONTEXT]: positionContext } = props;\n    const { name, predicate } = props;\n\n    this.plugin = {\n      position: () => positionContext(),\n      [`${name}Template`]: {\n        id: this.id,\n        predicate: params => (predicate ? predicate(params) : true),\n        children: () => {\n          const { children } = this.props;\n          return children;\n        },\n      },\n    };\n\n    pluginHost.registerPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n\n    this.pluginRegistered = true;\n  }\n\n  componentDidMount() {\n    if (this.pluginRegistered) {\n      return;\n    }\n\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    const { name } = this.props;\n\n    pluginHost.registerPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n    this.pluginRegistered = true;\n  }\n\n  componentDidUpdate() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    pluginHost.broadcast(RERENDER_TEMPLATE_EVENT, this.id);\n  }\n\n  componentWillUnmount() {\n    const { [PLUGIN_HOST_CONTEXT]: pluginHost } = this.props;\n    const { name } = this.props;\n    pluginHost.unregisterPlugin(this.plugin);\n    pluginHost.broadcast(RERENDER_TEMPLATE_SCOPE_EVENT, name);\n    this.pluginRegistered = false;\n  }\n\n  render() {\n    return null;\n  }\n}\n\n/*** A React component that defines a markup that is rendered\n * as the corresponding TemplatePlaceholder.\n */\nexport const Template: React.ComponentType<TemplateProps> = withHostAndPosition(TemplateBase);\n", "import * as React from 'react';\nimport { UPDATE_CONNECTION_EVENT } from './constants';\nimport {\n  isTrackedDependenciesChanged,\n  getAvailableGetters,\n  getAvailableActions,\n} from './helpers';\nimport { PluginHostContext } from './contexts';\nimport { Getters, Actions } from '../types';\n\nexport interface TemplateConnectorProps {\n  /** A function that renders a markup using Getters and Actions passed as arguments. */\n  children: (\n    getters: Getters,\n    actions: Actions,\n  ) => React.ReactNode;\n}\n\n/** @internal */\nclass TemplateConnectorBase extends React.Component<TemplateConnectorProps> {\n  trackedDependencies: { [key: string]: { get: (args) => any }};\n  subscription: { [UPDATE_CONNECTION_EVENT: string]: (args) => void };\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.trackedDependencies = {};\n    this.subscription = {\n      [UPDATE_CONNECTION_EVENT]: () => this.updateConnection(),\n    };\n  }\n\n  componentDidMount() {\n    const pluginHost = this.context;\n    pluginHost.registerSubscription(this.subscription);\n  }\n\n  componentWillUnmount() {\n    const pluginHost = this.context;\n    pluginHost.unregisterSubscription(this.subscription);\n  }\n\n  updateConnection() {\n    const pluginHost = this.context;\n\n    if (isTrackedDependenciesChanged(pluginHost, this.trackedDependencies)) {\n      this.forceUpdate();\n    }\n  }\n\n  render() {\n    const pluginHost = this.context;\n    const { children } = this.props;\n\n    const { getters, trackedDependencies } = getAvailableGetters(pluginHost);\n    this.trackedDependencies = trackedDependencies;\n    const actions = getAvailableActions(pluginHost);\n\n    return children(getters, actions);\n  }\n}\n\nTemplateConnectorBase.contextType = PluginHostContext;\n\n/** A React component that provides access to Getters and Actions within a Template. */\nexport const TemplateConnector: React.ComponentType<TemplateConnectorProps> = TemplateConnectorBase;\n", "const TIMEOUT = 180;\n\n/** @internal */\nexport class TouchStrategy {\n  delegate: any;\n  touchStartTimeout: any;\n  dragging: boolean;\n\n  constructor(delegate) {\n    this.delegate = delegate;\n    this.touchStartTimeout = null;\n    this.dragging = false;\n  }\n\n  isDragging() {\n    return this.dragging;\n  }\n\n  isWaiting() {\n    return !!this.touchStartTimeout;\n  }\n\n  cancelWaiting() {\n    clearTimeout(this.touchStartTimeout);\n    this.touchStartTimeout = undefined;\n  }\n\n  start(e) {\n    const { clientX: x, clientY: y } = e.touches[0];\n    this.touchStartTimeout = setTimeout(() => {\n      this.delegate.onStart({ x, y });\n      this.dragging = true;\n    }, TIMEOUT);\n  }\n\n  move(e) {\n    this.cancelWaiting();\n    if (this.dragging) {\n      const { clientX, clientY } = e.touches[0];\n      e.preventDefault();\n      this.delegate.onMove({ x: clientX, y: clientY });\n    }\n  }\n\n  end(e) {\n    this.cancelWaiting();\n    if (this.dragging) {\n      const { clientX, clientY } = e.changedTouches[0];\n      this.delegate.onEnd({ x: clientX, y: clientY });\n    }\n    this.dragging = false;\n  }\n}\n", "/* globals document:true */\n\nlet gestureCover: HTMLElement;\n/** @internal */\nexport const toggleGestureCover = (toggle, cursor?) => {\n  let style: React.CSSProperties = {\n    pointerEvents: toggle ? 'all' : 'none',\n  };\n  if (toggle && cursor) {\n    style = {\n      ...style,\n      cursor,\n    };\n  }\n  if (!gestureCover) {\n    style = {\n      ...style,\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0,\n      opacity: 0,\n      zIndex: 2147483647,\n    };\n\n    gestureCover = document.createElement('div');\n    document.body.appendChild(gestureCover);\n  }\n  Object.keys(style).forEach((key) => { gestureCover.style[key] = style[key]; });\n};\n", "/* globals document:true window:true */\n\n/** @internal */\nexport const clear = () => {\n  const selection = window.getSelection && window.getSelection();\n\n  if (selection) {\n    if (selection.empty) {\n      selection.empty();\n    } else if (selection.removeAllRanges) {\n      selection.removeAllRanges();\n    }\n  }\n};\n", "/* globals window:true document:true */\n\nimport { toggleGestureCover } from './gesture-cover';\nimport { clear } from './selection-utils';\n\nconst BOUNDARY = 10;\nconst clamp = (value, min, max) => Math.max(Math.min(value, max), min);\nconst isBoundExceeded = (\n  { x: initialX, y: initialY }, { x, y },\n) => clamp(x, initialX - BOUNDARY, initialX + BOUNDARY) !== x\n  || clamp(y, initialY - BOUNDARY, initialY + BOUNDARY) !== y;\n\n/** @internal */\nexport class MouseStrategy {\n  delegate: any;\n  mouseInitialOffset: any;\n  dragging: boolean;\n  e: any;\n\n  constructor(delegate) {\n    this.delegate = delegate;\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n\n  isDragging() {\n    return this.dragging;\n  }\n\n  start(e) {\n    const { clientX: x, clientY: y } = e;\n    this.e = e;\n    this.mouseInitialOffset = { x, y };\n  }\n\n  move(e) {\n    const { clientX: x, clientY: y } = e;\n    let dragStarted = false;\n    if (!this.dragging && this.mouseInitialOffset) {\n      if (isBoundExceeded(this.mouseInitialOffset, { x, y })) {\n        this.delegate.onStart(this.mouseInitialOffset);\n        clear();\n        dragStarted = true;\n        this.dragging = true;\n      }\n    }\n    if (this.dragging) {\n      e.preventDefault();\n      this.delegate.onMove({ x, y });\n    }\n    if (dragStarted) {\n      const element = document.elementFromPoint(x, y);\n      const cursor = element ? window.getComputedStyle(element).cursor : null;\n      toggleGestureCover(true, cursor);\n    }\n  }\n\n  end(e) {\n    if (this.dragging) {\n      const { clientX: x, clientY: y } = e;\n      toggleGestureCover(false);\n      this.delegate.onEnd({ x, y });\n    }\n    this.mouseInitialOffset = null;\n    this.dragging = false;\n  }\n}\n", "/* globals window:true */\n\nimport { EventEmitter } from '@devexpress/dx-core';\n\nlet eventEmitter;\n/** @internal */\nexport const getSharedEventEmitter = () => {\n  if (!eventEmitter) {\n    eventEmitter = new EventEmitter();\n\n    ['mousemove', 'mouseup', 'touchmove', 'touchend', 'touchcancel']\n      .forEach(name => window.addEventListener(\n        name, e => eventEmitter.emit([name, e]), { passive: false },\n      ));\n  }\n  return eventEmitter;\n};\n", "import * as React from 'react';\n\n/** @internal */\nexport const RefHolder = React.forwardRef((\n  { children }: { children: React.ReactNode },\n  ref: React.MutableRefObject<any> | React.RefCallback<any> | null,\n) => {\n  return React.isValidElement<any>(children) ?\n    typeof children.type === 'string'\n      ? React.cloneElement(children, { ref })\n      : React.cloneElement(children, {\n        forwardedRef: children.props?.forwardedRef ? (node) => {\n          children.props.forwardedRef(node);\n          if (typeof ref === 'function') {\n            ref(node);\n          } else if (ref) {\n            ref.current = node;\n          }\n        } : ref }) :\n    React.createElement(\n      'div',\n      { ref, style: { display: 'contents' } },\n      children,\n    );\n});\n", "import * as React from 'react';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { TouchStrategy } from './draggable/touch-strategy';\nimport { MouseStrategy } from './draggable/mouse-strategy';\nimport { getSharedEventEmitter } from './draggable/shared-events';\nimport { clear } from './draggable/selection-utils';\nimport { RefHolder } from './ref-holder';\n\nconst draggingHandled = Symbol('draggingHandled');\n\ntype DraggableProps = {\n  onStart?: (args) => void;\n  onUpdate?: (args) => void;\n  onEnd?: (args) => void;\n  dragItem?: React.MutableRefObject<any> | React.RefCallback<any> | null;\n};\n\n/** @internal */\nexport class Draggable extends React.PureComponent<DraggableProps> {\n  mouseStrategy: MouseStrategy;\n  touchStrategy: TouchStrategy;\n  elementRef: React.MutableRefObject<Element | null>;\n  eventParams: { e: any, isMouseEvent: boolean } | null = null;\n  detachNodeEvents: any = null;\n\n  constructor(props) {\n    super(props);\n    const delegate = {\n      onStart: ({ x, y }) => {\n        const { onStart } = this.props;\n        if (!onStart) return;\n        unstable_batchedUpdates(() => {\n          onStart({ x, y });\n        });\n      },\n      onMove: ({ x, y }) => {\n        const { onUpdate } = this.props;\n        if (!onUpdate) return;\n        unstable_batchedUpdates(() => {\n          onUpdate({ x, y });\n        });\n      },\n      onEnd: ({ x, y }) => {\n        const { onEnd } = this.props;\n        if (!onEnd) return;\n        unstable_batchedUpdates(() => {\n          onEnd({ x, y });\n        });\n      },\n    };\n\n    this.mouseStrategy = new MouseStrategy(delegate);\n    this.touchStrategy = new TouchStrategy(delegate);\n    this.elementRef = React.createRef();\n\n    this.mouseDownListener = this.mouseDownListener.bind(this);\n    this.touchStartListener = this.touchStartListener.bind(this);\n    this.globalListener = this.globalListener.bind(this);\n  }\n\n  componentDidMount() {\n    getSharedEventEmitter().subscribe(this.globalListener);\n    this.setupNodeSubscription();\n  }\n\n  componentDidUpdate() {\n    this.setupNodeSubscription();\n  }\n\n  componentWillUnmount() {\n    if (this.eventParams) {\n      const { isMouseEvent, e } = this.eventParams;\n      if (isMouseEvent) {\n        this.mouseStrategy.end(e);\n      } else {\n        this.touchStrategy.end(e);\n      }\n      this.eventParams = null;\n    }\n    this.detachNodeEvents?.();\n    getSharedEventEmitter().unsubscribe(this.globalListener);\n  }\n\n  setupNodeSubscription() {\n    const node = this.elementRef.current;\n    if (!node) return;\n    this.detachNodeEvents?.();\n    node.addEventListener('mousedown', this.mouseDownListener);\n    node.addEventListener('touchstart', this.touchStartListener, { passive: true });\n    this.detachNodeEvents = () => {\n      node.removeEventListener('mousedown', this.mouseDownListener);\n      node.removeEventListener('touchstart', this.touchStartListener);\n    };\n  }\n\n  mouseDownListener(e) {\n    if (this.touchStrategy.isWaiting() || e[draggingHandled]) return;\n    e.preventDefault();\n    this.mouseStrategy.start(e);\n    e[draggingHandled] = true;\n  }\n\n  touchStartListener(e) {\n    if (e[draggingHandled]) return;\n    this.touchStrategy.start(e);\n    e[draggingHandled] = true;\n  }\n\n  saveEvent(e, isMouseEvent) {\n    this.eventParams = {\n      e,\n      isMouseEvent,\n    };\n  }\n\n  globalListener([name, e]) {\n    switch (name) {\n      case 'mousemove':\n        this.saveEvent(e, true);\n        this.mouseStrategy.move(e);\n        break;\n      case 'mouseup':\n        this.eventParams = null;\n        this.mouseStrategy.end(e);\n        break;\n      case 'touchmove': {\n        this.saveEvent(e, false);\n        this.touchStrategy.move(e);\n        break;\n      }\n      case 'touchend':\n      case 'touchcancel': {\n        this.eventParams = null;\n        this.touchStrategy.end(e);\n        break;\n      }\n      default:\n        break;\n    }\n    if (this.mouseStrategy.isDragging() || this.touchStrategy.isDragging()) {\n      clear();\n    }\n  }\n\n  render() {\n    const { children, dragItem } = this.props;\n    return <RefHolder\n      ref={(node: Element | null) => {\n        this.elementRef.current = node;\n        if (typeof dragItem === 'function') {\n          dragItem(node);\n        } else if (dragItem) {\n          dragItem.current = node;\n        }\n      }}\n    >\n      {children}\n    </RefHolder>;\n  }\n}\n", "import * as React from 'react';\nimport { DragDropProviderCore } from './provider';\n\n/** @internal */\nexport const DragDropContext = React.createContext<DragDropProviderCore | null>(null);\n", "import * as React from 'react';\n\nimport { EventEmitter } from '@devexpress/dx-core';\nimport { DragDropContext } from './context';\n\n/** @internal */\nexport class DragDropProviderCore {\n  payload: null;\n  dragEmitter: EventEmitter;\n\n  constructor() {\n    this.payload = null;\n    this.dragEmitter = new EventEmitter();\n  }\n\n  start(payload, clientOffset) {\n    this.payload = payload;\n    this.dragEmitter.emit({ clientOffset, payload: this.payload });\n  }\n\n  update(clientOffset) {\n    this.dragEmitter.emit({ clientOffset, payload: this.payload });\n  }\n\n  end(clientOffset) {\n    this.dragEmitter.emit({ clientOffset, payload: this.payload, end: true });\n    this.payload = null;\n  }\n}\n\nconst defaultProps = {\n  onChange: ({ payload, clientOffset }) => {},\n};\ntype DragDropProviderDefaultProps = Readonly<typeof defaultProps>;\ntype DragDropProviderProps = Partial<DragDropProviderDefaultProps>;\n\n/** @internal */\n// tslint:disable-next-line: max-classes-per-file\nexport class DragDropProvider extends React.Component<\n  DragDropProviderProps & DragDropProviderDefaultProps\n> {\n  static defaultProps = defaultProps;\n  dragDropProvider: DragDropProviderCore;\n\n  constructor(props) {\n    super(props);\n    const { onChange } = this.props;\n\n    this.dragDropProvider = new DragDropProviderCore();\n\n    this.dragDropProvider.dragEmitter.subscribe(({ payload, clientOffset, end }) => {\n      onChange({\n        payload: end ? null : payload,\n        clientOffset: end ? null : clientOffset,\n      });\n    });\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <DragDropContext.Provider value={this.dragDropProvider}>\n        {children}\n      </DragDropContext.Provider>\n    );\n  }\n}\n", "import * as React from 'react';\nimport { DragDropContext } from './context';\nimport { Draggable } from '../draggable';\n\nconst defaultProps = {\n  onStart: ({ clientOffset }) => {},\n  onUpdate: ({ clientOffset }) => {},\n  onEnd: ({ clientOffset }) => {},\n};\ntype DragSourceDefaultProps = Readonly<typeof defaultProps>;\ntype DragSourceProps = {\n  payload: any;\n  ref?: React.Ref<Element>;\n} & Partial<DragSourceDefaultProps>;\n\n/** @internal */\nexport const DragSource: React.FC<DragSourceProps> = React.forwardRef(({\n  onStart, onUpdate, onEnd, payload, children,\n}, ref) => {\n  const context = React.useContext(DragDropContext);\n  const dragDropProvider = context;\n\n  return (\n    <Draggable\n      onStart={({ x, y }) => {\n        dragDropProvider?.start(payload, { x, y });\n        onStart?.({ clientOffset: { x, y } });\n      }}\n      onUpdate={({ x, y }) => {\n        dragDropProvider?.update({ x, y });\n        onUpdate?.({ clientOffset: { x, y } });\n      }}\n      onEnd={({ x, y }) => {\n        dragDropProvider?.end({ x, y });\n        onEnd?.({ clientOffset: { x, y } });\n      }}\n      dragItem={ref}\n    >\n      {children}\n    </Draggable>\n  );\n});\nDragSource.defaultProps = defaultProps;\n", "import * as React from 'react';\nimport { RefHolder } from '../ref-holder';\nimport { DragDropContext } from './context';\n\nconst clamp = (value, min, max) => Math.max(Math.min(value, max), min);\n\nconst defaultProps = {\n  onEnter: (args) => {},\n  onOver: (args) => {},\n  onLeave: (args) => {},\n  onDrop: (args) => {},\n};\ntype DropTargetDefaultProps = Readonly<typeof defaultProps>;\n\n/** @internal */\nexport class DropTarget extends React.Component<DropTargetDefaultProps> {\n  static defaultProps = defaultProps;\n  isOver: boolean;\n  elementRef: React.RefObject<Element>;\n\n  constructor(props) {\n    super(props);\n\n    this.isOver = false;\n\n    this.handleDrag = this.handleDrag.bind(this);\n\n    this.elementRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { dragEmitter } = this.context;\n    dragEmitter.subscribe(this.handleDrag);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { children } = this.props;\n    return nextProps.children !== children;\n  }\n\n  componentWillUnmount() {\n    const { dragEmitter } = this.context;\n    dragEmitter.unsubscribe(this.handleDrag);\n  }\n\n  handleDrag({ payload, clientOffset, end }) {\n    const {\n      left,\n      top,\n      right,\n      bottom,\n    } = this.elementRef.current!.getBoundingClientRect();\n    const {\n      onDrop, onEnter, onLeave, onOver,\n    } = this.props;\n    const isOver = clientOffset\n      && clamp(clientOffset.x, left, right) === clientOffset.x\n      && clamp(clientOffset.y, top, bottom) === clientOffset.y;\n\n    if (!this.isOver && isOver) onEnter({ payload, clientOffset });\n    if (this.isOver && isOver) onOver({ payload, clientOffset });\n    if (this.isOver && !isOver) onLeave({ payload, clientOffset });\n    if (isOver && end) onDrop({ payload, clientOffset });\n\n    this.isOver = isOver && !end;\n  }\n\n  render() {\n    const { children } = this.props;\n    return <RefHolder ref={this.elementRef}>{React.Children.only(children)}</RefHolder>;\n  }\n}\n\nDropTarget.contextType = DragDropContext;\n", "/* globals document:true */\n\nimport * as React from 'react';\nimport { SizerProps, Size } from './types';\nimport { shallowEqual } from '@devexpress/dx-core';\n\nconst SCROLL_OFFSET = 2;\nconst styles: Record<string, React.CSSProperties> = {\n  root: {\n    position: 'relative',\n  },\n  triggersRoot: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'hidden',\n    zIndex: -1,\n    visibility: 'hidden',\n    opacity: 0,\n  },\n  expandTrigger: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'auto',\n  },\n  contractTrigger: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '100%',\n    width: '100%',\n    overflow: 'auto',\n    minHeight: '1px',\n    minWidth: '1px',\n  },\n  contractNotifier: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '200%',\n    height: '200%',\n    minHeight: '2px',\n    minWidth: '2px',\n  },\n};\n\n/** @internal */\nexport class Sizer extends React.Component<SizerProps> {\n  static defaultProps = {\n    containerComponent: 'div',\n  };\n\n  rootRef: React.RefObject<HTMLElement>;\n\n  rootNode!: HTMLElement;\n  triggersRoot!: HTMLDivElement;\n  expandTrigger!: HTMLDivElement;\n  expandNotifier!: HTMLDivElement;\n  contractTrigger!: HTMLDivElement;\n  contractNotifier!: HTMLDivElement;\n\n  constructor(props) {\n    super(props);\n\n    this.setupListeners = this.setupListeners.bind(this);\n    this.updateScrolling = this.updateScrolling.bind(this);\n    this.rootRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.rootNode = this.rootRef.current!;\n    this.createListeners();\n\n    this.expandTrigger.addEventListener('scroll', this.setupListeners);\n    this.contractTrigger.addEventListener('scroll', this.setupListeners);\n    this.setupListeners();\n  }\n\n  shouldComponentUpdate(prevProps) {\n    if (prevProps.scrollTop !== this.props.scrollTop ||\n      prevProps.scrollLeft !== this.props.scrollLeft ||\n      (prevProps.style && this.props.style &&\n        !shallowEqual(prevProps.style, this.props.style)) ||\n        (prevProps.style && !this.props.style) ||\n        prevProps.children !== this.props.children) {\n      return true;\n    }\n    return false;\n  }\n\n  componentDidUpdate() {\n    // We can scroll the VirtualTable manually only by changing\n    // containter's (rootNode) scrollTop property.\n    // Viewport changes its own properties automatically.\n    const { scrollTop, scrollLeft } = this.props;\n    if (scrollTop !== undefined && scrollTop > -1) {\n      this.rootNode.scrollTop = scrollTop;\n    }\n    if (scrollLeft !== undefined && scrollLeft > -1) {\n      this.rootNode.scrollLeft = scrollLeft;\n    }\n    this.updateScrolling(this.getSize());\n  }\n\n  // There is no need to remove listeners as divs are removed from DOM when component is unmount.\n  // But there is a little chance that component unmounting and 'scroll' event happen roughly\n  // at the same time so that `setupListeners` is called after component is unmount.\n  componentWillUnmount() {\n    this.expandTrigger.removeEventListener('scroll', this.setupListeners);\n    this.contractTrigger.removeEventListener('scroll', this.setupListeners);\n  }\n\n  getSize = (): Size => ({\n    height: this.rootNode.clientHeight,\n    width: this.rootNode.clientWidth,\n  })\n\n  setupListeners() {\n    const size = this.getSize();\n    const { width, height } = size;\n\n    this.expandNotifier.style.width = `${width + SCROLL_OFFSET}px`;\n    this.expandNotifier.style.height = `${height + SCROLL_OFFSET}px`;\n\n    this.updateScrolling(size);\n\n    const { onSizeChange } = this.props;\n    onSizeChange(size);\n  }\n\n  createListeners() {\n    this.triggersRoot = document.createElement('div');\n    Object.assign(this.triggersRoot.style, styles.triggersRoot);\n    this.rootNode!.appendChild(this.triggersRoot);\n\n    this.expandTrigger = document.createElement('div');\n    Object.assign(this.expandTrigger.style, styles.expandTrigger);\n    this.expandTrigger.addEventListener('scroll', this.setupListeners);\n    this.triggersRoot.appendChild(this.expandTrigger);\n\n    this.expandNotifier = document.createElement('div');\n    this.expandTrigger.appendChild(this.expandNotifier);\n\n    this.contractTrigger = document.createElement('div');\n    Object.assign(this.contractTrigger.style, styles.contractTrigger);\n    this.contractTrigger.addEventListener('scroll', this.setupListeners);\n    this.triggersRoot.appendChild(this.contractTrigger);\n\n    this.contractNotifier = document.createElement('div');\n    Object.assign(this.contractNotifier.style, styles.contractNotifier);\n    this.contractTrigger.appendChild(this.contractNotifier);\n  }\n\n  updateScrolling(size) {\n    const { width, height } = size;\n    this.contractTrigger.scrollTop = height;\n    this.contractTrigger.scrollLeft = width;\n    this.expandTrigger.scrollTop = SCROLL_OFFSET;\n    this.expandTrigger.scrollLeft = SCROLL_OFFSET;\n  }\n\n  render() {\n    const {\n      onSizeChange,\n      containerComponent: Container,\n      style,\n      scrollTop,\n      scrollLeft,\n      ...restProps\n    } = this.props;\n\n    return (\n      <Container // NOTE: should have `position: relative`\n        forwardedRef={this.rootRef}\n        style={style ? { ...styles.root, ...style } : styles.root}\n        {...restProps}\n      />\n    );\n  }\n}\n", "import * as React from 'react';\n\ntype RenderComponentProps = {\n  update: () => void;\n};\n\n/*** A function that creates a new component that allows you to pass additional properties\n * to the wrapped component.\n */\nexport const connectProps = (\n  WrappedComponent: React.ComponentType<any>, getAdditionalProps: () => object,\n): React.ComponentType<any> & { update(): void } => {\n  let storedAdditionalProps = getAdditionalProps();\n  const components = new Set<React.Component>();\n  class RenderComponent extends React.PureComponent<RenderComponentProps> {\n    static update: () => void;\n\n    componentDidMount() {\n      components.add(this);\n    }\n\n    componentWillUnmount() {\n      components.delete(this);\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} {...storedAdditionalProps} />;\n    }\n  }\n  RenderComponent.update = () => {\n    storedAdditionalProps = getAdditionalProps();\n    Array.from(components.values()).forEach(component => component.forceUpdate());\n  };\n  return RenderComponent;\n};\n", "import { CreateStateHelperFn } from '../types';\n\n/** @internal */\nexport const createStateHelper: CreateStateHelperFn = (\n  component, controlledStateProperties = {},\n) => {\n  const notifyStateChange = (nextState, state) => {\n    Object.keys(controlledStateProperties).forEach((propertyName) => {\n      const changeEvent = controlledStateProperties[propertyName]();\n      if (changeEvent && nextState[propertyName] !== state[propertyName]) {\n        changeEvent(nextState[propertyName]);\n      }\n    });\n  };\n\n  let lastStateUpdater: (state) => void;\n  let initialState = null;\n  let lastInitialState = null;\n  let newState = null;\n  let shouldNotify = false;\n\n  const applyReducer = (reduce, payload?, callback?) => {\n    const stateUpdater = (prevState) => {\n      if (initialState === null) {\n        initialState = prevState;\n      }\n      const stateChange = reduce({ ...prevState }, payload);\n      const state = { ...prevState, ...stateChange };\n\n      if (typeof callback === 'function') {\n        callback(state, prevState);\n      }\n      if (stateUpdater === lastStateUpdater) {\n        if (lastInitialState !== initialState) {\n          newState = state;\n          if (!shouldNotify) {\n            lastInitialState = initialState;\n            shouldNotify = true;\n          }\n        }\n        initialState = null;\n      }\n\n      return stateChange;\n    };\n    lastStateUpdater = stateUpdater;\n\n    component.setState(stateUpdater, () => {\n      if (shouldNotify) {\n        notifyStateChange(newState, lastInitialState);\n        shouldNotify = false;\n      }\n    });\n  };\n  const applyFieldReducer = (field, reduce, payload) => {\n    applyReducer(state => ({\n      [field]: reduce(state[field], payload),\n    }));\n  };\n\n  return {\n    applyReducer,\n    applyFieldReducer,\n  };\n};\n", "import * as React from 'react';\n\nconst makeBoundComponent = (Target, components, exposed: object) => {\n  class Component extends React.PureComponent {\n    static components: PluginComponents;\n\n    render() {\n      return <Target {...components} {...this.props} />;\n    }\n  }\n  Component.components = Target.components;\n  Object.assign(Component, exposed);\n  return Component;\n};\n\nexport type PluginComponents = { [key: string]: string };\nexport interface ITargetComponent {\n  components: PluginComponents;\n}\n// type ITargetComponentStatic = new() => ITargetComponent;\n\n/** @internal */\nexport const withComponents = components => (Target) => {\n  const props = {};\n  const exposed = {};\n  const targetComponents = (Target as ITargetComponent).components;\n\n  Object.entries(targetComponents).forEach(([fieldName, componentName]: [string, string]) => {\n    const component = components[componentName];\n    if (component && component !== Target[componentName]) {\n      props[fieldName] = component;\n    }\n    exposed[componentName] = component || Target[componentName];\n  });\n\n  return Object.keys(props).length > 0\n    ? makeBoundComponent(Target, props, exposed) : Target;\n};\n", "/* globals Element */\n// tslint:disable-next-line\nimport PropTypes from 'prop-types';\n\n/** @internal */\nexport const RefType = PropTypes.shape({\n  current: PropTypes.instanceOf((typeof Element !== 'undefined') ? Element : Object),\n});\n", null, null, null, null, "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import moment from 'moment';\nimport { CustomFunction, PureComputed } from '@devexpress/dx-core';\nimport { RRule, RRuleSet } from 'rrule';\nimport {\n  ComputedHelperFn, ViewPredicateFn,\n  CalculateFirstDateOfWeekFn, AppointmentMoment,\n  Interval, Rect, AppointmentKey,\n} from './types';\n\nexport const computed: ComputedHelperFn = (getters, viewName, baseComputed, defaultValue) => {\n  if (getters.currentView.name !== viewName && !!defaultValue) {\n    return defaultValue;\n  }\n  return baseComputed(getters, viewName);\n};\n\nexport const toPercentage: PureComputed<\n  [number, number]\n> = (value, total) => (value * 100) / total;\n\nconst createExcludedInterval: CustomFunction<\n  [number, moment.Moment], Interval\n> = (day, start) => {\n  const leftBound = moment(start.day(day));\n  return [\n    leftBound,\n    moment(leftBound).hour(start.hour()).endOf('day'),\n  ];\n};\n\nexport const excludedIntervals: PureComputed<\n  [number[], moment.Moment], Interval[]\n> = (excludedDays, start) => excludedDays\n  .map(day => (day === 0 ? 7 : day))\n  .sort((a, b) => a - b)\n  .reduce((acc, day, i, allDays) => {\n    if (i && day === allDays[i - 1] + 1) {\n      acc[acc.length - 1][1].day(day);\n    } else {\n      acc.push(createExcludedInterval(day, start));\n    }\n    return acc;\n  }, [] as Interval[]);\n\nconst inInterval = (\n  date: moment.Moment, interval: Interval,\n) => date.isBetween(interval[0], interval[1], undefined, '[]');\n\nexport const viewPredicate: ViewPredicateFn = (\n  appointment, left, right,\n  excludedDays = [],\n  removeAllDayAppointments = false,\n) => {\n  const { start, end } = appointment;\n  const isAppointmentInBoundary = end.isAfter(left as Date)\n    && start.isBefore(right as Date);\n\n  const isAppointmentInExcludedDays = !!excludedIntervals(excludedDays, moment(left as Date))\n    .find(interval => (inInterval(start, interval) && inInterval(end, interval)));\n  const considerAllDayAppointment = removeAllDayAppointments\n    ? moment(end).diff(start, 'hours') < 24 && !appointment.allDay\n    : true;\n\n  return isAppointmentInBoundary && !isAppointmentInExcludedDays && considerAllDayAppointment;\n};\n\nexport const calculateFirstDateOfWeek: CalculateFirstDateOfWeekFn = (\n  currentDate, firstDayOfWeek, excludedDays = [],\n) => {\n  const currentLocale = moment.locale();\n  moment.updateLocale('tmp-locale', {\n    week: { dow: firstDayOfWeek, doy: 1 }, // `doy` is required for TS using\n  });\n  const firstDateOfWeek = moment(currentDate as Date).startOf('week');\n  if (excludedDays.indexOf(firstDayOfWeek) !== -1) {\n    excludedDays.slice().sort().forEach((day) => {\n      if (day === firstDateOfWeek.day()) {\n        firstDateOfWeek.add(1, 'days');\n      }\n    });\n  }\n  moment.locale(currentLocale);\n\n  return firstDateOfWeek.toDate();\n};\n\nexport const getAppointmentStyle: PureComputed<\n  [Rect], React.CSSProperties\n> = ({\n  top, left,\n  width, height,\n}) => {\n  const transform = `translateY(${top}px)` as any;\n  return ({\n    height,\n    width: `${width}%`,\n    transform,\n    msTransform: transform,\n    left: `${left}%`,\n    position: 'absolute',\n  });\n};\n\nconst expandRecurrenceAppointment = (\n  appointment: AppointmentMoment, leftBound: Date, rightBound: Date,\n) => {\n  const rightBoundUTC = moment(getUTCDate(rightBound)).toDate();\n  const leftBoundUTC = moment(getUTCDate(leftBound)).toDate();\n  const appointmentStartDate = moment(appointment.start).toDate();\n  const options = {\n    ...RRule.parseString(appointment.rRule),\n    dtstart: moment(getUTCDate(appointmentStartDate)).toDate(),\n  };\n  const correctedOptions = options.until\n    ? { ...options, until: moment(getUTCDate(options.until)).toDate() }\n    : options;\n\n  const rruleSet = getRRuleSetWithExDates(appointment.exDate);\n\n  rruleSet.rrule(new RRule(correctedOptions));\n\n  // According to https://github.com/jakubroztocil/rrule#important-use-utc-dates\n  // we have to format the dates we get from RRuleSet to get local dates\n  const datesInBoundaries = rruleSet.between(leftBoundUTC as Date, rightBoundUTC as Date, true)\n    .map(formatDateToString);\n  if (datesInBoundaries.length === 0) return [];\n\n  const appointmentDuration = moment(appointment.end)\n    .diff(appointment.start, 'minutes');\n\n  return datesInBoundaries.map((startDate, index) => ({\n    ...appointment,\n    dataItem: {\n      ...appointment.dataItem,\n      startDate: moment(startDate).toDate(),\n      endDate: moment(startDate).add(appointmentDuration, 'minutes').toDate(),\n      parentData: appointment.dataItem,\n    },\n    start: moment(startDate),\n    end: moment(startDate).add(appointmentDuration, 'minutes'),\n    key: `${appointment.key}_rec_${index}`,\n  }));\n};\n\nexport const filterByViewBoundaries: PureComputed<\n  [AppointmentMoment, Date, Date, number[], boolean], AppointmentMoment[]\n> = (appointment, leftBound, rightBound, excludedDays, removeAllDay) => {\n  let appointments = [appointment];\n  if (appointment.rRule) {\n    appointments = expandRecurrenceAppointment(\n      appointment as AppointmentMoment, leftBound as Date, rightBound as Date,\n    );\n  }\n  return appointments.filter(appt => viewPredicate(\n    appt, leftBound, rightBound, excludedDays, removeAllDay,\n  ));\n};\n\nexport const getUTCDate: PureComputed<[Date], number> = date =>\n  Date.UTC(\n    date.getFullYear(),\n    date.getMonth(),\n    date.getDate(),\n    date.getHours(),\n    date.getMinutes(),\n);\n\nexport const getRRuleSetWithExDates: PureComputed<\n  [string | undefined], RRuleSet\n> = (exDate) => {\n  const rruleSet = new RRuleSet();\n  if (exDate) {\n    exDate.split(',').map((date: string) => {\n      const currentExDate = moment(date).toDate();\n      rruleSet.exdate(moment(getUTCDate(currentExDate)).toDate());\n    });\n  }\n  return rruleSet;\n};\n\nexport const formatDateToString = (date: Date | string | number) => moment.utc(date).format('YYYY-MM-DDTHH:mm');\n\nexport const addDateToKey: PureComputed<\n  [AppointmentKey, moment.Moment], AppointmentKey\n> = (prevKey, momentDate) => `${prevKey}_${momentDate.toDate().toString()}`;\n", "import { GroupOrientation } from './types';\n\nexport const VERTICAL_TYPE = 'vertical';\nexport const HORIZONTAL_TYPE = 'horizontal';\n\nexport const SCROLL_OFFSET = 50;\nexport const SCROLL_SPEED_PX = 15;\n\nexport const SECONDS = 'seconds';\nexport const MINUTES = 'minutes';\nexport const HOURS = 'hours';\n\nexport const RESIZE_TOP = 'resize-start';\nexport const RESIZE_BOTTOM = 'resize-end';\n\nexport const POSITION_START = 'start';\nexport const POSITION_END = 'end';\n\nexport const AUTO_HEIGHT = 'auto';\n\nexport const DAY_OPTIONS = { day: 'numeric' } as const;\nexport const WEEK_DAY_OPTIONS = { weekday: 'short' } as const;\nexport const SHORT_MONTH_OPTIONS = { month: 'short' } as const;\nexport const HOUR_MINUTE_OPTIONS = { hour: 'numeric', minute: 'numeric' } as const;\nexport const MONTH_YEAR_OPTIONS = { month: 'long', year: 'numeric' } as const;\nexport const DAY_SHORT_MONTH_OPTIONS = { day: 'numeric', month: 'short' } as const;\nexport const SHORT_MONTH_LONG_YEAR_OPTIONS = { month: 'short', year: 'numeric' } as const;\nexport const SHORT_MONTH_SHORT_YEAR_OPTIONS = { month: 'short', year: '2-digit' } as const;\nexport const DAY_LONG_MONTH_LONG_YEAR_OPTIONS = {\n  day: 'numeric', month: 'long', year: 'numeric',\n} as const;\nexport const DAY_SHORT_MONTH_LONG_YEAR_OPTIONS = {\n  day: 'numeric', month: 'short', year: 'numeric',\n} as const;\nexport const DAY_SHORT_MONTH_SHORT_YEAR_OPTIONS = {\n  day: 'numeric', month: 'short', year: '2-digit',\n} as const;\nexport const LONG_WEEK_DAY_OPTIONS = { weekday: 'long' } as const;\nexport const LONG_MONTH_OPTIONS = { month: 'long' } as const;\nexport const DAY_LONG_MONTH_OPTIONS = { day: 'numeric', month: 'long' } as const;\nexport const EMPTY_OPTIONS = {} as const;\n\nexport const RECURRENCE_EDIT_SCOPE = {\n  ALL: 'all',\n  CURRENT_AND_FOLLOWING: 'currentAndFollowing',\n  CURRENT: 'current',\n} as const;\n\nexport const TOGGLE_APPOINTMENT_FORM_VISIBILITY = 'toggleAppointmentFormVisibility';\nexport const TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY = 'toggleAppointmentTooltipVisibility';\n\nexport const WEEKDAY_INTERVAL = 'weekdayInterval';\n\nexport const VERTICAL_VIEW_LEFT_OFFSET = 80;\nexport const HORIZONTAL_VIEW_LEFT_OFFSET = 0;\n\nexport const VERTICAL_GROUP_ORIENTATION = 'Vertical' as GroupOrientation;\nexport const HORIZONTAL_GROUP_ORIENTATION = 'Horizontal' as GroupOrientation;\n\nexport const VIEW_TYPES = {\n  MONTH: 'month',\n  WEEK: 'week',\n  DAY: 'day',\n  ALL_DAY_PANEL: 'allDayPanel',\n} as const;\n", "import moment from 'moment';\nimport { PureComputed } from '@devexpress/dx-core';\nimport {\n  VERTICAL_TYPE, HORIZONTAL_TYPE, DAY_OPTIONS, SHORT_MONTH_OPTIONS,\n  DAY_SHORT_MONTH_OPTIONS, SHORT_MONTH_LONG_YEAR_OPTIONS,\n  SHORT_MONTH_SHORT_YEAR_OPTIONS, MONTH_YEAR_OPTIONS,\n  DAY_LONG_MONTH_LONG_YEAR_OPTIONS, DAY_SHORT_MONTH_SHORT_YEAR_OPTIONS,\n  DAY_SHORT_MONTH_LONG_YEAR_OPTIONS, LONG_WEEK_DAY_OPTIONS, EMPTY_OPTIONS,\n  WEEKDAY_INTERVAL,\n} from '../../constants';\nimport {\n  ViewBoundTextFn, FormatterFn, ViewCell,\n  AppointmentMoment, Group, SchedulerDateTime, CellElementsMeta,\n} from '../../types';\n\nconst MONTH_TYPE = 'month';\n\nexport const getViewType: PureComputed<[string], string> = (currentViewType) => {\n  if (currentViewType === MONTH_TYPE) return HORIZONTAL_TYPE;\n  return VERTICAL_TYPE;\n};\n\nexport const isMidnight: PureComputed<\n  [Date], boolean\n> = (date) => {\n  const momentDate = moment(date as Date);\n  return momentDate.hours() === 0 && momentDate.minutes() === 0 && momentDate.seconds() === 0;\n};\n\nconst calculateTextByDays: PureComputed<\n  [Date, Date, FormatterFn, object], string\n> = (startViewDate, endViewDate, formatDate, additionalOptions) => {\n  const momentStartViewDate = moment(startViewDate as Date);\n  const momentEndViewDate = moment(endViewDate as Date);\n\n  if (momentStartViewDate.isSame(momentEndViewDate, 'day')) {\n    return formatDate(momentStartViewDate.toDate(), {\n      ...DAY_LONG_MONTH_LONG_YEAR_OPTIONS, ...additionalOptions,\n    });\n  }\n  if (momentStartViewDate.isSame(momentEndViewDate, 'year')) {\n    if (momentStartViewDate.isSame(momentEndViewDate, 'month')) {\n      return `${\n        formatDate(momentStartViewDate.toDate(), DAY_OPTIONS)\n      }-${\n        formatDate(momentEndViewDate.toDate(), DAY_OPTIONS)\n      } ${\n        formatDate(momentEndViewDate.toDate(), MONTH_YEAR_OPTIONS)\n      }`;\n    }\n    return `${\n      formatDate(momentStartViewDate.toDate(), DAY_SHORT_MONTH_OPTIONS)\n    } - ${\n      formatDate(momentEndViewDate.toDate(), DAY_SHORT_MONTH_LONG_YEAR_OPTIONS)\n    }`;\n  }\n  return `${\n    formatDate(momentStartViewDate.toDate(), DAY_SHORT_MONTH_SHORT_YEAR_OPTIONS)\n  } - ${\n    formatDate(momentEndViewDate.toDate(), DAY_SHORT_MONTH_SHORT_YEAR_OPTIONS)\n  }`;\n};\n\nconst calculateTextByMonths: PureComputed<\n  [Date, number, FormatterFn], string\n> = (currentDate, intervalCount, formatDate) => {\n  const momentCurrentDate = moment(currentDate as Date);\n\n  if (intervalCount === 1) {\n    return formatDate(momentCurrentDate.toDate(), MONTH_YEAR_OPTIONS);\n  }\n  const lastMonth = momentCurrentDate.clone().add(intervalCount - 1, 'month');\n  if (momentCurrentDate.isSame(lastMonth, 'year')) {\n    return `${\n      formatDate(momentCurrentDate.toDate(), SHORT_MONTH_OPTIONS)\n    }-${\n      formatDate(lastMonth.toDate(), SHORT_MONTH_LONG_YEAR_OPTIONS)\n    }`;\n  }\n  return `${\n    formatDate(momentCurrentDate.toDate(), SHORT_MONTH_SHORT_YEAR_OPTIONS)\n  } - ${\n    formatDate(lastMonth.toDate(), SHORT_MONTH_SHORT_YEAR_OPTIONS)\n  }`;\n};\n\nexport const viewBoundText: ViewBoundTextFn = (\n  startViewDate, endViewDate, type, currentDate, intervalCount, formatDate,\n) => (type !== 'month'\n  ? calculateTextByDays(\n    startViewDate, endViewDate, formatDate,\n    type === WEEKDAY_INTERVAL ? LONG_WEEK_DAY_OPTIONS : EMPTY_OPTIONS,\n  )\n  : calculateTextByMonths(currentDate, intervalCount, formatDate)\n);\n\nexport const checkCellGroupingInfo: PureComputed<\n  [ViewCell, AppointmentMoment], boolean\n> = (cell, appointment) => cell.groupingInfo\n  ? cell.groupingInfo.every((group: Group) => (\n    group.id === appointment[group.fieldName]\n  ))\n  : true;\n\nexport const isDateValid: PureComputed<\n  [Date], boolean\n> = date => moment(date as Date).isValid();\n\nexport const convertToMoment: PureComputed<\n  [SchedulerDateTime], moment.Moment\n> = date => moment(date as SchedulerDateTime);\n\nexport const areDatesSame: PureComputed<\n  [SchedulerDateTime, SchedulerDateTime], boolean\n> = (firstDate, secondDate) => moment(firstDate as SchedulerDateTime)\n  .isSame(secondDate as SchedulerDateTime, 'date');\n\nexport const getTimeTableHeight: PureComputed<\n  [CellElementsMeta], number | undefined\n> = timeTableElementsMeta => timeTableElementsMeta.parentRect?.().height;\n\nexport const containsDSTChange = (date: SchedulerDateTime) => {\n  const momentDate = moment(date);\n  momentDate.startOf('day');\n  const isStartDST = momentDate.isDST();\n\n  momentDate.endOf('day');\n  const isEndDst = momentDate.isDST();\n\n  return (isStartDST && !isEndDst) || (!isStartDST && isEndDst);\n};\n", "import moment from 'moment';\nimport { PureComputed } from '@devexpress/dx-core';\nimport {\n  TimeScale, SchedulerDateTime, ViewCell,\n  DayScaleFn, TimeScaleFn, ViewCellsDataFn, AllDayCell,\n  SchedulerView,\n} from '../../types';\nimport { calculateFirstDateOfWeek } from '../../utils';\nimport {\n  isMidnight,\n  containsDSTChange,\n} from './helpers';\n\nconst subtractSecond: PureComputed<\n  [Date]\n> = date => moment(date as Date).subtract(1, 'second').toDate();\n\nexport const dayScale: DayScaleFn = (\n  currentDate,\n  firstDayOfWeek,\n  dayCount,\n  excluded = [],\n) => {\n  const result: Date[] = [];\n  const date = firstDayOfWeek !== undefined\n    ? moment(calculateFirstDateOfWeek(currentDate, firstDayOfWeek, excluded) as Date)\n    : moment(currentDate as Date);\n  for (let index = 0; index < dayCount; index += 1) {\n    if (excluded.findIndex(item => item === date.day()) === -1) {\n      result.push(date.toDate());\n    }\n    date.add(1, 'days');\n  }\n  return result;\n};\n\nexport const timeScale: TimeScaleFn = (\n  currentDate,\n  firstDayOfWeek,\n  startDayHour,\n  endDayHour,\n  cellDuration,\n  excludedDays,\n) => {\n  const result: TimeScale[] = [];\n  const startDateOfView = firstDayOfWeek !== undefined\n    ? calculateFirstDateOfWeek(currentDate, firstDayOfWeek, excludedDays)\n    : currentDate;\n\n  const isDSTChange = containsDSTChange(startDateOfView as Date);\n  const validDate = moment(startDateOfView as Date);\n  if (isDSTChange) {\n    validDate.subtract(1, 'day');\n  }\n\n  const left = moment(validDate)\n    .startOf('day')\n    .add(startDayHour, 'hour');\n  const right = moment(validDate)\n    .startOf('day')\n    .add(endDayHour, 'hour');\n\n  while (left.isBefore(right)) {\n    const startDate = left.toDate();\n    left.add(cellDuration, 'minutes');\n    result.push({ start: startDate, end: left.toDate() });\n  }\n\n  const timeScaleLastIndex = result.length - 1;\n  if (isMidnight(result[timeScaleLastIndex].end)) {\n    result[timeScaleLastIndex].end = subtractSecond(result[timeScaleLastIndex].end) as Date;\n  }\n  return result;\n};\n\nexport const availableViews: PureComputed<\n  [SchedulerView[], string, string], SchedulerView[]\n> = (views, viewName, viewDisplayName) => {\n  if (!views) return [{ name: viewName, displayName: viewDisplayName }];\n  if (views.findIndex(view => viewName === view.name) === -1) {\n    const nextViews = views.slice();\n    nextViews.push({ name: viewName, displayName: viewDisplayName });\n    return nextViews;\n  }\n  return views;\n};\n\nexport const viewCellsData: ViewCellsDataFn = (\n  currentDate, firstDayOfWeek,\n  dayCount, excludedDays,\n  startDayHour, endDayHour,\n  cellDuration, currTime,\n) => {\n  const days = dayScale(currentDate, firstDayOfWeek!, dayCount!, excludedDays);\n  const times = timeScale(\n    currentDate, firstDayOfWeek!, startDayHour, endDayHour, cellDuration, excludedDays,\n  );\n  const currentTime = moment(currTime as SchedulerDateTime);\n  return times.reduce((cellsAcc, time) => {\n    const start = moment(time.start);\n    const end = moment(time.end);\n    const rowCells = days.reduce((rowAcc, day) => {\n      const startDate = moment(day).hours(start.hours()).minutes(start.minutes()).toDate();\n      const endDate = moment(day).hours(end.hours()).minutes(end.minutes()).toDate();\n      const today = currentTime.isSame(startDate, 'day');\n      rowAcc.push({ startDate, endDate, today });\n      return rowAcc;\n    }, [] as ViewCell[]);\n    cellsAcc.push(rowCells);\n    return cellsAcc;\n  }, [] as ViewCell[][]);\n};\n\nexport const timeCellsData: PureComputed<\n  [ViewCell[][], number, number, number, number], ViewCell[][]\n> = (\n  cellsData, startDayHour, endDayHour, cellDuration, currentTime,\n) => {\n  const { startDate: firstViewDate } = cellsData[0][0];\n  if (!containsDSTChange(firstViewDate)) {\n    return cellsData;\n  }\n\n  const nextDay = moment(firstViewDate)\n    .add(1, 'day')\n    .toDate();\n  const validCellsData = viewCellsData(\n    nextDay, undefined, 1, [], startDayHour, endDayHour, cellDuration, currentTime,\n  );\n\n  return validCellsData;\n};\n\nexport const allDayCells: PureComputed<\n  [ViewCell[][]], AllDayCell[][]\n> = viewCells => [viewCells[0].map(cell => ({\n  startDate: moment(cell.startDate).startOf('day').toDate(),\n  endDate: moment(cell.startDate).add(1, 'day').startOf('day').toDate(),\n  groupingInfo: cell.groupingInfo,\n  endOfGroup: cell.endOfGroup,\n}))];\n\nexport const startViewDate: PureComputed<\n  [ViewCell[][]], Date\n> = viewCells => moment(viewCells[0][0].startDate).toDate();\n\nexport const endViewDate: PureComputed<\n  [ViewCell[][]], Date\n> = (viewCells) => {\n  const lastRowIndex = viewCells.length - 1;\n  const lastCellIndex = viewCells[lastRowIndex].length - 1;\n  return subtractSecond(viewCells[lastRowIndex][lastCellIndex].endDate!);\n};\n", "import { PureComputed, CustomFunction } from '@devexpress/dx-core';\nimport {\n  ViewCell, CellElementsMeta, GroupOrientation, AppointmentMoment,\n  AppointmentUnwrappedGroup, ViewMetaData, ElementRect, AppointmentGroup,\n  AppointmentForestRoots, CalculatedTreeNode, TreeNodeWithOverlappingSubTreeRoots,\n  TreeNodeInBlock, AppointmentBlock, IncludedBlock, BlockWithChildren, CalculatedBlock,\n  GroupedIntoBlocksForest, AppointmentIndex,\n\n  VisitRootsFn, CalculateRectByDateAndGroupIntervalsFn, CreateAppointmentForestFn,\n  VisitChildFn, VisitAllChildrenFn, IsPossibleChildFn, FindMaxReduceValueFn,\n  CalculateAppointmentsMetaDataFn, CalulateRootsMetaDataFn, CalculateChildMetaDataFn,\n  CalculateChildrenMetaDataFn, CalculateAppointmentLeftAndWidthFn, PrepareToGroupIntoBlocksFn,\n  IsOverlappingSubTreeRootFn, FindChildrenMaxEndDateFn, GroupAppointmentsIntoBlocksFn,\n  CalculateBlockSizeBEndDateFn, FindBlockIndexByAppointmentFn, FindIncludedBlocksFn,\n  IsIncludedBlockFn, FindChildBlocksFn, IsChildBlockFn, AdjustByBlocksFn,\n  CalculateBlockDimensionsFn, AlignBlocksWithPreviousFn, AdjustAppointemntsByBlocksFn,\n  RedistributeBlocksFn, CalculateIncludedBlockMaxRightFn, CalculateBlocksTotalSizeFn,\n  CalculateSingleBlockTotalSizeFn, CalculateBlocksLeftLimitFn, CalculateSingleBlockLeftLimitFn,\n  UpdateBlocksProportionsFn, UpdateBlocksLeftFn, CreateAndAdjustAppointmentForestFn,\n} from '../../types';\nimport { HORIZONTAL_GROUP_ORIENTATION, HORIZONTAL_TYPE, VERTICAL_TYPE } from '../../constants';\nimport { toPercentage } from '../../utils';\nimport moment from 'moment';\n\nconst MAX_WIDTH = 1;\nconst INDIRECT_CHILD_LEFT_OFFSET = 0.05;\n\nexport const isAllDayElementsMetaActual: PureComputed<\n  [ViewCell[][], CellElementsMeta, GroupOrientation, number], boolean\n> = (viewCellsData, allDayElementsMeta, groupOrientation, groupCount) => {\n  const numberOfRows = groupOrientation === HORIZONTAL_GROUP_ORIENTATION ? 1 : groupCount;\n  return isElementsMetaActual(viewCellsData, allDayElementsMeta, numberOfRows);\n};\n\nexport const isTimeTableElementsMetaActual: PureComputed<\n  [ViewCell[][], CellElementsMeta], boolean\n> = (viewCellsData, timeTableElementsMeta) => isElementsMetaActual(\n  viewCellsData, timeTableElementsMeta, viewCellsData.length,\n);\n\nconst isElementsMetaActual: PureComputed<\n  [ViewCell[][], CellElementsMeta, number], boolean\n> = (viewCellsData, elementsMeta, numberOfRows) => {\n  if (!elementsMeta?.getCellRects) {\n    return false;\n  }\n\n  const tableSize = numberOfRows * viewCellsData[0].length;\n  return tableSize === elementsMeta.getCellRects.length;\n};\n\nconst appointmentHeightType = (appointment: AppointmentMoment, cellDuration: number) => {\n  const durationRatio = appointment.end.clone().diff(appointment.start, 'minutes') / cellDuration;\n  if (durationRatio === 1) return 'middle';\n  if (durationRatio > 1) return 'long';\n  return 'short';\n};\n\nconst horizontalRectCalculator: CustomFunction<\n  [AppointmentUnwrappedGroup, ViewMetaData, any], ElementRect\n> = (\n  appointment,\n  viewMetaData,\n  {\n    rectByDates: getRectByAppointment,\n    multiline,\n    rectByDatesMeta: {\n      cellElementsMeta,\n      viewCellsData,\n    },\n  },\n) => {\n  const {\n    top, left,\n    width, height, parentWidth,\n  } = getRectByAppointment(\n    appointment,\n    viewMetaData,\n    {\n      multiline,\n      cellElementsMeta,\n      viewCellsData,\n    },\n  );\n\n  return {\n    resources: appointment.resources,\n    top: top + ((height / appointment.reduceValue) * appointment.offset),\n    height: height / appointment.reduceValue,\n    left: toPercentage(left, parentWidth),\n    width: toPercentage(width, parentWidth),\n    dataItem: appointment.dataItem,\n    fromPrev: appointment.fromPrev,\n    toNext: appointment.toNext,\n    type: HORIZONTAL_TYPE,\n    key: appointment.key,\n  };\n};\n\nconst verticalRectCalculator: CustomFunction<\n  [AppointmentUnwrappedGroup, ViewMetaData, any], ElementRect\n> = (\n  appointment,\n  viewMetaData,\n  {\n    rectByDates: getRectByAppointment,\n    multiline,\n    rectByDatesMeta: {\n      viewCellsData,\n      cellDuration,\n      cellElementsMeta,\n      excludedDays,\n    },\n  },\n) => {\n  const {\n    top, left,\n    width, height, parentWidth,\n  } = getRectByAppointment(\n    appointment,\n    viewMetaData,\n    {\n      multiline,\n      viewCellsData,\n      cellDuration,\n      excludedDays,\n      cellElementsMeta,\n    },\n  );\n\n  const { offset, width: relativeWidth, left: relativeLeft  } = appointment;\n  const widthMultiplier = (relativeWidth! * 5 / 3 + relativeLeft!) <= 1 ? 5 / 3 : 1;\n  let validWidth = widthMultiplier === 5 / 3\n    ? widthMultiplier * relativeWidth! : relativeWidth! + 0.02;\n  if (validWidth + relativeLeft! > 1) {\n    validWidth = 1 - relativeLeft!;\n  }\n\n  return {\n    resources: appointment.resources,\n    top,\n    height,\n    left: toPercentage(left + relativeLeft! * width, parentWidth),\n    width: toPercentage(validWidth! * width, parentWidth),\n    dataItem: appointment.dataItem,\n    fromPrev: appointment.fromPrev,\n    toNext: appointment.toNext,\n    durationType: appointmentHeightType(appointment, cellDuration),\n    type: VERTICAL_TYPE,\n    offset,\n    key: appointment.key,\n  };\n};\n\nconst oldVerticalRectCalculator: CustomFunction<\n  [AppointmentUnwrappedGroup, ViewMetaData, any], ElementRect\n> = (\n  appointment,\n  viewMetaData,\n  {\n    rectByDates: getRectByAppointment,\n    multiline,\n    rectByDatesMeta: {\n      viewCellsData,\n      cellDuration,\n      cellElementsMeta,\n      excludedDays,\n      placeAppointmentsNextToEachOther,\n    },\n  },\n) => {\n  const {\n    top, left,\n    width, height, parentWidth,\n  } = getRectByAppointment(\n    appointment,\n    viewMetaData,\n    {\n      multiline,\n      viewCellsData,\n      cellDuration,\n      excludedDays,\n      cellElementsMeta,\n      placeAppointmentsNextToEachOther,\n    },\n  );\n\n  const widthInPx = width / appointment.reduceValue;\n\n  return {\n    resources: appointment.resources,\n    top,\n    height,\n    left: toPercentage(left + (widthInPx * appointment.offset), parentWidth),\n    width: toPercentage(widthInPx, parentWidth),\n    dataItem: appointment.dataItem,\n    fromPrev: appointment.fromPrev,\n    toNext: appointment.toNext,\n    durationType: appointmentHeightType(appointment, cellDuration),\n    type: VERTICAL_TYPE,\n    key: appointment.key,\n  };\n};\n\nconst compareByDay: PureComputed<\n  [AppointmentMoment, AppointmentMoment], number\n> = (first, second) => {\n  if (first.start.isBefore(second.start, 'day')) return -1;\n  if (first.start.isAfter(second.start, 'day')) return 1;\n  return 0;\n};\n\nconst compareByAllDay: PureComputed<\n  [AppointmentMoment, AppointmentMoment], number\n> = (first, second) => {\n  if (first.allDay && !second.allDay) return -1;\n  if (!first.allDay && second.allDay) return 1;\n  return 0;\n};\n\nconst compareByTime: PureComputed<\n  [AppointmentMoment, AppointmentMoment], number\n> = (first, second) => {\n  if (first.start.isBefore(second.start)) return -1;\n  if (first.start.isAfter(second.start)) return 1;\n  if (first.end.isBefore(second.end)) return 1;\n  if (first.end.isAfter(second.end)) return -1;\n  return 0;\n};\n\nexport const sortAppointments: PureComputed<\n  [AppointmentMoment[]], AppointmentMoment[]\n> = appointments => appointments\n  .slice().sort((a, b) => compareByDay(a, b) || compareByAllDay(a, b) || compareByTime(a, b));\n\nconst byDayPredicate: PureComputed<\n  [moment.Moment, moment.Moment], boolean\n> = (boundary, date) => (\n  boundary.isSameOrAfter(date, 'day')\n  && !boundary.isSame(boundary.clone().startOf('day'))\n);\n\nexport const findOverlappedAppointments: CustomFunction<\n  [AppointmentMoment[], boolean], any[]\n> = (sortedAppointments, byDay = false) => {\n  const appointments = sortedAppointments.slice();\n  const groups: AppointmentMoment[][] = [];\n  let totalIndex = 0;\n\n  while (totalIndex < appointments.length) {\n    groups.push([]);\n    const current = appointments[totalIndex];\n    const currentGroup = groups[groups.length - 1];\n    let next = appointments[totalIndex + 1];\n    let maxBoundary = current.end;\n\n    currentGroup.push(current);\n    totalIndex += 1;\n    while (next && (maxBoundary.isAfter(next.start)\n      || (byDay && byDayPredicate(maxBoundary, next.start)))) {\n      currentGroup.push(next);\n      if (maxBoundary.isBefore(next.end)) maxBoundary = next.end;\n      totalIndex += 1;\n      next = appointments[totalIndex];\n    }\n  }\n  return groups;\n};\n\nconst isMidnight: PureComputed<\n  [moment.Moment], boolean\n> = date => date.isSame(date.clone().startOf('day'));\n\nconst maxBoundaryPredicate: PureComputed<\n  [moment.Moment, Date], boolean\n> = (maxBoundary, startDate) => ((maxBoundary.isBefore(startDate as Date, 'day'))\n  || (isMidnight(maxBoundary) && maxBoundary.isSame(startDate as Date, 'day')));\n\nexport const calculateAppointmentOffsets: CustomFunction<\n  [any[], boolean], AppointmentGroup[]\n> = (groups, byDay = false) => groups.map((items) => {\n  let offset = 0;\n  let reduceValue = 1;\n  const appointments = items.map((appointment: any) => ({ ...appointment }));\n  const groupLength = appointments.length;\n  for (let startIndex = 0; startIndex < groupLength; startIndex += 1) {\n    const appointment = appointments[startIndex];\n    if (appointment.offset === undefined) {\n      let maxBoundary = appointment.end;\n      appointment.offset = offset;\n      for (let index = startIndex + 1; index < groupLength; index += 1) {\n        if (appointments[index].offset === undefined) {\n          if ((!byDay && maxBoundary.isSameOrBefore(appointments[index].start))\n            || (byDay && maxBoundaryPredicate(maxBoundary, appointments[index].start))) {\n            maxBoundary = appointments[index].end;\n            appointments[index].offset = offset;\n          }\n        }\n      }\n\n      offset += 1;\n      if (reduceValue < offset) reduceValue = offset;\n    }\n  }\n  return { items: appointments, reduceValue };\n});\n\nconst unwrapAppointmentForest: PureComputed<\n  [GroupedIntoBlocksForest[]], AppointmentUnwrappedGroup[]\n> = (appointmentForests) => {\n  const forestUnwrapped = appointmentForests.map(({ items, reduceValue }) => ({\n    reduceValue,\n    items: items.map(({ data }) => ({ ...data })),\n  }));\n  return unwrapGroups(forestUnwrapped);\n};\n\nexport const unwrapGroups: PureComputed<\n  [AppointmentGroup[]], AppointmentUnwrappedGroup[]\n> = groups => groups.reduce((acc, { items, reduceValue }) => {\n  acc.push(...items.map(({ start, end, dataItem, offset, resources, key, ...restProps }) => ({\n    start, end, dataItem, offset, reduceValue, resources,\n    fromPrev: moment(start).diff(dataItem.startDate, 'minutes') > 1,\n    toNext: moment(dataItem.endDate).diff(end, 'minutes') > 1,\n    key,\n    ...restProps,\n  })));\n  return acc;\n}, [] as AppointmentUnwrappedGroup[]);\n\nexport const intervalIncludes: PureComputed<\n  [moment.Moment, moment.Moment, moment.Moment], boolean\n> = (intervalStart, intervalEnd, date) => date\n  .isBetween(intervalStart, intervalEnd, undefined, '[)');\n\nexport const createAppointmentForest: CreateAppointmentForestFn = (\n  appointmentGroups, cellDuration,\n) => appointmentGroups.map((appointmentGroup) => {\n  const { items } = appointmentGroup;\n  let nextItems;\n  let roots;\n  if (items.length === 1) {\n    nextItems = [{\n      data: items[0], children: [], treeDepth: 0, isDirectChild: false, hasDirectChild: false,\n    }];\n    roots = [0];\n  } else {\n    const {\n      appointments, roots: appointmentTreeRoots,\n    } = visitRoots(items, cellDuration) as AppointmentForestRoots;\n    nextItems = appointments;\n    roots = appointmentTreeRoots;\n  }\n  return {\n    ...appointmentGroup,\n    items: nextItems,\n    roots,\n  };\n});\n\nconst visitRoots: VisitRootsFn = (appointmentItems, cellDuration) => {\n  const appointmentNodes: any[] = appointmentItems.map(props => ({\n    data: props,\n  }));\n\n  const roots = appointmentNodes.reduce((acc, appointment, appointmentIndex) => {\n    const { offset: appointmentOffset } = appointment.data;\n\n    if (appointmentOffset === 0) {\n      if (appointmentIndex + 1 === appointmentNodes.length) {\n        appointment.children = [];\n        appointment.hasDirectChild = false;\n        appointment.treeDepth = 0;\n      } else {\n        appointment.treeDepth = visitAllChildren(\n          appointmentNodes, appointmentIndex, cellDuration, 0,\n        );\n      }\n\n      appointment.parent = undefined;\n      appointment.isDirectChild = false;\n      return [...acc, appointmentIndex];\n    }\n    return acc;\n  }, []);\n  return { appointments: appointmentNodes, roots };\n};\n\nconst visitChild: VisitChildFn = (\n  appointmentNodes, index, parentAppointmentIndex, cellDuration, isDirectChild, treeDepth,\n) => {\n  const appointmentNode = appointmentNodes[index];\n  appointmentNode.isDirectChild = isDirectChild;\n  appointmentNode.parent = parentAppointmentIndex;\n  const nextTreeDepth = treeDepth + 1;\n  const { end } = appointmentNode.data;\n\n  if (index === appointmentNodes.length - 1\n    || end.isSameOrBefore(appointmentNodes[index + 1].data.start)) {\n    appointmentNode.children = [];\n    appointmentNode.treeDepth = 0;\n    appointmentNode.hasDirectChild = false;\n    return nextTreeDepth;\n  }\n\n  const calculatedTreeDepth = visitAllChildren(\n    appointmentNodes, index, cellDuration, treeDepth,\n  );\n\n  appointmentNode.treeDepth = calculatedTreeDepth;\n  return calculatedTreeDepth + 1;\n};\n\nconst visitAllChildren: VisitAllChildrenFn = (\n  appointmentNodes, appointmentIndex, cellDuration, treeDepth,\n) => {\n  const appointment = appointmentNodes[appointmentIndex];\n  const { end, offset: appointmentOffset, start } = appointment.data;\n  const directChildTimeLimit = moment(start).add(cellDuration, 'minutes');\n  let maxAppointmentTreeDepth = 0;\n  const children = [] as AppointmentIndex[];\n\n  let nextChildIndex = appointmentIndex + 1;\n  while (isPossibleChild(appointmentNodes, nextChildIndex, end, appointmentOffset)) {\n    const nextAppointment = appointmentNodes[nextChildIndex];\n    const { offset: nextOffset, start: nextStart } = nextAppointment.data;\n\n    if (nextOffset === appointmentOffset + 1) {\n      const isDirectChild = intervalIncludes(start, directChildTimeLimit, nextStart);\n      const nextTreeDepth = visitChild(\n        appointmentNodes, nextChildIndex, appointmentIndex, cellDuration, isDirectChild, treeDepth,\n      );\n\n      if (maxAppointmentTreeDepth < nextTreeDepth) {\n        maxAppointmentTreeDepth = nextTreeDepth;\n      }\n      children.push(nextChildIndex);\n    }\n    nextChildIndex += 1;\n  }\n  appointment.hasDirectChild = children.length !== 0 && appointmentNodes[children[0]].isDirectChild;\n  appointment.children = children;\n\n  return maxAppointmentTreeDepth;\n};\n\nexport const isPossibleChild: IsPossibleChildFn = (\n  appointments, possibleChildIndex, parentEnd, parentOffset,\n) => {\n  const possibleChild = appointments[possibleChildIndex];\n  return (\n    possibleChildIndex < appointments.length\n    && possibleChild.data.offset !== parentOffset\n    && possibleChild.data.start.isBefore(parentEnd)\n  );\n};\n\nexport const findMaxReduceValue: FindMaxReduceValueFn =\n  appointmentGroups => appointmentGroups.reduce((maxReduceValue, group) => {\n    const currentReduceValue = group.reduceValue;\n    return maxReduceValue > currentReduceValue ? maxReduceValue : currentReduceValue;\n  }, 1);\n\nexport const calculateAppointmentsMetaData: CalculateAppointmentsMetaDataFn = (\n  appointmentGroups, indirectChildLeftOffset,\n) => appointmentGroups.map((appointmentForest) => {\n  const { items, roots } = appointmentForest;\n  const firstNode = items[0];\n  return {\n    ...appointmentForest,\n    items: items.length === 1\n      ? [{\n        ...firstNode,\n        data: {\n          ...firstNode.data,\n          left: 0,\n          width: 1,\n        },\n      }]\n      : calculateRootsMetaData(items, roots, indirectChildLeftOffset) as CalculatedTreeNode[],\n  };\n});\n\nconst calculateRootsMetaData: CalulateRootsMetaDataFn = (\n  appointmentNodes, roots, indirectChildLeftOffset,\n) => {\n  const appointments = appointmentNodes.map(props => ({ ...props })) as CalculatedTreeNode[];\n\n  roots.forEach((appointmentIndex) => {\n    const appointment = appointments[appointmentIndex];\n    const { left, width } = calculateAppointmentLeftAndWidth(\n      appointments, undefined, appointment, MAX_WIDTH, indirectChildLeftOffset, undefined,\n    );\n    appointment.data.left = left;\n    appointment.data.width = width;\n    calculateChildrenMetaData(appointments, appointment, MAX_WIDTH, indirectChildLeftOffset);\n  });\n  return appointments;\n};\n\nconst calculateChildMetaData: CalculateChildMetaDataFn = (\n  appointmentNodes, appointmentIndex, maxWidth, indirectChildLeftOffset,\n) => {\n  const appointment = appointmentNodes[appointmentIndex];\n  const { left, width } = calculateAppointmentLeftAndWidth(\n    appointmentNodes, undefined, appointment, maxWidth, indirectChildLeftOffset, undefined,\n  );\n  appointment.data.left = left;\n  appointment.data.width = width;\n\n  calculateChildrenMetaData(\n    appointmentNodes, appointment, maxWidth, indirectChildLeftOffset,\n  );\n};\n\nconst calculateChildrenMetaData: CalculateChildrenMetaDataFn = (\n  appointmentNodes, appointmentNode, maxWidth, indirectChildLeftOffset,\n) => {\n  appointmentNode.children.forEach((childIndex) => {\n    calculateChildMetaData(appointmentNodes, childIndex, maxWidth, indirectChildLeftOffset);\n  });\n};\n\nexport const calculateAppointmentLeftAndWidth: CalculateAppointmentLeftAndWidthFn = (\n  appointmentNodes, blocks, appointmentNode, maxRight, indirectChildLeftOffset, defaultLeft,\n) => {\n  const {\n    hasDirectChild, treeDepth, isDirectChild, parent: parentIndex, children, blockIndex,\n  } = appointmentNode as TreeNodeInBlock;\n  const firstChild = appointmentNodes[children[0]];\n  const firstChildBlockIndex = (firstChild as TreeNodeInBlock)?.blockIndex;\n\n  const hasDirectChildAndInSameBlock = hasDirectChild\n    && (firstChildBlockIndex === undefined || (blockIndex === firstChildBlockIndex\n      || blocks![firstChildBlockIndex].includedInto === blockIndex\n      || maxRight === 1));\n\n  if (parentIndex === undefined) {\n    return ({\n      width: hasDirectChildAndInSameBlock ? maxRight / (treeDepth + 1) : maxRight,\n      left: 0,\n    });\n  }\n\n  const parent = appointmentNodes[parentIndex];\n  const {\n    width: parentWidth,\n    left: parentLeft,\n  } = parent.data;\n  const calculatedLeft = isDirectChild\n    ? parentLeft + parentWidth : parentLeft + indirectChildLeftOffset;\n  const left = defaultLeft !== undefined ? Math.max(defaultLeft, calculatedLeft) : calculatedLeft;\n  const unoccupiedSpace = maxRight - left;\n\n  return ({\n    width: hasDirectChildAndInSameBlock ? unoccupiedSpace / (treeDepth + 1) : unoccupiedSpace,\n    left,\n  });\n};\n\nexport const prepareToGroupIntoBlocks: PrepareToGroupIntoBlocksFn =\n  appointments => appointments.map((appointmentForest) => {\n    const { items: nodes } = appointmentForest;\n    const appointmentNodes = nodes.map(props => ({\n      ...props,\n    })) as TreeNodeWithOverlappingSubTreeRoots[];\n\n    appointmentNodes.forEach((appointmentNode, index) => {\n      if (index === 0) {\n        appointmentNode.overlappingSubTreeRoots = [];\n        return;\n      }\n      const overlappingSubTreeRoots = [] as any[];\n      const { offset: appointmentOffset, end } = appointmentNode.data;\n\n      let nextChildIndex = index + 1;\n      let currentBlockEnd;\n      while (isPossibleChild(appointmentNodes, nextChildIndex, end, appointmentOffset)) {\n        const nextAppointment = appointmentNodes[nextChildIndex];\n        if (nextAppointment.data.offset < appointmentOffset\n          && nextAppointment.maxOffset === undefined) {\n          nextAppointment.maxOffset = appointmentOffset;\n        }\n\n        const previousSubTreeRoot = overlappingSubTreeRoots.length > 0\n          ? appointmentNodes[overlappingSubTreeRoots[overlappingSubTreeRoots.length - 1]]\n          : undefined;\n        if (isOverlappingSubTreeRoot(\n          appointmentNode, nextAppointment, previousSubTreeRoot, currentBlockEnd,\n        )) {\n          overlappingSubTreeRoots.push(nextChildIndex);\n          nextAppointment.overlappingSubTreeRoot = true;\n          const maxChildDate = findChildrenMaxEndDate(appointmentNodes, nextAppointment);\n          if (!currentBlockEnd || currentBlockEnd.isBefore(maxChildDate)) {\n            currentBlockEnd = maxChildDate;\n          }\n        }\n        nextChildIndex += 1;\n      }\n      appointmentNode.overlappingSubTreeRoots = overlappingSubTreeRoots;\n    });\n    return {\n      ...appointmentForest,\n      items: appointmentNodes,\n    };\n  });\n\nexport const isOverlappingSubTreeRoot: IsOverlappingSubTreeRootFn = (\n  appointmentNode, nextAppointment, previousSubTreeRoot, previousEndDate,\n) => {\n  const {\n    overlappingSubTreeRoot, maxOffset, data: nextData,\n  } = nextAppointment;\n  const { offset: nextOffset, start: nextStart } = nextData;\n  const { offset } = appointmentNode.data;\n\n  return (\n    nextOffset < offset\n      && !overlappingSubTreeRoot\n      && (maxOffset === undefined || maxOffset >= offset)\n      && (!previousSubTreeRoot\n        || (previousSubTreeRoot.data.offset >= nextOffset\n        && nextStart.isSameOrAfter(previousEndDate)))\n  );\n};\n\nexport const findChildrenMaxEndDate: FindChildrenMaxEndDateFn = (\n  appointmentNodes, appointmentNode,\n) => {\n  const { children, data } = appointmentNode;\n  const { end } = data;\n\n  const maxDate = children.reduce((currentMaxDate, childIndex) => {\n    const child = appointmentNodes[childIndex];\n    const maxChildrenDate = findChildrenMaxEndDate(appointmentNodes, child);\n    if (maxChildrenDate.isAfter(currentMaxDate)) {\n      return maxChildrenDate;\n    }\n    return currentMaxDate;\n  }, end);\n  return maxDate;\n};\n\nexport const groupAppointmentsIntoBlocks: GroupAppointmentsIntoBlocksFn =\n  appointmentForests => appointmentForests.map((appointmentForest) => {\n    const { items, reduceValue } = appointmentForest;\n    const { blocks: nextBlocks, appointments } = items.reduce((acc, appointment, index) => {\n      const blocks = acc.blocks.slice();\n      const {\n        treeDepth, data, overlappingSubTreeRoots,\n      } = appointment;\n      const { offset, start, end } = data;\n      let blockIndex = findBlockIndexByAppointment(blocks, appointment);\n\n      if (blockIndex < 0) {\n        blocks.push({\n          start, end, minOffset: offset, maxOffset: offset + treeDepth,\n          size: treeDepth + 1, items: [], endForChildren: end,\n        });\n        blockIndex = blocks.length - 1;\n      }\n\n      blocks[blockIndex].items.push(index);\n\n      overlappingSubTreeRoots.forEach((subTreeRootIndex) => {\n        const subTreeRoot = items[subTreeRootIndex];\n        const { data: subTreeRootData } = subTreeRoot;\n        blocks.push({\n          start: subTreeRootData.start, end,\n          minOffset: subTreeRootData.offset, maxOffset: offset - 1,\n          size: calculateBlockSizeByEndDate(items, subTreeRoot, end), items: [],\n          endForChildren: subTreeRootData.end,\n        });\n      });\n      const appointmentInBlock = { ...appointment, blockIndex };\n\n      return {\n        blocks,\n        appointments: [...acc.appointments, appointmentInBlock],\n      };\n    }, {\n      blocks: [{\n        start: items[0].data.start,\n        end: items[0].data.end,\n        minOffset: 0,\n        maxOffset: reduceValue - 1,\n        size: reduceValue,\n        items: [],\n        endForChildren: items[0].data.end,\n      }] as AppointmentBlock[],\n      appointments: [] as TreeNodeInBlock[],\n    });\n    return {\n      blocks: nextBlocks,\n      appointmentForest: {\n        ...appointmentForest,\n        items: appointments,\n      },\n    };\n  });\n\nconst calculateBlockSizeByEndDate: CalculateBlockSizeBEndDateFn = (\n  appointmentNodes, subTreeRoot, blockEndDate,\n) => {\n  const { children, data } = subTreeRoot;\n  const { start } = data;\n\n  if (children.length === 0) {\n    if (blockEndDate.isAfter(start)) {\n      return 1;\n    }\n    return 0;\n  }\n  const maxSize = Math.max(\n    ...children.map(childIndex => calculateBlockSizeByEndDate(\n      appointmentNodes, appointmentNodes[childIndex], blockEndDate),\n    ),\n  );\n\n  if (blockEndDate.isSameOrBefore(start) && maxSize === 0) {\n    return 0;\n  }\n  return maxSize + 1;\n};\n\nexport const findBlockIndexByAppointment: FindBlockIndexByAppointmentFn = (\n  blocks, appointment,\n) => {\n  const { start, offset } = appointment.data;\n\n  let blockIndex = blocks.length - 1;\n  while (blockIndex >= 0) {\n    const currentBlock = blocks[blockIndex];\n    if (intervalIncludes(currentBlock.start, currentBlock.end, start)\n      && offset >= currentBlock.minOffset && offset <= currentBlock.maxOffset &&\n      (!appointment.overlappingSubTreeRoot ||\n        appointment.overlappingSubTreeRoot && !currentBlock.items.length)\n    ) {\n      break;\n    }\n    blockIndex -= 1;\n  }\n\n  return blockIndex;\n};\n\nexport const findIncludedBlocks: FindIncludedBlocksFn = (groupedIntoBlocks) => {\n  return groupedIntoBlocks.map(({ blocks, appointmentForest }) => {\n    const nextBlocks = blocks.map(props => ({ ...props })) as IncludedBlock[];\n\n    nextBlocks.forEach((block, blockIndex) => {\n      block.includedBlocks = [];\n      for (\n        let currentBlockIndex = blockIndex + 1;\n        currentBlockIndex < nextBlocks.length;\n        currentBlockIndex += 1\n      ) {\n        const currentBlock = nextBlocks[currentBlockIndex];\n        if (isIncludedBlock(block, currentBlock)) {\n          block.includedBlocks.push(currentBlockIndex);\n          currentBlock.includedInto = blockIndex;\n        }\n      }\n    });\n    return {\n      blocks: nextBlocks, appointmentForest,\n    };\n  });\n};\n\nconst isIncludedBlock: IsIncludedBlockFn = (block, possibleIncludedBlock) => {\n  const { start, end, minOffset, maxOffset } = block;\n  const {\n    start: possibleIncludedStart, end: possibleIncludedEnd,\n    minOffset: possibleMinOffset, maxOffset: possibleMaxOffset,\n  } = possibleIncludedBlock;\n  return intervalIncludes(start, end, possibleIncludedStart)\n    && intervalIncludes(start, end, possibleIncludedEnd)\n    && possibleMaxOffset <= maxOffset && possibleMinOffset >= minOffset;\n};\n\nexport const findChildBlocks: FindChildBlocksFn = (groupedIntoBlocks) => {\n  return groupedIntoBlocks.map(({ blocks, appointmentForest }) => {\n    const nextBlocks = blocks.map(props => ({ ...props })) as BlockWithChildren[];\n\n    nextBlocks.forEach((block, index) => {\n      block.children = [];\n      for (let currentIndex = index + 1; currentIndex < nextBlocks.length; currentIndex += 1) {\n        const nextBlock = nextBlocks[currentIndex];\n\n        if (isChildBlock(block, nextBlock)) {\n          block.children.push(currentIndex);\n          nextBlock.parent = index;\n        }\n      }\n      return block;\n    });\n    return {\n      appointmentForest, blocks: nextBlocks,\n    };\n  });\n};\n\nconst isChildBlock: IsChildBlockFn = (block, possibleChildBlock) => {\n  const { start, endForChildren, minOffset, includedInto } = block;\n  const {\n    start: childStart, includedInto: childIncludedInto, maxOffset: childMaxOffset,\n  } = possibleChildBlock;\n  return intervalIncludes(start, endForChildren, childStart)\n    && childMaxOffset + 1 === minOffset\n    && (\n      childIncludedInto === undefined\n      || childIncludedInto === includedInto\n    );\n};\n\nexport const adjustByBlocks: AdjustByBlocksFn = (\n  groupedIntoBlocks, indirectChildLeftOffset,\n) => {\n  const updatedBlocks = groupedIntoBlocks.map(({ blocks, appointmentForest }) => {\n    const dimensionsCalculated = calculateBlocksDimensions(blocks, appointmentForest.items);\n\n    return {\n      blocks: alignBlocksWithPrevious(dimensionsCalculated, appointmentForest.items),\n      appointmentForest,\n    };\n  });\n  const adjustedByBlocks = updatedBlocks.map(({ blocks, appointmentForest }) => {\n    return {\n      ...appointmentForest,\n      items: adjustAppointmentsByBlocks(\n        appointmentForest.items, blocks, indirectChildLeftOffset,\n        ) as TreeNodeInBlock[],\n    };\n  });\n  return adjustedByBlocks;\n};\n\nconst calculateBlocksDimensions: CalculateBlockDimensionsFn = (\n  blocks, appointments,\n) => updateBlocksProportions(calculateBlocksLeftLimit(\n  calculateBlocksTotalSize(blocks), appointments,\n));\n\nconst alignBlocksWithPrevious: AlignBlocksWithPreviousFn = (blocks, appointments) => {\n  const nextBlocks = blocks.map(({ right, ...restProps }) => ({ ...restProps }));\n\n  const leftLimitCalculated = calculateBlocksLeftLimit(\n    updateBlocksLeft(nextBlocks as CalculatedBlock[], appointments), appointments,\n  );\n  return updateBlocksProportions(leftLimitCalculated);\n};\n\nconst adjustAppointmentsByBlocks: AdjustAppointemntsByBlocksFn = (\n  appointments, blocks, indirectChildLeftOffset,\n) => {\n  const nextAppointments = appointments.map(props => ({ ...props }));\n  const nextBlocks = blocks.map(props => ({ ...props }));\n\n  nextBlocks.forEach((block, index) => {\n    if (index !== 0) {\n      const { items, left: blockLeft, right, children } = block;\n      const maxRight = calculateIncludedBlockMaxRight(nextBlocks, block);\n      const finalMaxRight = maxRight * right;\n      const defaultLeft = blockLeft! * maxRight;\n\n      items.forEach((appointmentIndex, itemIndex) => {\n        const appointment = nextAppointments[appointmentIndex];\n        if (itemIndex === 0) {\n          const { left, width } = calculateAppointmentLeftAndWidth(\n            nextAppointments, nextBlocks, appointment,\n            finalMaxRight, indirectChildLeftOffset, defaultLeft,\n          );\n          appointment.data.left = left;\n          appointment.data.width = width;\n          if (defaultLeft !== left) {\n            children.forEach((childIndex) => {\n              redistributeChildBlocks(nextBlocks, childIndex, left / maxRight);\n            });\n          }\n        } else {\n          const {\n            left, width,\n          } = calculateAppointmentLeftAndWidth(\n            nextAppointments, nextBlocks, appointment,\n            finalMaxRight, indirectChildLeftOffset, undefined,\n          );\n          appointment.data.left = left;\n          appointment.data.width = width;\n        }\n      });\n    }\n  });\n  blocks[0].items.forEach((appointmentIndex) => {\n    const appointment = nextAppointments[appointmentIndex];\n    const {\n      left, width,\n    } = calculateAppointmentLeftAndWidth(\n      nextAppointments, blocks, appointment, 1, indirectChildLeftOffset, undefined,\n    );\n    appointment.data.left = left;\n    appointment.data.width = width;\n  });\n  return nextAppointments;\n};\n\nconst redistributeChildBlocks: RedistributeBlocksFn = (blocks, blockIndex, right) => {\n  const block = blocks[blockIndex];\n  const { leftOffset, size, leftLimit, children } = block;\n  block.right = right;\n  const width = size + leftOffset;\n  const relativeWidth = right - leftLimit;\n  const left = right - relativeWidth * size / width;\n  block.left = left;\n  children.forEach((childIndex) => {\n    redistributeChildBlocks(blocks, childIndex, left);\n  });\n};\n\nexport const calculateIncludedBlockMaxRight: CalculateIncludedBlockMaxRightFn = (\n  blocks, includedBlock,\n) => {\n  const { includedInto: includedIntoIndex } = includedBlock;\n  if (includedIntoIndex === undefined) {\n    return 1;\n  }\n\n  const includedInto = blocks[includedIntoIndex];\n  const currentMaxRight = includedInto.right;\n  return currentMaxRight * calculateIncludedBlockMaxRight(blocks, includedInto);\n\n};\n\nexport const calculateBlocksTotalSize: CalculateBlocksTotalSizeFn = (blocks) => {\n  const result = blocks.map((block) => {\n    const totalSize = calculateSingleBlockTotalSize(blocks, block);\n    return {\n      ...block,\n      totalSize,\n      leftOffset: totalSize - block.size,\n    };\n  });\n  return result;\n};\n\nconst calculateSingleBlockTotalSize: CalculateSingleBlockTotalSizeFn = (\n  blocks, block,\n) => {\n  const { children, size } = block;\n  if (children.length === 0) {\n    return size;\n  }\n  return Math.max(\n    ...children.map(childIndex => calculateSingleBlockTotalSize(blocks, blocks[childIndex])),\n  ) + size;\n};\n\nexport const calculateBlocksLeftLimit: CalculateBlocksLeftLimitFn = (\n  blocks, appointments,\n) => (blocks as CalculatedBlock[]).map((block) => {\n  const leftLimit = calculateSingleBlockLeftLimit(blocks, appointments, block);\n  return {\n    ...block,\n    leftLimit,\n  };\n});\n\nconst calculateSingleBlockLeftLimit: CalculateSingleBlockLeftLimitFn = (\n  blocks, appointments, block,\n) => {\n  const { children, items, left } = block as CalculatedBlock;\n  if (children.length === 0) {\n    return left !== undefined\n      ? Math.min(left, appointments[items[0]].data.left)\n      : appointments[items[0]].data.left;\n  }\n  return Math.min(\n    ...children.map(childIndex => calculateSingleBlockLeftLimit(\n      blocks, appointments, blocks[childIndex],\n    )),\n  );\n};\n\nexport const updateBlocksProportions: UpdateBlocksProportionsFn = (blocks) => {\n  const nextBlocks = (blocks as CalculatedBlock[]).map(props => ({ ...props }));\n\n  nextBlocks.forEach((block) => {\n    const { parent: parentIndex, leftLimit, leftOffset, totalSize } = block;\n    if (parentIndex === undefined) {\n      block.right = 1;\n      block.left = (1 - leftLimit) * leftOffset / totalSize + leftLimit;\n      return;\n    }\n\n    const parent = nextBlocks[parentIndex];\n    const { left: parentLeft, totalSize: parentTotalSize } = parent as CalculatedBlock;\n    block.totalSize = parentTotalSize;\n    block.right = parentLeft as number;\n    block.left = (1 - leftLimit) * leftOffset / parentTotalSize + leftLimit;\n  });\n\n  return nextBlocks;\n};\n\nexport const updateBlocksLeft: UpdateBlocksLeftFn = (\n  blocks, appointments,\n) => blocks.map((block) => {\n  const { items, left } = block;\n  const firstItem = appointments[items[0]];\n  const { parent: firstItemParentIndex } = firstItem;\n  if (firstItemParentIndex === undefined) {\n    return block;\n  }\n\n  const firstItemParent = appointments[firstItemParentIndex];\n  const parentBlock = blocks[firstItemParent.blockIndex];\n\n  return {\n    ...block,\n    left: parentBlock.parent === undefined ? left : blocks[parentBlock.parent].left,\n  };\n});\n\nconst createAndAdjustAppointmentForest: CreateAndAdjustAppointmentForestFn = (\n  appointmentGroups, cellDuration,\n) => {\n  const appointmentForest = createAppointmentForest(appointmentGroups, cellDuration);\n  const indirectChildLeftOffset = Math.min(\n    1 / findMaxReduceValue(appointmentForest),\n    INDIRECT_CHILD_LEFT_OFFSET,\n  );\n  const baseCalculated = calculateAppointmentsMetaData(\n    appointmentForest, indirectChildLeftOffset,\n  );\n\n  const preparedToGroupIntoBlocks = prepareToGroupIntoBlocks(baseCalculated);\n  const groupedIntoBlocks = groupAppointmentsIntoBlocks(preparedToGroupIntoBlocks);\n  const blocksWithIncluded = findIncludedBlocks(groupedIntoBlocks);\n  const blocksWithParents = findChildBlocks(blocksWithIncluded);\n  return adjustByBlocks(blocksWithParents, indirectChildLeftOffset);\n};\n\nexport const calculateRectByDateAndGroupIntervals: CalculateRectByDateAndGroupIntervalsFn = (\n  type, intervals, rectByDates, rectByDatesMeta, viewMetaData,\n) => {\n  const { growDirection, multiline } = type;\n  const isHorizontal = growDirection === HORIZONTAL_TYPE;\n\n  const sorted = intervals.map(sortAppointments);\n  const grouped = sorted.reduce(((acc, sortedGroup) => [\n    ...acc,\n    ...findOverlappedAppointments(sortedGroup as AppointmentMoment[], isHorizontal),\n  ]), [] as AppointmentMoment[]);\n\n  const { cellDuration, placeAppointmentsNextToEachOther } = rectByDatesMeta;\n  const rectCalculator = isHorizontal\n    ? horizontalRectCalculator\n    : placeAppointmentsNextToEachOther ? oldVerticalRectCalculator : verticalRectCalculator;\n\n  const groupsCalculated = calculateAppointmentOffsets(\n    grouped as any[], isHorizontal,\n  );\n  const isAppointmentForestNeeded = !isHorizontal && !placeAppointmentsNextToEachOther;\n  let appointmentForest: GroupedIntoBlocksForest[];\n\n  if (isAppointmentForestNeeded) {\n    appointmentForest = createAndAdjustAppointmentForest(\n      groupsCalculated as AppointmentGroup[], cellDuration,\n    ) as GroupedIntoBlocksForest[];\n  }\n\n  const unwrappedAppointments = isAppointmentForestNeeded\n    ? unwrapAppointmentForest(appointmentForest!)\n    : unwrapGroups(groupsCalculated);\n  const rects = unwrappedAppointments.map(appointment => rectCalculator(\n    appointment, viewMetaData,\n    { rectByDates, multiline, rectByDatesMeta },\n  ));\n  return rects.sort((first, second) => first.offset! >= second.offset! ? 1 : -1);\n};\n", "import moment from 'moment';\nimport { PureComputed } from '@devexpress/dx-core';\nimport {\n  AppointmentMoment, DayBoundaryPredicateFn,\n  ReduceAppointmentByDayBoundsFn, NormalizeAppointmentDurationFn, ViewCell, SchedulerDateTime,\n} from '../../types';\nimport { checkCellGroupingInfo } from '../common/helpers';\nimport { addDateToKey } from '../../utils';\n\nexport const sliceAppointmentByDay: PureComputed<\n  [AppointmentMoment, number], AppointmentMoment[]\n> = (appointment, cellDuration) => {\n  const { start, end, dataItem, key } = appointment;\n  if (start.isSame(end, 'day')) return [appointment];\n\n  const minDuration = cellDuration / 2;\n  const isShortOnFirstDay = start.clone().endOf('day').diff(start, 'minutes') < minDuration;\n  const isShortOnSecondDay = end.clone().diff(end.clone().startOf('day'), 'minutes') < minDuration;\n  const firstAppointmentKey = addDateToKey(key, start);\n  const secondAppointmentKey = addDateToKey(key, end);\n\n  return [\n    isShortOnFirstDay ? {\n      start: start.clone().endOf('day').add(-minDuration, 'minutes'),\n      end: start.clone().endOf('day'),\n      dataItem,\n      key: firstAppointmentKey,\n    } : {\n      start, end: start.clone().endOf('day'), dataItem,\n      key: firstAppointmentKey,\n    },\n    isShortOnSecondDay ? {\n      start: end.clone().startOf('day'),\n      end: end.clone().startOf('day').add(minDuration, 'minutes'),\n      dataItem,\n      key: secondAppointmentKey,\n    } : {\n      start: end.clone().startOf('day'), end, dataItem,\n      key: secondAppointmentKey,\n    },\n  ];\n};\n\nexport const dayBoundaryPredicate: DayBoundaryPredicateFn = (\n  appointment,\n  leftBound, rightBound,\n  excludedDays = [],\n) => {\n  const dayStart = moment(leftBound as Date);\n  const dayEnd = moment(rightBound as Date);\n  const startDayTime = moment(appointment.start)\n    .hour(dayStart.hour())\n    .minutes(dayStart.minutes());\n  const endDayTime = moment(appointment.start)\n    .hour(dayEnd.hour())\n    .minutes(dayEnd.minutes());\n\n  if (appointment.end.isBefore(dayStart) || appointment.start.isAfter(dayEnd)) return false;\n  if (excludedDays.findIndex(day => day === moment(appointment.start).day()) !== -1) return false;\n  return (appointment.end.isAfter(startDayTime)\n    && appointment.start.isBefore(endDayTime));\n};\n\nexport const reduceAppointmentByDayBounds: ReduceAppointmentByDayBoundsFn = (\n  appointment, leftBound, rightBound, cellDuration,\n) => {\n  const dayStart = moment(leftBound as Date);\n  const dayEnd = moment(rightBound as Date);\n  const startDayTime = moment(appointment.start)\n    .hour(dayStart.hour())\n    .minutes(dayStart.minutes())\n    .seconds(dayStart.seconds());\n  const endDayTime = moment(appointment.start)\n    .hour(dayEnd.hour())\n    .minutes(dayEnd.minutes())\n    .seconds(dayEnd.seconds());\n\n  const minDuration = cellDuration / 2;\n  const isShortOnFirstDay = endDayTime.clone().diff(appointment.start, 'minutes') < minDuration;\n  const isShortOnSecondDay = appointment.end.clone().diff(startDayTime, 'minutes') < minDuration;\n\n  if (isShortOnFirstDay) {\n    return {\n      ...appointment, start: endDayTime.clone().add(-minDuration, 'minutes'), end: endDayTime,\n    };\n  }\n\n  if (isShortOnSecondDay) {\n    return {\n      ...appointment, start: startDayTime, end: startDayTime.clone().add(minDuration, 'minutes'),\n    };\n  }\n\n  return {\n    ...appointment,\n    ...(appointment.start.isSameOrBefore(startDayTime) ? { start: startDayTime } : null),\n    ...(appointment.end.isSameOrAfter(endDayTime) ? { end: endDayTime } : null),\n  };\n};\n\nexport const normalizeAppointmentDuration: NormalizeAppointmentDurationFn = (\n  appointment, cellDuration,\n) => {\n  const minDuration = cellDuration / 2;\n  const start = moment(appointment.start as Date);\n  const end = moment(appointment.end as Date);\n\n  if (end.diff(start, 'minutes') > minDuration) {\n    return { ...appointment, start, end };\n  }\n\n  if (end.isSame(start.clone().add(minDuration, 'minutes'), 'day')) {\n    return { ...appointment, start, end: start.clone().add(minDuration, 'minutes') };\n  }\n\n  return {\n    ...appointment,\n    start: start.clone().endOf('day').add(-minDuration, 'minutes'),\n    end: start.clone().endOf('day'),\n  };\n};\n\nexport const getWeekVerticallyGroupedColumnIndex: PureComputed<\n  [ViewCell[][], SchedulerDateTime], number\n> = (viewCellsData, date) =>  viewCellsData[0].findIndex((\n  timeCell: ViewCell,\n) => moment(date as SchedulerDateTime).isSame(timeCell.startDate, 'date'));\n\nexport const getWeekHorizontallyGroupedColumnIndex: PureComputed<\n  [ViewCell[][], AppointmentMoment, SchedulerDateTime], number\n> = (viewCellsData, appointment, date) => viewCellsData[0].findIndex((timeCell: ViewCell) => {\n  const isCorrectGroup = checkCellGroupingInfo(timeCell, appointment);\n  return moment(date as SchedulerDateTime).isSame(timeCell.startDate, 'date') && isCorrectGroup;\n});\n\nexport const getWeekVerticallyGroupedRowIndex: PureComputed<\n  [ViewCell[][], AppointmentMoment, SchedulerDateTime, number, boolean, number], number\n> = (viewCellsData, appointment, date, columnIndex, takePrev, groupCount) => {\n  const timeTableHeight = viewCellsData.length / groupCount;\n  let timeTableRowIndex = getWeekHorizontallyGroupedRowIndex(\n    viewCellsData, date, columnIndex, takePrev,\n  );\n\n  if (!viewCellsData[0][0].groupingInfo) return timeTableRowIndex;\n\n  let isWrongCell = !checkCellGroupingInfo(\n    viewCellsData[timeTableRowIndex][columnIndex], appointment,\n  );\n  while (isWrongCell) {\n    timeTableRowIndex += timeTableHeight;\n    isWrongCell = !checkCellGroupingInfo(\n      viewCellsData[timeTableRowIndex][columnIndex], appointment,\n    );\n  }\n  return timeTableRowIndex;\n};\n\nexport const getWeekHorizontallyGroupedRowIndex: PureComputed<\n  [ViewCell[][], SchedulerDateTime, number, boolean], number\n> = (viewCellsData, date, columnIndex, takePrev) => viewCellsData.findIndex(\n  timeCell => moment(date as SchedulerDateTime)\n    .isBetween(\n      timeCell[columnIndex].startDate,\n      timeCell[columnIndex].endDate,\n      'seconds',\n      takePrev ? '(]' : '[)'),\n    );\n", "import { CalculateWeekDateIntervalsFn, AppointmentMoment } from '../../types';\nimport {\n  sliceAppointmentByDay, dayBoundaryPredicate, reduceAppointmentByDayBounds,\n  normalizeAppointmentDuration,\n} from './helpers';\nimport { filterByViewBoundaries } from '../../utils';\n\nexport const calculateWeekDateIntervals: CalculateWeekDateIntervalsFn = (\n  appointments,\n  leftBound, rightBound, // startViewDate, endViewDate\n  excludedDays,\n  cellDuration,\n) => [\n  appointments\n    .map(appointment => normalizeAppointmentDuration(appointment, cellDuration))\n    .reduce((acc, appointment) =>\n      [...acc, ...filterByViewBoundaries(appointment, leftBound, rightBound, excludedDays, true)],\n      [] as AppointmentMoment[],\n    )\n    .reduce((acc, appointment) => (\n      [...acc, ...sliceAppointmentByDay(appointment, cellDuration)]), [] as AppointmentMoment[],\n    )\n    .filter(appointment => dayBoundaryPredicate(appointment, leftBound, rightBound, excludedDays))\n    .map(appointment => reduceAppointmentByDayBounds(\n      appointment, leftBound, rightBound, cellDuration,\n    )),\n];\n", "import moment from 'moment';\nimport {\n  GetCellByAppointmentDataFn, GetVerticalRectByAppointmentDataFn,\n  GetCellRectVerticalFn, SchedulerDateTime,\n} from '../../types';\nimport { VERTICAL_GROUP_ORIENTATION } from '../../constants';\nimport {\n  getWeekHorizontallyGroupedRowIndex, getWeekVerticallyGroupedRowIndex,\n  getWeekHorizontallyGroupedColumnIndex, getWeekVerticallyGroupedColumnIndex,\n} from '../week-view/helpers';\n\nconst CELL_GAP_PX = 10;\nconst CELL_BOUND_HORIZONTAL_OFFSET_PX = 1;\nconst CELL_BOUND_VERTICAL_OFFSET_PX = 4;\n\nexport const getVerticalCellIndexByAppointmentData: GetCellByAppointmentDataFn = (\n  appointment, viewCellsData, viewMetaData, date, takePrev = false,\n) => {\n  const { groupOrientation, groupCount } = viewMetaData;\n\n  const columnIndex = groupOrientation === VERTICAL_GROUP_ORIENTATION\n    ? getWeekVerticallyGroupedColumnIndex(viewCellsData, date)\n    : getWeekHorizontallyGroupedColumnIndex(viewCellsData, appointment, date);\n  const rowIndex = groupOrientation === VERTICAL_GROUP_ORIENTATION\n    ? getWeekVerticallyGroupedRowIndex(\n      viewCellsData, appointment, date, columnIndex, takePrev, groupCount,\n    ) : getWeekHorizontallyGroupedRowIndex(viewCellsData, date, columnIndex, takePrev);\n\n  const cellIndex = (rowIndex * viewCellsData[0].length) + columnIndex;\n  return {\n    index: cellIndex,\n    startDate: viewCellsData[rowIndex][columnIndex].startDate,\n  };\n};\n\nconst getCellRect: GetCellRectVerticalFn = (\n  date, appointment, viewCellsData, cellDuration,\n  cellElementsMeta, takePrev, viewMetaData,\n) => {\n  const {\n    index: cellIndex,\n    startDate: cellStartDate,\n  } = getVerticalCellIndexByAppointmentData(\n    appointment, viewCellsData, viewMetaData, date, takePrev,\n  );\n\n  const {\n    top,\n    left,\n    width,\n    height: cellHeight,\n  } = cellElementsMeta.getCellRects[cellIndex]();\n  const timeOffset = moment(date as SchedulerDateTime).diff(cellStartDate as Date, 'minutes');\n  const topOffset = cellHeight * (timeOffset / cellDuration);\n  const parentRect = cellElementsMeta.parentRect();\n\n  return {\n    top,\n    left,\n    width,\n    topOffset,\n    parentRect,\n  };\n};\n\nexport const getVerticalRectByAppointmentData: GetVerticalRectByAppointmentDataFn = (\n  appointment,\n  viewMetaData,\n  {\n    viewCellsData,\n    cellDuration,\n    cellElementsMeta,\n    placeAppointmentsNextToEachOther,\n  },\n) => {\n  const firstCellRect = getCellRect(\n    appointment.start.toDate(), appointment, viewCellsData,\n    cellDuration, cellElementsMeta, false, viewMetaData,\n  );\n  const lastCellRect = getCellRect(\n    appointment.end.toDate(), appointment, viewCellsData,\n    cellDuration, cellElementsMeta, true, viewMetaData,\n  );\n\n  const top = firstCellRect.top + firstCellRect.topOffset;\n  const height = (lastCellRect.top + lastCellRect.topOffset) - top;\n\n  return {\n    width: firstCellRect.width - CELL_GAP_PX - CELL_BOUND_HORIZONTAL_OFFSET_PX,\n    top: top - firstCellRect.parentRect.top + CELL_BOUND_HORIZONTAL_OFFSET_PX,\n    left: firstCellRect.left - firstCellRect.parentRect.left + CELL_BOUND_HORIZONTAL_OFFSET_PX,\n    parentWidth: firstCellRect.parentRect.width,\n    height: placeAppointmentsNextToEachOther ? height - CELL_BOUND_VERTICAL_OFFSET_PX : height,\n  };\n};\n", "import moment from 'moment';\nimport { PureComputed } from '@devexpress/dx-core';\nimport {\n  AppointmentMoment, GetAllDayCellIndexByAppointmentDataFn,\n  SliceAppointmentsByBoundariesFn, SchedulerDateTime, ViewCell,\n} from '../../types';\nimport { HORIZONTAL_GROUP_ORIENTATION } from '../../constants';\nimport { checkCellGroupingInfo } from '../common/helpers';\n\nexport const allDayPredicate: PureComputed<[AppointmentMoment], boolean> = appointment => (\n  appointment.end.diff(appointment.start, 'hours') > 23\n  || !!appointment.allDay\n);\n\nexport const getAllDayCellIndexByAppointmentData: GetAllDayCellIndexByAppointmentDataFn = (\n  viewCellsData, viewMetaData, date, appointment, takePrev,\n) => {\n  const currentDate = moment(date as SchedulerDateTime);\n  const { groupOrientation, groupCount } = viewMetaData;\n\n  const columnIndex = groupOrientation === HORIZONTAL_GROUP_ORIENTATION\n    ? getAllDayHorizontallyGroupedColumnIndex(viewCellsData, currentDate, appointment)\n    : getAllDayVerticallyGroupedColumnIndex(viewCellsData, currentDate);\n  const rowIndex = groupOrientation === HORIZONTAL_GROUP_ORIENTATION\n    ? 0 : getAllDayVerticallyGroupedRowIndex(viewCellsData, appointment, groupCount);\n\n  let cellIndex = rowIndex * viewCellsData[0].length + columnIndex;\n  if (takePrev && currentDate.format() === currentDate.startOf('day').format()) {\n    cellIndex -= 1;\n  }\n  return cellIndex;\n};\n\nexport const getAllDayVerticallyGroupedColumnIndex: PureComputed<\n  [ViewCell[][], moment.Moment], number\n> = (viewCellsData, date) => viewCellsData[0].findIndex((timeCell) => {\n  return date.isSame(timeCell.startDate, 'date');\n});\n\nexport const getAllDayHorizontallyGroupedColumnIndex: PureComputed<\n  [ViewCell[][], moment.Moment, AppointmentMoment], number\n> = (viewCellsData, date, appointment) => viewCellsData[0].findIndex(timeCell => (\n  date.isSame(timeCell.startDate, 'date') && checkCellGroupingInfo(timeCell, appointment)\n));\n\nexport const getAllDayVerticallyGroupedRowIndex: PureComputed<\n  [ViewCell[][], AppointmentMoment, number], number\n> = (viewCellsData, appointment, groupCount) => {\n  const index = viewCellsData.findIndex(viewCellsDataRow => checkCellGroupingInfo(\n    viewCellsDataRow[0], appointment,\n  ));\n  return index * groupCount / viewCellsData.length;\n};\n\nexport const sliceAppointmentsByBoundaries: SliceAppointmentsByBoundariesFn = (\n  appointment, left, right, excludedDays = [],\n) => {\n  const startDate = appointment.start.clone();\n  const endDate = appointment.end.clone();\n  let nextStart = startDate.clone();\n  let nextEnd = endDate.clone();\n\n  if (startDate.isBefore(left as Date)) {\n    nextStart = moment(left as Date);\n    nextStart.startOf('day');\n  }\n  if (endDate.isAfter(right as Date)) {\n    nextEnd = moment(right as Date);\n    nextEnd.endOf('day');\n  }\n  if (excludedDays.findIndex(day => day === startDate.day()) !== -1) {\n    while (excludedDays.findIndex(day => day === nextStart.day()) !== -1\n      && nextStart.isSameOrBefore(endDate, 'day')) {\n      nextStart.add(1, 'days').startOf('day');\n    }\n  }\n  if (excludedDays.findIndex(day => day === endDate.day()) !== -1) {\n    while (excludedDays.findIndex(day => day === nextEnd.day()) !== -1\n      && nextStart.isSameOrAfter(startDate, 'day')) {\n      nextEnd.add(-1, 'days').endOf('day');\n    }\n  }\n  return [{ ...appointment, start: nextStart, end: nextEnd }];\n};\n\nexport const sliceAppointmentsByDays: PureComputed<\n  [AppointmentMoment, number[]], AppointmentMoment[]\n> = (appointment, excludedDays = []) => {\n  const startDate = appointment.start;\n  const endDate = appointment.end;\n  let nextStart = startDate.clone();\n  const appointments = [] as AppointmentMoment[];\n\n  while (nextStart.isBefore(endDate)) {\n    if (excludedDays.findIndex(day => day === nextStart.day()) === - 1) {\n      appointments.push({\n        ...appointment,\n        start: nextStart,\n        end: moment(nextStart).endOf('day'),\n      });\n    }\n    nextStart = moment(nextStart).add(1, 'day');\n  }\n  return appointments;\n};\n", "import { RRule } from 'rrule';\n\nexport const DEFAULT_RULE_OBJECT = {\n  interval: 1,\n};\n\nexport const DAYS_OF_WEEK = {\n  MONDAY: 0,\n  TUESDAY: 1,\n  WEDNESDAY: 2,\n  THURSDAY: 3,\n  FRIDAY: 4,\n  SATURDAY: 5,\n  SUNDAY: 6,\n};\n\nexport const RRULE_DAYS_OF_WEEK = [\n  RRule.MO,\n  RRule.TU,\n  RRule.WE,\n  RRule.TH,\n  RRule.FR,\n  RRule.SA,\n  RRule.SU,\n];\n\nexport const DAYS_IN_WEEK = 7;\n\nexport const DAYS_OF_WEEK_ARRAY = [\n  DAYS_OF_WEEK.SUNDAY, DAYS_OF_WEEK.MONDAY, DAYS_OF_WEEK.TUESDAY, DAYS_OF_WEEK.WEDNESDAY,\n  DAYS_OF_WEEK.THURSDAY, DAYS_OF_WEEK.FRIDAY, DAYS_OF_WEEK.SATURDAY,\n];\n\nexport const MONTHS = {\n  JANUARY: 1,\n  FEBRUARY: 2,\n  MARCH: 3,\n  APRIL: 4,\n  MAY: 5,\n  JUNE: 6,\n  JULY: 7,\n  AUGUST: 8,\n  SEPTEMBER: 9,\n  OCTOBER: 10,\n  NOVEMBER: 11,\n  DECEMBER: 12,\n};\n\nexport const RRULE_REPEAT_TYPES = {\n  YEARLY: RRule.YEARLY as number,\n  MONTHLY: RRule.MONTHLY as number,\n  WEEKLY: RRule.WEEKLY as number,\n  DAILY: RRule.DAILY as number,\n  HOURLY: RRule.HOURLY as number,\n  MINUTELY: RRule.MINUTELY as number,\n};\n\nexport const REPEAT_TYPES = {\n  DAILY: 'daily',\n  WEEKLY: 'weekly',\n  MONTHLY: 'monthly',\n  YEARLY: 'yearly',\n  NEVER: 'never',\n};\n\nexport const REPEAT_TYPES_ARRAY = [\n  REPEAT_TYPES.DAILY, REPEAT_TYPES.WEEKLY, REPEAT_TYPES.MONTHLY, REPEAT_TYPES.YEARLY,\n];\n\nexport const WEEK_NUMBER_LABELS = [\n  'firstLabel', 'secondLabel', 'thirdLabel', 'fourthLabel', 'lastLabel',\n];\n\nexport const END_REPEAT_RADIO_GROUP = 'endRepeat';\nexport const MONTHLY_RADIO_GROUP = 'monthlyRadioGroup';\nexport const YEARLY_RADIO_GROUP = 'yearlyRadioGroup';\n\nexport const TITLE_TEXT_EDITOR = 'titleTextEditor';\nexport const MULTILINE_TEXT_EDITOR = 'multilineTextEditor';\nexport const ORDINARY_TEXT_EDITOR = 'ordinaryTextEditor';\nexport const NUMBER_EDITOR = 'numberEditor';\n\nexport const TITLE = 'title';\nexport const ORDINARY_LABEL = 'ordinaryLabel';\n\nexport const SAVE_BUTTON = 'saveButton';\nexport const DELETE_BUTTON = 'deleteButton';\nexport const CANCEL_BUTTON = 'cancelButton';\n\nexport const OUTLINED_SELECT = 'outlinedSelect';\nexport const STANDARD_SELECT = 'standardSelect';\n\nexport const SUNDAY_DATE = new Date(2019, 7, 11);\nexport const MONDAY_DATE = new Date(2019, 7, 12);\nexport const TUESDAY_DATE = new Date(2019, 7, 13);\nexport const WEDNESDAY_DATE = new Date(2019, 7, 14);\nexport const THURSDAY_DATE = new Date(2019, 7, 15);\nexport const FRIDAY_DATE = new Date(2019, 7, 16);\nexport const SATURDAY_DATE = new Date(2019, 7, 17);\n\nexport const DAYS_OF_WEEK_DATES = [\n  SUNDAY_DATE, MONDAY_DATE, TUESDAY_DATE, WEDNESDAY_DATE,\n  THURSDAY_DATE, FRIDAY_DATE, SATURDAY_DATE,\n];\n\nexport const JANUARY_DATE = new Date(2019, 0, 1);\nexport const FEBRUARY_DATE = new Date(2019, 1, 1);\nexport const MARCH_DATE = new Date(2019, 2, 1);\nexport const APRIL_DATE = new Date(2019, 3, 1);\nexport const MAY_DATE = new Date(2019, 4, 1);\nexport const JUNE_DATE = new Date(2019, 5, 1);\nexport const JULY_DATE = new Date(2019, 6, 1);\nexport const AUGUST_DATE = new Date(2019, 7, 1);\nexport const SEPTEMBER_DATE = new Date(2019, 8, 1);\nexport const OCTOBER_DATE = new Date(2019, 9, 1);\nexport const NOVEMBER_DATE = new Date(2019, 10, 1);\nexport const DECEMBER_DATE = new Date(2019, 11, 1);\n\nexport const MONTHS_DATES = [\n  JANUARY_DATE, FEBRUARY_DATE, MARCH_DATE, APRIL_DATE, MAY_DATE, JUNE_DATE,\n  JULY_DATE, AUGUST_DATE, SEPTEMBER_DATE, OCTOBER_DATE, NOVEMBER_DATE, DECEMBER_DATE,\n];\n\nexport const FIRST_WEEK = 0;\nexport const SECOND_WEEK = 1;\nexport const THIRD_WEEK = 2;\nexport const FOURTH_WEEK = 3;\nexport const LAST_WEEK = 4;\n\nexport const BASIC_YEALY_COUNT = 5;\nexport const BASIC_MONTHLY_COUNT = 12;\nexport const BASIC_WEEKLY_COUNT = 13;\nexport const BASIC_DAILY_COUNT = 30;\n", "import moment from 'moment';\nimport {\n  SliceAppointmentByWeekFn, GetMonthCellIndexByAppointmentDataFn,\n  SchedulerDateTime, AppointmentMoment, ViewCell,\n} from '../../types';\nimport { DAYS_IN_WEEK } from '../appointment-form/constants';\nimport { PureComputed } from '@devexpress/dx-core';\nimport { HORIZONTAL_GROUP_ORIENTATION } from '../../constants';\nimport { checkCellGroupingInfo } from '../common/helpers';\nimport { addDateToKey } from '../../utils';\n\nexport const sliceAppointmentByWeek: SliceAppointmentByWeekFn = (timeBounds, appointment, step) => {\n  const { left, right } = timeBounds;\n  const pieces: AppointmentMoment[] = [];\n  const { start, end, key, ...restFields } = appointment;\n  let apptStart = start;\n  let apptEnd = end;\n  if (apptStart.isBefore(left)) apptStart = left.clone();\n  if (apptEnd.isAfter(right)) apptEnd = right.clone();\n  let pieceFrom = apptStart.clone();\n  let pieceTo = apptStart.clone();\n  let i = 0;\n  while (pieceTo.isBefore(apptEnd)) {\n    const currentRightBound = left.clone().add(step * i, 'days').subtract(1, 'second');\n    if (currentRightBound.isAfter(apptStart)) {\n      pieceTo = apptStart.clone().add(step * i, 'days');\n      if (pieceTo.isAfter(currentRightBound)) {\n        pieceTo = currentRightBound.clone();\n      }\n      if (pieceTo.isAfter(apptEnd)) {\n        pieceTo = apptEnd.clone();\n      }\n      if (!pieceFrom.isSameOrAfter(pieceTo)) {\n        pieces.push({\n          start: pieceFrom,\n          end: pieceTo,\n          key: addDateToKey(key, pieceFrom),\n          ...restFields,\n        });\n        pieceFrom = pieceTo.clone().add(1, 'second');\n      }\n    }\n    i += 1;\n  }\n  return pieces;\n};\n\nexport const getMonthCellIndexByAppointmentData: GetMonthCellIndexByAppointmentDataFn = (\n  viewCellsData, viewMetaData, date, appointment, takePrev = false,\n) => {\n  const {\n    groupOrientation,\n    groupedByDate,\n    groupCount,\n  } = viewMetaData;\n\n  const startViewDate = moment(viewCellsData[0][0].startDate);\n  const currentDate = moment(date as SchedulerDateTime);\n  let dayNumber = currentDate.diff(startViewDate, 'days');\n  if (takePrev && currentDate.format() === currentDate.startOf('day').format()) {\n    dayNumber -= 1;\n  }\n  const weekNumber = Math.floor(dayNumber / DAYS_IN_WEEK);\n  const dayOfWeek = dayNumber % DAYS_IN_WEEK;\n\n  const columnIndex = groupOrientation === HORIZONTAL_GROUP_ORIENTATION\n    ? getMonthHorizontallyGroupedColumnIndex(\n      viewCellsData, appointment, weekNumber, dayOfWeek, groupCount, groupedByDate,\n    )\n    : dayOfWeek;\n  const rowIndex = groupOrientation === HORIZONTAL_GROUP_ORIENTATION\n    ? weekNumber\n    : getMonthVerticallyGroupedRowIndex(\n      viewCellsData, appointment, weekNumber, dayOfWeek, groupCount,\n    );\n\n  const totalCellIndex = rowIndex * viewCellsData[0].length + columnIndex;\n  return totalCellIndex;\n};\n\nexport const getMonthHorizontallyGroupedColumnIndex: PureComputed<\n  [ViewCell[][], AppointmentMoment, number, number, number, boolean], number\n> = (viewCellsData, appointment, weekNumber, dayOfWeek, groupCount, groupByDate) => {\n  let columnIndex = -1;\n  let currentColumnIndex = groupByDate ? dayOfWeek * groupCount : dayOfWeek;\n  const cellsInGroupRow = groupByDate ? 1 : DAYS_IN_WEEK;\n\n  while (columnIndex === -1) {\n    const isCorrectCell = checkCellGroupingInfo(\n      viewCellsData[weekNumber][currentColumnIndex], appointment,\n    );\n    if (isCorrectCell) {\n      columnIndex = currentColumnIndex;\n    }\n    currentColumnIndex += cellsInGroupRow;\n  }\n  return columnIndex;\n};\n\nexport const getMonthVerticallyGroupedRowIndex: PureComputed<\n  [ViewCell[][], AppointmentMoment, number, number, number], number\n> = (viewCellsData, appointment, weekNumber, dayOfWeek, groupCount) => {\n  const rowsInOneGroup = viewCellsData.length / groupCount;\n  let rowIndex = -1;\n  let currentRowIndex = weekNumber;\n  while (rowIndex === -1) {\n    const isCorrectCell = checkCellGroupingInfo(\n      viewCellsData[currentRowIndex][dayOfWeek], appointment,\n    );\n    if (isCorrectCell) {\n      rowIndex = currentRowIndex;\n    }\n    currentRowIndex += rowsInOneGroup;\n  }\n  return rowIndex;\n};\n", "import { GetCellRectHorizontalFn, GetHorizontalRectByAppointmentDataFn } from '../../types';\nimport { getAllDayCellIndexByAppointmentData } from '../all-day-panel/helpers';\nimport { getMonthCellIndexByAppointmentData } from '../month-view/helpers';\n\nconst TOP_CELL_OFFSET = 0.32;\nconst CELL_BOUND_OFFSET_PX = 1;\n\nconst getCellRect: GetCellRectHorizontalFn = (\n  date, appointment, viewCellsData, viewMetaData, cellElementsMeta, takePrev, multiline,\n) => {\n  const cellIndex = multiline\n    ? getMonthCellIndexByAppointmentData(\n      viewCellsData, viewMetaData, date, appointment, takePrev,\n    ) : getAllDayCellIndexByAppointmentData(\n      viewCellsData, viewMetaData, date, appointment, takePrev,\n    );\n\n  const {\n    top,\n    left,\n    width,\n    height,\n  } = cellElementsMeta.getCellRects[cellIndex]();\n  const parentRect = cellElementsMeta.parentRect();\n  return {\n    top,\n    left,\n    width,\n    height,\n    parentRect,\n  };\n};\n\nexport const getHorizontalRectByAppointmentData: GetHorizontalRectByAppointmentDataFn = (\n  appointment,\n  viewMetaData,\n  {\n    multiline,\n    viewCellsData,\n    cellElementsMeta,\n  },\n) => {\n  const firstCellRect = getCellRect(\n    appointment.start.toDate(), appointment, viewCellsData,\n    viewMetaData, cellElementsMeta, false, multiline,\n  );\n  const lastCellRect = getCellRect(\n    appointment.end.toDate(), appointment, viewCellsData,\n    viewMetaData, cellElementsMeta, true, multiline,\n  );\n\n  const top = firstCellRect.top + (firstCellRect.height * TOP_CELL_OFFSET);\n  const height = firstCellRect.height - (firstCellRect.height * TOP_CELL_OFFSET);\n\n  return {\n    top: top - firstCellRect.parentRect.top,\n    left: (firstCellRect.left - firstCellRect.parentRect.left) + CELL_BOUND_OFFSET_PX,\n    width: ((lastCellRect.left - firstCellRect.left) + firstCellRect.width) - CELL_BOUND_OFFSET_PX,\n    height,\n    parentWidth: firstCellRect.parentRect.width,\n  };\n};\n", "import moment from 'moment';\nimport {\n  MonthCellsDataComputedFn, MonthCellData,\n  CalculateMonthDateIntervalsFn, AppointmentMoment,\n} from '../../types';\nimport { filterByViewBoundaries } from '../../utils';\nimport { sliceAppointmentByWeek } from './helpers';\n\nconst DAY_COUNT = 7;\nconst MONTH_LENGTH = 31;\n\nexport const monthCellsData: MonthCellsDataComputedFn = (\n  currentDate,\n  firstDayOfWeek,\n  intervalCount = 1,\n  today,\n) => {\n  const targetDate = moment(currentDate as Date);\n  const currentMonths = [targetDate.month()];\n  while (currentMonths.length < intervalCount) {\n    currentMonths.push(targetDate.add(1, 'months').month());\n  }\n  const firstMonthDate = moment(currentDate as Date).date(1);\n  const firstMonthDay = firstMonthDate.day() - firstDayOfWeek;\n  const prevMonthDayCount = firstMonthDate.day(firstMonthDay).day() || DAY_COUNT;\n  const prevMonth = moment(currentDate as Date).subtract(1, 'months');\n  const prevMonthStartDay = prevMonth.daysInMonth() - (prevMonthDayCount - 1);\n  const from = moment()\n    .year(prevMonth.year())\n    .month(prevMonth.month())\n    .date(prevMonthStartDay)\n    .startOf('day');\n\n  const result: MonthCellData[][] = [];\n  while (result.length < (Math.trunc((MONTH_LENGTH * intervalCount) / DAY_COUNT) + 2)) {\n    const week: MonthCellData[] = [];\n    while (week.length < DAY_COUNT) {\n      week.push({\n        startDate: from.toDate(),\n        endDate: from.clone().add(1, 'day').toDate(),\n        otherMonth: currentMonths.findIndex(month => month === from.month()) === -1,\n        today: today ? moment(today as Date).isSame(from, 'date') : false,\n      });\n      from.add(1, 'day');\n    }\n    result.push(week);\n  }\n  return result;\n};\n\nexport const calculateMonthDateIntervals: CalculateMonthDateIntervalsFn = (\n  appointments, leftBound, rightBound,\n) => [\n  appointments\n    .map(({ start, end, ...restArgs }) => ({ start: moment(start), end: moment(end), ...restArgs }))\n    .reduce((acc, appointment) =>\n      [...acc, ...filterByViewBoundaries(appointment, leftBound, rightBound, [], false)],\n      [] as AppointmentMoment[],\n    )\n    .reduce((acc, appointment) => ([\n      ...acc,\n      ...sliceAppointmentByWeek(\n        { left: moment(leftBound as Date), right: moment(rightBound as Date) },\n        appointment,\n        DAY_COUNT,\n      ),\n    ]), [] as AppointmentMoment[]),\n];\n", "import moment from 'moment';\nimport {\n  AppointmentMoment, CalculateAllDayDateIntervalsFn,\n} from '../../types';\nimport { allDayPredicate, sliceAppointmentsByBoundaries } from './helpers';\nimport { filterByViewBoundaries } from '../../utils';\n\nexport const calculateAllDayDateIntervals: CalculateAllDayDateIntervalsFn = (\n  appointments,\n  leftBound, rightBound,\n  excludedDays,\n) => [\n  appointments\n    .map(({ start, end, ...restArgs }) => ({ start: moment(start), end: moment(end), ...restArgs }))\n    .reduce((acc, appointment) =>\n      [...acc, ...filterByViewBoundaries(appointment, leftBound, rightBound, excludedDays, false)],\n      [] as AppointmentMoment[],\n    )\n    .filter(appointment => allDayPredicate(appointment))\n    .reduce((acc, appointment) => ([\n      ...acc,\n      ...sliceAppointmentsByBoundaries(appointment, leftBound, rightBound, excludedDays),\n    ]), [] as AppointmentMoment[]),\n];\n", "import { PureComputed } from '@devexpress/dx-core';\nimport {\n  ValidResourceInstance, Group, ViewCell, ValidResource,\n  AppointmentMoment, Grouping, GroupOrientation, AppointmentKey,\n} from '../../types';\nimport { HORIZONTAL_GROUP_ORIENTATION } from '../../constants';\n\nexport const getGroupFromResourceInstance: PureComputed<\n  [ValidResourceInstance], Group\n> = resourceInstance => ({\n  id: resourceInstance.id,\n  fieldName: resourceInstance.fieldName,\n  text: resourceInstance.text,\n});\n\nexport const addGroupInfoToCells: PureComputed<\n  [Group, Group[][], ValidResource[],\n  ViewCell[], number, boolean, GroupOrientation], ViewCell[]\n> = (\n  currentGroup, groups, sortedResources, viewCellRow, index, endOfGroup, groupOrientation,\n) => viewCellRow.map((\n    viewCell: ViewCell, cellIndex: number,\n  ) => {\n  const groupedCell = addGroupInfoToCell(\n    currentGroup, groups, sortedResources, viewCell, index, endOfGroup, groupOrientation,\n  ) as ViewCell;\n  return cellIndex === viewCellRow.length - 1 && groupOrientation === HORIZONTAL_GROUP_ORIENTATION\n    ? { ...groupedCell, endOfGroup: true }\n    : groupedCell;\n});\n\nexport const addGroupInfoToCell: PureComputed<\n  [Group, Group[][], ValidResource[],\n  ViewCell, number, boolean, GroupOrientation], ViewCell\n> = (currentGroup, groups, sortedResources, viewCell, index, endOfGroup, groupOrientation) => {\n  let previousIndex = index;\n  const groupingInfo = groups.reduceRight((\n    acc: Group[], group: Group[], currentIndex: number,\n  ) => {\n    if (currentIndex === groups.length - 1) return acc;\n    const previousResourceLength = sortedResources[currentIndex + 1].instances.length;\n    const currentGroupingInstance = group[Math.floor(\n      previousIndex / previousResourceLength,\n    )];\n    previousIndex = currentIndex;\n    return [...acc, currentGroupingInstance];\n  }, [currentGroup]);\n  return { ...viewCell, groupingInfo, endOfGroup, groupOrientation };\n};\n\nconst getCurrentGroup: PureComputed<\n  [Group[][], ValidResource[], number, Group], Group[]\n> = (groups, resources, index, group) => {\n  let currentIndex = index;\n  return groups.reduceRight((groupAcc, groupsRow, rowIndex) => {\n    if (rowIndex === groups!.length - 1) {\n      return groupAcc;\n    }\n    currentIndex = Math.floor(currentIndex / resources[rowIndex + 1].instances.length);\n    const currentInstance = groupsRow[currentIndex];\n    return [\n      ...groupAcc,\n      currentInstance,\n    ];\n  }, [group]);\n};\n\nexport const groupAppointments: PureComputed<\n  [AppointmentMoment[], ValidResource[] | undefined,\n  Group[][] | undefined], AppointmentMoment[][]\n> = (appointments, resources, groups) => {\n  if (!resources || !groups) return [appointments.slice()];\n  const mainResource = resources.find(resource => resource.isMain);\n  return groups![groups!.length - 1].map((group, index) => {\n    const currentGroup = getCurrentGroup(groups, resources, index, group);\n\n    return appointments.reduce((acc, appointment) => {\n      const belongsToGroup = currentGroup.reduce((isBelonging, groupItem) => (\n        isBelonging && groupItem.id === appointment[groupItem.fieldName]\n      ), true);\n      if (!belongsToGroup) return acc;\n      const currentMainResourceId = currentGroup.find(\n        groupItem => groupItem.fieldName === mainResource!.fieldName,\n      )!.id;\n\n      const updatedAppointment = {\n        ...appointment,\n        dataItem: {\n          ...appointment.dataItem,\n          [mainResource!.fieldName]: rearrangeResourceIds(\n            mainResource!, appointment, currentMainResourceId,\n          ),\n        },\n        resources: appointment.resources && rearrangeResources(\n          mainResource!, appointment, currentMainResourceId,\n        ),\n      };\n      return [...acc, updatedAppointment];\n    }, [] as AppointmentMoment[]);\n  });\n};\n\nconst rearrangeResourceIds: PureComputed<\n  [ValidResource, AppointmentMoment, any], any[] | any\n> = (mainResource, appointment, mainResourceId) => {\n  if (!mainResource.allowMultiple) {\n    return mainResourceId;\n  }\n  return [\n    mainResourceId,\n    ...appointment.dataItem[mainResource!.fieldName].filter((id: any) => id !== mainResourceId),\n  ];\n};\n\nexport const rearrangeResources: PureComputed<\n  [ValidResource, AppointmentMoment, any], ValidResourceInstance[]\n> = (mainResource, appointment, currentResourceInstanceId) => {\n  if (!mainResource.allowMultiple) {\n    return appointment.resources;\n  }\n  const resources = appointment.resources.slice();\n  const firstMainResource = resources.findIndex((el: ValidResourceInstance) => el.isMain);\n  const currentResourceIndex = resources.findIndex(\n    (el: ValidResourceInstance) => el.isMain && el.id === currentResourceInstanceId,\n  );\n  [resources[firstMainResource], resources[currentResourceIndex]] =\n    [resources[currentResourceIndex], resources[firstMainResource]];\n  return resources;\n};\n\nexport const expandGroupedAppointment: PureComputed<\n  [AppointmentMoment, Grouping[], ValidResource[]], AppointmentMoment[]\n> = (appointment, grouping, resources) => {\n  if (!resources || !grouping) {\n    return [appointment];\n  }\n  return resources\n    .reduce((acc: AppointmentMoment[], resource: ValidResource) => {\n      const isGroupedByResource = grouping.find(\n        group => group.resourceName === resource.fieldName,\n      ) !== undefined;\n      if (!isGroupedByResource) return acc;\n      const resourceField = resource.fieldName;\n      if (!resource.allowMultiple) {\n        return acc.reduce((accumulatedAppointments, currentAppointment) => [\n          ...accumulatedAppointments,\n          { ...currentAppointment, [resourceField]: currentAppointment.dataItem[resourceField] },\n        ], [] as AppointmentMoment[]);\n      }\n      return acc.reduce((accumulatedAppointments, currentAppointment) => [\n        ...accumulatedAppointments,\n        ...currentAppointment.dataItem[resourceField].map(\n          (resourceValue: number | string) => ({\n            ...currentAppointment,\n            [resourceField]: resourceValue,\n            key: generateMultipleResourceKey(currentAppointment.key, resourceValue),\n          }),\n        ),\n      ], [] as AppointmentMoment[]);\n    }, [appointment] as AppointmentMoment[]);\n};\n\nconst generateMultipleResourceKey: PureComputed<\n  [AppointmentKey, number | string], AppointmentKey\n> = (previousKey, resourceValue) => `${previousKey}_${resourceValue}`;\n\nexport const getGroupingInfoFromGroups: PureComputed<\n  [Group[][], number], Group[]\n> = (groups, groupIndex) => {\n  let previousIndex = groupIndex;\n  return groups.reduceRight((acc, currentGroups, currentIndex) => {\n    if (currentIndex === groups.length - 1) return acc;\n    const previousResourceLength = groups[currentIndex + 1].length / currentGroups.length;\n    const currentGroupingInstance = currentGroups[Math.floor(\n      previousIndex / previousResourceLength,\n    )];\n    previousIndex = currentIndex;\n    return [...acc, currentGroupingInstance];\n  }, [getGroupsLastRow(groups)[groupIndex]]);\n};\n\nexport const getGroupsLastRow: PureComputed<\n  [Group[][]], Group[]\n> = groups => groups[groups.length - 1];\n", "import { PureComputed } from '@devexpress/dx-core';\nimport {\n  Grouping, ValidResourceInstance, ViewCell, ValidResource,\n  Group, AppointmentMoment, ExpandGroupingPanelCellFn, GroupOrientation,\n  CellElementsMeta, SchedulerView,\n} from '../../types';\nimport {\n  getGroupFromResourceInstance, addGroupInfoToCells,\n  groupAppointments, expandGroupedAppointment, addGroupInfoToCell, getGroupsLastRow,\n} from './helpers';\nimport { sliceAppointmentsByDays } from '../all-day-panel/helpers';\nimport { HORIZONTAL_GROUP_ORIENTATION, VERTICAL_GROUP_ORIENTATION } from '../../constants';\nimport { containsDSTChange } from '../common/helpers';\n\nexport const filterResourcesByGrouping: PureComputed<\n  [Array<ValidResource>, Array<Grouping>], Array<ValidResource>\n> = (resources, grouping) => resources.filter(\n  resource => grouping.find(resourceId => resource.fieldName === resourceId.resourceName),\n);\n\nexport const sortFilteredResources: PureComputed<\n  [Array<ValidResource>, Array<Grouping>], Array<ValidResource>\n> = (resources, grouping) => grouping.map(({ resourceName }: Grouping) => (\n  resources.find(resource => resource.fieldName === resourceName) as ValidResource\n));\n\nexport const getGroupsFromResources: PureComputed<\n  [Array<ValidResource>], Array<Array<Group>>\n> = sortedAndFilteredResources => sortedAndFilteredResources.reduce((\n    acc: Array<Array<Group>>, resource: ValidResource, index: number,\n  ) => {\n  if (index === 0) {\n    return [resource.instances.map(instance => getGroupFromResourceInstance(instance))];\n  }\n\n  return [\n    ...acc,\n    acc[index - 1].reduce((currentResourceNames: Array<Group>) => [\n      ...currentResourceNames,\n      ...resource.instances.map(\n        (instance: ValidResourceInstance) => getGroupFromResourceInstance(instance),\n      ),\n    ], []),\n  ];\n}, []);\n\nexport const expandViewCellsDataWithGroups: PureComputed<\n  [ViewCell[][], Group[][], ValidResource[], boolean, GroupOrientation], ViewCell[][]\n> = (viewCellsData, groups, sortedResources, groupByDate, groupOrientation) => {\n  if (groups.length === 0) return viewCellsData;\n  if (groupByDate) {\n    return expandCellsWithGroupedByDateData(viewCellsData, groups, sortedResources);\n  }\n  if (groupOrientation === HORIZONTAL_GROUP_ORIENTATION) {\n    return expandHorizontallyGroupedCells(viewCellsData, groups, sortedResources);\n  }\n  return expandVerticallyGroupedCells(viewCellsData, groups, sortedResources);\n};\n\nconst expandCellsWithGroupedByDateData: ExpandGroupingPanelCellFn = (\n  viewCellsData, groups, sortedResources,\n) => viewCellsData.map(\n  (cellsRow: ViewCell[]) => cellsRow.reduce((acc: ViewCell[], viewCell: ViewCell) => {\n    const groupedCells = getGroupsLastRow(groups).map((\n      group: Group, index: number,\n    ) => addGroupInfoToCell(\n      group, groups, sortedResources, viewCell, index,\n      false, HORIZONTAL_GROUP_ORIENTATION,\n    ));\n    groupedCells[groupedCells.length - 1] = {\n      ...groupedCells[groupedCells.length - 1],\n      endOfGroup: true,\n    };\n    return [...acc, ...groupedCells] as ViewCell[];\n  }, [] as ViewCell[]),\n);\n\nconst expandHorizontallyGroupedCells: ExpandGroupingPanelCellFn = (\n  viewCellsData, groups, sortedResources,\n) => getGroupsLastRow(groups).reduce((\n  acc: ViewCell[][], group: Group, index: number,\n) => {\n  if (index === 0) {\n    return viewCellsData.map((viewCellsRow: ViewCell[]) =>\n      addGroupInfoToCells(\n        group, groups, sortedResources, viewCellsRow, index,\n        false, HORIZONTAL_GROUP_ORIENTATION,\n      ) as ViewCell[],\n    );\n  }\n  return acc.map((item: ViewCell[], id: number) => [\n    ...item,\n    ...addGroupInfoToCells(\n      group, groups, sortedResources, viewCellsData[id], index,\n      false, HORIZONTAL_GROUP_ORIENTATION,\n    ),\n  ]);\n}, [[]] as ViewCell[][]);\n\nconst expandVerticallyGroupedCells: ExpandGroupingPanelCellFn = (\n  viewCellsData, groups, sortedResources,\n) => getGroupsLastRow(groups).reduce((\n  acc: ViewCell[][], group: Group, index: number,\n) => {\n  if (index === 0) {\n    return viewCellsData.map((\n      viewCellsRow: ViewCell[], viewRowIndex: number,\n    ) => addGroupInfoToCells(\n        group, groups, sortedResources, viewCellsRow,\n        index, viewRowIndex === viewCellsData.length - 1, VERTICAL_GROUP_ORIENTATION,\n      ) as ViewCell[]);\n  }\n  return [\n    ...acc,\n    ...viewCellsData.map((viewCellsRow: ViewCell[], viewRowIndex: number) =>\n      addGroupInfoToCells(\n        group, groups, sortedResources, viewCellsRow,\n        index, viewRowIndex === viewCellsData.length - 1, VERTICAL_GROUP_ORIENTATION,\n      ) as ViewCell[],\n    ),\n  ];\n}, [[]] as ViewCell[][]);\n\nexport const updateGroupingWithMainResource: PureComputed<\n  [Grouping[] | undefined, ValidResource[]], Grouping[]\n> = (grouping, resources) => grouping\n  || [{ resourceName: resources.find(resource => resource.isMain)!.fieldName }];\n\nexport const expandGroups: PureComputed<\n  [AppointmentMoment[][], Grouping[], ValidResource[],\n  Group[][], number[], boolean], AppointmentMoment[][]\n> = (appointments, grouping, resources, groups, excludedDays, sliceByDay = false) => {\n  const slicedAppointments = sliceByDay ?\n    appointments[0].reduce((acc: AppointmentMoment[], appointment: AppointmentMoment) => ([\n      ...acc,\n      ...sliceAppointmentsByDays(appointment, excludedDays),\n    ]), [] as AppointmentMoment[]) : appointments[0];\n\n  const expandedAppointments = (slicedAppointments as AppointmentMoment[])\n    .reduce((acc: AppointmentMoment[], appointment: AppointmentMoment) => [\n      ...acc,\n      ...expandGroupedAppointment(appointment, grouping, resources),\n    ], [] as AppointmentMoment[]);\n  return groupAppointments(expandedAppointments, resources, groups);\n};\n\nexport const updateTimeTableCellElementsMeta: PureComputed<\n  [CellElementsMeta, (viewName: string) => GroupOrientation, Group[][],\n  boolean, ViewCell[][], SchedulerView], CellElementsMeta\n> = (\n  timeTableElementsMeta, groupOrientation, groups, allDayPanelExists, viewCellsData, currentView,\n) => {\n  if (checkCellElementsMeta(\n    timeTableElementsMeta, groupOrientation, currentView, allDayPanelExists,\n  )) {\n    return timeTableElementsMeta;\n  }\n\n  const {\n    groupCount, timeTableWidth, groupSize, validGetCellRects,\n  } = initializeCellElementsData(timeTableElementsMeta, viewCellsData, groups);\n  let allDayPanelsLeft = groupCount;\n\n  while (allDayPanelsLeft > 0) {\n    allDayPanelsLeft -= 1;\n    validGetCellRects.splice(allDayPanelsLeft * (timeTableWidth + groupSize), timeTableWidth);\n  }\n\n  return {\n    parentRect: timeTableElementsMeta.parentRect,\n    getCellRects: validGetCellRects,\n  };\n};\n\nexport const updateAllDayCellElementsMeta: PureComputed<\n  [CellElementsMeta, CellElementsMeta, (viewName: string) => GroupOrientation, Group[][],\n  boolean, ViewCell[][], SchedulerView], CellElementsMeta\n> = (\n  allDayElementsMeta, timeTableElementsMeta, groupOrientation, groups,\n  allDayPanelExists, viewCellsData, currentView,\n) => {\n  if (checkCellElementsMeta(\n    timeTableElementsMeta, groupOrientation, currentView, allDayPanelExists,\n  )) {\n    return allDayElementsMeta;\n  }\n\n  const {\n    groupCount, timeTableWidth, groupSize, validGetCellRects,\n  } = initializeCellElementsData(timeTableElementsMeta, viewCellsData, groups);\n  let allDayPanelsLeft = groupCount;\n\n  while (allDayPanelsLeft > 0) {\n    allDayPanelsLeft -= 1;\n    validGetCellRects.splice(\n      groupSize * allDayPanelsLeft + timeTableWidth * (allDayPanelsLeft + 1), groupSize,\n    );\n  }\n\n  return {\n    parentRect: timeTableElementsMeta.parentRect,\n    getCellRects: validGetCellRects,\n  };\n};\n\nconst checkCellElementsMeta: PureComputed<\n  [CellElementsMeta, (viewName: string) => GroupOrientation, SchedulerView, boolean], boolean\n> = (\n  cellElementsMeta, groupOrientation, currentView, allDayPanelExists,\n) => groupOrientation(currentView.name) === HORIZONTAL_GROUP_ORIENTATION\n  || !allDayPanelExists || !cellElementsMeta.getCellRects;\n\nconst initializeCellElementsData: PureComputed<\n  [CellElementsMeta, ViewCell[][], Group[][]], any\n> = (cellElementsMeta, viewCellsData, groups) => {\n  const timeTableWidth = viewCellsData[0].length;\n  const groupCount = getGroupsLastRow(groups).length;\n  const groupHeight = viewCellsData.length / groupCount;\n  return {\n    groupCount,\n    timeTableWidth,\n    groupSize: timeTableWidth * groupHeight,\n    validGetCellRects: cellElementsMeta.getCellRects.slice(),\n  };\n};\n\nexport const updateTimeCellsData: PureComputed<\n  [ViewCell[][], ViewCell[][], Group[][], ValidResource[], GroupOrientation], ViewCell[][]\n> = (viewCellsData, timeCellsData, groups, sortedResources, groupOrientation) => {\n  const { startDate: firstViewDate } = viewCellsData[0][0];\n  if (!containsDSTChange(firstViewDate)) {\n    return viewCellsData;\n  }\n\n  if (groupOrientation !== VERTICAL_GROUP_ORIENTATION) {\n    return timeCellsData;\n  }\n\n  return expandVerticallyGroupedCells(timeCellsData, groups, sortedResources);\n};\n", "import {\n  AllDayRects, VerticalRects, HorizontalRects,\n} from '../../types';\nimport {\n  VERTICAL_TYPE, HORIZONTAL_TYPE,\n} from '../../constants';\nimport { calculateRectByDateAndGroupIntervals } from '../appointments/helpers';\nimport { calculateWeekDateIntervals } from '../week-view/computeds';\nimport { getVerticalRectByAppointmentData } from '../vertical-rect/helpers';\nimport { getHorizontalRectByAppointmentData } from '../horizontal-rect/helpers';\nimport { calculateMonthDateIntervals } from '../month-view/computeds';\nimport { calculateAllDayDateIntervals } from '../all-day-panel/computeds';\nimport { expandGroups } from '../integrated-grouping/computeds';\nimport { getGroupsLastRow } from '../integrated-grouping/helpers';\n\nexport const allDayRects: AllDayRects = (\n  appointments, startViewDate, endViewDate,\n  excludedDays, viewCellsData, cellElementsMeta,\n  grouping, resources, groups, groupOrientation, sliceAppointments,\n) => {\n  const intervals = calculateAllDayDateIntervals(\n    appointments, startViewDate, endViewDate, excludedDays,\n  );\n  const groupedIntervals = expandGroups(\n    intervals, grouping, resources, groups, excludedDays, sliceAppointments,\n  );\n\n  return calculateRectByDateAndGroupIntervals(\n    {\n      growDirection: HORIZONTAL_TYPE,\n      multiline: false,\n    },\n    groupedIntervals,\n    getHorizontalRectByAppointmentData,\n    {\n      startViewDate,\n      endViewDate,\n      viewCellsData,\n      cellElementsMeta,\n      excludedDays,\n    },\n    {\n      groupOrientation,\n      groupedByDate: sliceAppointments,\n      groupCount: groups ? getGroupsLastRow(groups).length : 1,\n    },\n  );\n};\n\nexport const verticalTimeTableRects: VerticalRects = (\n  appointments, startViewDate, endViewDate, excludedDays, viewCellsData,\n  cellDuration, cellElementsMeta, grouping, resources, groups,  groupOrientation, groupByDate,\n) => {\n  const intervals = calculateWeekDateIntervals(\n    appointments, startViewDate, endViewDate, excludedDays, cellDuration,\n  );\n  const groupedIntervals = expandGroups(\n    intervals, grouping, resources, groups, excludedDays, false,\n  );\n\n  return calculateRectByDateAndGroupIntervals(\n    {\n      growDirection: VERTICAL_TYPE,\n      multiline: false,\n    },\n    groupedIntervals,\n    getVerticalRectByAppointmentData,\n    {\n      startViewDate,\n      endViewDate,\n      viewCellsData,\n      cellDuration,\n      cellElementsMeta,\n    },\n    {\n      groupOrientation,\n      groupedByDate: groupByDate,\n      groupCount: groups ? getGroupsLastRow(groups).length : 1,\n    },\n  );\n};\n\nexport const horizontalTimeTableRects: HorizontalRects = (\n  appointments, startViewDate, endViewDate, viewCellsData,\n  cellElementsMeta, grouping, resources, groups, groupOrientation, sliceAppointments,\n) => {\n  const intervals = calculateMonthDateIntervals(\n    appointments, startViewDate, endViewDate,\n  );\n  const groupedIntervals = expandGroups(\n    intervals, grouping, resources, groups, [], sliceAppointments,\n  );\n\n  return calculateRectByDateAndGroupIntervals(\n    {\n      growDirection: HORIZONTAL_TYPE,\n      multiline: true,\n    },\n    groupedIntervals,\n    getHorizontalRectByAppointmentData,\n    {\n      startViewDate,\n      endViewDate,\n      viewCellsData,\n      cellElementsMeta,\n    },\n    {\n      groupOrientation,\n      groupedByDate: sliceAppointments,\n      groupCount: groups ? getGroupsLastRow(groups).length : 1,\n    },\n  );\n};\n", "import { DateTimeFormatInstanceFn } from '../../types';\n\nexport const dateTimeFormatInstance: DateTimeFormatInstanceFn = (\n  locale, formatOptions,\n) => new Intl.DateTimeFormat(locale, formatOptions);\n", "import { PureComputed } from '@devexpress/dx-core';\nimport { AppointmentModel, Appointment, FormatDateTimeGetterFn, FormatterFn } from '../../types';\nimport { convertToMoment } from '../common/helpers';\nimport { dateTimeFormatInstance } from './helpers';\n\nexport const appointments: PureComputed<\n  [AppointmentModel[]], Appointment[]\n> = data => data.map((appointment, index) => ({\n  dataItem: appointment,\n  start: appointment.startDate,\n  ...appointment.endDate !== undefined ? {\n    end: appointment.endDate,\n  } : {\n    end: appointment.startDate,\n    dataItem: { ...appointment, endDate: appointment.startDate },\n  },\n  ...appointment.allDay !== undefined && {\n    allDay: appointment.allDay,\n  },\n  ...appointment.rRule !== undefined && {\n    rRule: appointment.rRule,\n  },\n  ...appointment.exDate !== undefined && {\n    exDate: appointment.exDate,\n  },\n  key: appointment.id || index,\n}));\n\nexport const formatDateTimeGetter: FormatDateTimeGetterFn = (locale) => {\n  const cache = new Map<Intl.DateTimeFormatOptions, Intl.DateTimeFormat>(); // any -> type\n\n  const formatter: FormatterFn = (nextDate, nextOptions) => {\n    if (nextDate === undefined) return '';\n    const date = convertToMoment(nextDate).toDate();\n    let formatInstance = cache.get(nextOptions);\n\n    if (!formatInstance) {\n      formatInstance = dateTimeFormatInstance(locale, nextOptions);\n      cache.set(nextOptions, formatInstance);\n    }\n\n    return formatInstance.format(date);\n  };\n  return formatter;\n};\n", "import { PureComputed } from '@devexpress/dx-core';\nimport { Group, HorizontalGroupingCellData, VerticalGroupingCellData } from '../../types';\nimport { getGroupsLastRow } from '../integrated-grouping/helpers';\n\nexport const getCellKey: PureComputed<\n  [Group[][], number, number], string\n> = (groups, groupIndex, rowNumber) => {\n  let currentIndex = groupIndex;\n  return groups.reduceRight((acc: string, groupRow: Group[], rowIndex: number) => {\n    if (rowNumber < rowIndex) return acc;\n    const currentKey = groupRow[currentIndex].id;\n    if (rowIndex > 0) {\n      const currentRowLength = groups[rowIndex].length / groups[rowIndex - 1].length;\n      currentIndex = Math.floor(currentIndex / currentRowLength);\n    }\n    return acc + currentKey;\n  }, '' as string);\n};\n\nexport const getRowFromGroups: PureComputed<\n  [number, Group[], any, Group[][], number], HorizontalGroupingCellData[]\n> = (width, groupRow, cellStyle, groups, rowIndex) => {\n  let row = [] as any[];\n  const currentRowLength = groupRow.length;\n  const standardWidth = width / getGroupsLastRow(groups).length;\n  const colSpan = getGroupsLastRow(groups).length / currentRowLength;\n  for (let i = 0; i < standardWidth; i += 1) {\n    row = [...row, ...groupRow.reduce((acc, group, index) => [\n      ...acc,\n      {\n        group,\n        colSpan,\n        key: getCellKey(groups, index, rowIndex) + i,\n        left: cellStyle.left,\n        endOfGroup: index === currentRowLength - 1,\n      },\n    ], [] as any[])];\n  }\n  return row;\n};\n\nexport const getVerticalRowFromGroups: PureComputed<\n  [Group[][], number, number, number, boolean, number], VerticalGroupingCellData[]\n> = (\n  groups, groupIndex, groupingPanelRowSpan,\n  timeTableCellHeight, addAllDayHeight, allDayCellHeight,\n) => groups.reduce((\n  acc, groupColumn, columnIndex,\n) => {\n  const groupSpan = getGroupsLastRow(groups).length / groupColumn.length;\n  const cellIndex = groupIndex / groupSpan;\n  const baseHeight = (groupingPanelRowSpan * groupSpan * timeTableCellHeight)\n    / getGroupsLastRow(groups).length;\n  const allDayHeight = groupSpan * allDayCellHeight;\n\n  return groupIndex % groupSpan !== 0 ? acc : [\n    ...acc,\n    {\n      group: groupColumn[cellIndex],\n      rowSpan: groupSpan,\n      height: addAllDayHeight ? baseHeight + allDayHeight : baseHeight,\n      key: getCellKey(groups, cellIndex, columnIndex),\n    },\n  ];\n}, [] as VerticalGroupingCellData[]);\n", "import { PureComputed } from '@devexpress/dx-core';\nimport { HORIZONTAL_GROUP_ORIENTATION } from '../../constants';\nimport { ViewCell, Group, GroupOrientation, TimeScaleLabelData, AllDayCell } from '../../types';\nimport { getCellKey } from '../grouping-panel/utils';\nimport { getGroupsLastRow } from '../integrated-grouping/helpers';\n\nconst getLabelsForSingleGroup: PureComputed<\n  [Group[][], ViewCell[][], number, number], TimeScaleLabelData[]\n> = (groups, cellsData, groupIndex, groupHeight) => {\n  const currentGroupIndex = groupIndex * groupHeight;\n  const nextGroupIndex = currentGroupIndex + groupHeight;\n\n  return cellsData.slice(currentGroupIndex, nextGroupIndex - 1).reduce((\n    acc: TimeScaleLabelData[], days: ViewCell[],\n  ) => (([\n    ...acc,\n    {\n      startDate: days[0].startDate,\n      endDate: days[0].endDate,\n      key: days[0].endDate + getCellKey(groups, groupIndex, groups.length - 1),\n      groupingInfo: days[0].groupingInfo,\n    },\n  ])), [] as TimeScaleLabelData[]);\n};\n\nexport const getLabelsForAllGroups: PureComputed<\n  [ViewCell[][], Group[][], GroupOrientation], TimeScaleLabelData[][]\n> = (cellsData, groups, groupOrientation) => {\n  if (groupOrientation === HORIZONTAL_GROUP_ORIENTATION) {\n    return [cellsData.map(cellsRow => ({\n      startDate: cellsRow[0].startDate,\n      endDate: cellsRow[0].endDate,\n      groupingInfo: cellsRow[0].groupingInfo,\n      key: cellsRow[0].endDate,\n    }))];\n  }\n\n  const groupCount = getGroupsLastRow(groups).length;\n  const singleGroupHeight = cellsData.length / groupCount;\n\n  return getGroupsLastRow(groups).reduce((\n    acc: TimeScaleLabelData[][], group: Group, groupIndex: number,\n  ) => [\n    ...acc,\n    getLabelsForSingleGroup(\n      groups, cellsData, groupIndex, singleGroupHeight,\n    ) as TimeScaleLabelData[],\n  ], [] as TimeScaleLabelData[][]);\n};\n\nexport const prepareVerticalViewCellsData: PureComputed<\n  [ViewCell[][], AllDayCell[][]], ViewCell[][][]\n> = (cellsData, allDayCellsData) => {\n  const groupCount = allDayCellsData?.length || 1;\n  const validCellsData = [] as ViewCell[][][];\n  const groupHeight = cellsData.length / groupCount;\n  for (let i = 0; i < groupCount; i += 1) {\n    validCellsData.push(cellsData.slice(i * groupHeight, (i + 1) * groupHeight));\n  }\n  return validCellsData;\n};\n", "import moment from 'moment';\nimport { PureReducer } from '@devexpress/dx-core';\nimport { ChangeCurrentDatePayload } from '../../types';\n\nexport const changeCurrentDate: PureReducer<Date, ChangeCurrentDatePayload> = (\n  currentDate, {\n  nextDate, step, amount, direction,\n}) => (\n  nextDate\n  || moment(currentDate as Date)[direction === 'back' ? 'subtract' : 'add'](amount, step)\n    .toDate()\n  || moment().subtract(amount, step)\n);\n\nexport const setCurrentViewName: PureReducer<\n  string, string, string\n> = (currentViewName, nextViewName) => nextViewName;\n", "import { PureReducer } from '@devexpress/dx-core';\nimport { AppointmentMeta } from '../../types';\n\nexport const setAppointmentMeta: PureReducer<AppointmentMeta, AppointmentMeta> = (\n  prevAppointmentMeta,\n  { target, data },\n) => ({ target, data });\n", "export const OPEN_COMMAND_BUTTON = 'open';\nexport const CLOSE_COMMAND_BUTTON = 'close';\nexport const DELETE_COMMAND_BUTTON = 'delete';\nexport const CANCEL_COMMAND_BUTTON = 'cancel';\nexport const COMMIT_COMMAND_BUTTON = 'commit';\n", "import { PureReducer } from '@devexpress/dx-core';\nimport { AppointmentModel, AppointmentDataPayload } from '../../types';\n\nexport const setAppointmentData: PureReducer<\n  AppointmentModel, AppointmentDataPayload\n> = (prevAppointmentData, { appointmentData }) => appointmentData;\n", "import {\n  LONG_WEEK_DAY_OPTIONS, DAY_LONG_MONTH_OPTIONS,\n  LONG_MONTH_OPTIONS,\n} from '@devexpress/dx-scheduler-core';\nimport { PureComputed } from '@devexpress/dx-core';\nimport {\n  SelectOption, OptionsFormatterFn, DateFormatterFn, RecurrenceFrequency,\n} from '../../types';\nimport {\n  MONTHS_DATES, REPEAT_TYPES_ARRAY, WEEK_NUMBER_LABELS, DAYS_IN_WEEK, RRULE_REPEAT_TYPES,\n  BASIC_YEALY_COUNT, BASIC_MONTHLY_COUNT, BASIC_WEEKLY_COUNT, BASIC_DAILY_COUNT,\n} from './constants';\nimport { getDaysOfWeekDates, getDaysOfWeekArray } from './helpers';\n\nexport const getWeekNumberLabels: OptionsFormatterFn = getMessage =>\n  WEEK_NUMBER_LABELS.map((weekNumberLabel, index) => ({\n    text: getMessage(weekNumberLabel),\n    id: index,\n  }));\n\nexport const getDaysOfWeek: PureComputed<\n  [(date: Date, formatOptions: object) => string, number], Array<SelectOption>\n> = (formatDate, firstDayOfWeek) => {\n  const daysOfWeekArray = getDaysOfWeekArray(firstDayOfWeek);\n  const daysOfWeekDates = getDaysOfWeekDates(firstDayOfWeek);\n  return daysOfWeekDates.map(\n    (day, index) => ({\n      text: getDayOfWeek(day, formatDate),\n      id: index + 1 < DAYS_IN_WEEK ? daysOfWeekArray[index + 1] : daysOfWeekArray[0],\n    }),\n  );\n};\n\nexport const getMonths: DateFormatterFn = formatDate => MONTHS_DATES.map((month, index) => ({\n  text: getMonth(month, formatDate),\n  id: getMonthId(index),\n}));\n\nexport const getMonthsWithOf: PureComputed<\n  [(messageKey: string) => string, (date: Date, formatOptions: object) => string],\n    Array<SelectOption>\n> = (getMessage, formatDate) => MONTHS_DATES.map((month, index) => ({\n  text: getMonthWithOf(month, getMessage, formatDate),\n  id: getMonthId(index),\n}));\n\nconst getMonthWithOf = (\n  date: Date,\n  getMessage: (messageKey: string) => string,\n  formatDate: (date: Date, formatOptions: object) => string,\n) => getMessage('ofLabel')\n  + formatDate(date, DAY_LONG_MONTH_OPTIONS).replace(/[\\d.,]/g, '').toString();\n\nconst getMonth = (\n  date: Date,\n  formatDate: (date: Date, formatOptions: object) => string,\n) => formatDate(date, LONG_MONTH_OPTIONS);\n\nconst getDayOfWeek = (\n  date: Date,\n  formatDate: (date: Date, formatOptions: object) => string,\n) => formatDate(date, LONG_WEEK_DAY_OPTIONS);\n\nconst getMonthId: PureComputed<\n  [number], number\n> = index => index + 1;\n\nexport const getAvailableRecurrenceOptions: OptionsFormatterFn = getMessage =>\n  REPEAT_TYPES_ARRAY.map(type => ({\n    text: getMessage(type),\n    id: type,\n  }));\n\nexport const getCountDependingOnRecurrenceType = (frequency: RecurrenceFrequency) => {\n  let count;\n  switch (frequency) {\n    case RRULE_REPEAT_TYPES.YEARLY:\n      count = BASIC_YEALY_COUNT;\n      break;\n    case RRULE_REPEAT_TYPES.MONTHLY:\n      count = BASIC_MONTHLY_COUNT;\n      break;\n    case RRULE_REPEAT_TYPES.WEEKLY:\n      count = BASIC_WEEKLY_COUNT;\n      break;\n    case RRULE_REPEAT_TYPES.DAILY:\n      count = BASIC_DAILY_COUNT;\n      break;\n  }\n  return count;\n};\n\nexport const checkIsNaturalNumber: PureComputed<\n  [number], boolean\n> = number => number > 0 && number <= Number.MAX_SAFE_INTEGER;\n", "import moment from 'moment';\nimport { PureComputed } from '@devexpress/dx-core';\nimport { RRule, Options, Weekday } from 'rrule';\nimport {\n  Action,\n  StartDate,\n  EndDate,\n  RadioGroupDisplayData,\n  ValidResource,\n} from '../../types';\nimport {\n  DEFAULT_RULE_OBJECT, RRULE_REPEAT_TYPES, REPEAT_TYPES, LAST_WEEK,\n  DAYS_OF_WEEK_ARRAY, DAYS_IN_WEEK, DAYS_OF_WEEK_DATES, RRULE_DAYS_OF_WEEK,\n} from './constants';\nimport { getCountDependingOnRecurrenceType } from './utils';\n\nexport const callActionIfExists: PureComputed<[Action, object], void> = (action, payload) => {\n  if (action) {\n    action(payload);\n  }\n};\n\nexport const isAllDayCell: PureComputed<\n  [StartDate, EndDate], boolean\n> = (\n  startDate, endDate,\n) => moment(endDate as EndDate).diff(moment(startDate as StartDate), 'days') >= 1;\n\nexport const changeRecurrenceFrequency: PureComputed<\n  [string, number, Date], string\n> = (\n  rule, freq, startDate,\n) => {\n  if (!rule) {\n    if (freq === RRULE_REPEAT_TYPES.MONTHLY) {\n      return (new RRule({\n        ...DEFAULT_RULE_OBJECT,\n        freq,\n        bymonthday: [startDate.getDate()],\n        count: getCountDependingOnRecurrenceType(freq),\n      })).toString();\n    }\n    if (freq === RRULE_REPEAT_TYPES.YEARLY) {\n      return (new RRule({\n        ...DEFAULT_RULE_OBJECT,\n        freq,\n        bymonthday: [startDate.getDate()],\n        bymonth: startDate.getMonth() + 1,\n        count: getCountDependingOnRecurrenceType(freq),\n      })).toString();\n    }\n    return (new RRule({\n      ...DEFAULT_RULE_OBJECT, freq, count: getCountDependingOnRecurrenceType(freq),\n    })).toString();\n  }\n\n  const options = RRule.parseString(rule);\n  if (options.freq === freq) return rule;\n\n  options.freq = freq;\n  options.count = getCountDependingOnRecurrenceType(freq);\n  if (freq === RRULE_REPEAT_TYPES.MONTHLY || freq === RRULE_REPEAT_TYPES.YEARLY) {\n    options.bymonthday = startDate.getDate();\n  }\n  if (freq === RRULE_REPEAT_TYPES.YEARLY) {\n    options.bymonth = startDate.getMonth() + 1;\n  }\n  if (freq === RRULE_REPEAT_TYPES.DAILY || freq === RRULE_REPEAT_TYPES.WEEKLY) {\n    options.bymonthday = undefined;\n  }\n  options.byweekday = undefined;\n  const nextRule = new RRule(options);\n  return nextRule.toString();\n};\n\nexport const getRecurrenceOptions: PureComputed<\n  [string | undefined], Partial<Options> | null\n> = rule => !rule ? null : RRule.parseString(rule);\n\nexport const changeRecurrenceOptions = (options: Partial<Options>) => {\n  return options ? (new RRule({ ...options })).toString() : undefined;\n};\n\nexport const handleStartDateChange = (nextStartDay: number, options: Partial<Options>) => {\n  if (nextStartDay <= 31) {\n    const nextOptions = { ...options, bymonthday: nextStartDay };\n    return changeRecurrenceOptions(nextOptions);\n  }\n  return changeRecurrenceOptions(options);\n};\n\nexport const handleToDayOfWeekChange = (\n  weekNumber: number, dayOfWeek: number, options: Partial<Options>,\n) => {\n  const validDayOfWeek = dayOfWeek > 0 ? dayOfWeek - 1 : 6;\n  const validWeekNumber = weekNumber === 4 ? -1 : weekNumber + 1;\n  const rruleDayOfWeek = RRULE_DAYS_OF_WEEK[validDayOfWeek];\n\n  const nextOptions = {\n    ...options,\n    byweekday: [rruleDayOfWeek.nth(validWeekNumber)],\n    bymonthday: undefined,\n  };\n\n  return changeRecurrenceOptions(nextOptions);\n};\n\nexport const getRRuleFrequency: PureComputed<\n  [string], number\n> = repeatType => RRULE_REPEAT_TYPES[repeatType.toUpperCase()];\n\nexport const getFrequencyString: PureComputed<\n  [number], string\n> = (rRuleFrequency) => {\n  if (rRuleFrequency === RRULE_REPEAT_TYPES.DAILY) return REPEAT_TYPES.DAILY;\n  if (rRuleFrequency === RRULE_REPEAT_TYPES.WEEKLY) return REPEAT_TYPES.WEEKLY;\n  if (rRuleFrequency === RRULE_REPEAT_TYPES.MONTHLY) return REPEAT_TYPES.MONTHLY;\n  if (rRuleFrequency === RRULE_REPEAT_TYPES.YEARLY) return REPEAT_TYPES.YEARLY;\n  return REPEAT_TYPES.NEVER;\n};\n\nexport const getRadioGroupDisplayData: PureComputed<\n  [Partial<Options>, number, number, number, string, string], RadioGroupDisplayData\n> = (\n  recurrenceOptions, stateDayOfWeek, stateWeekNumber, stateDayNumber, firstOption, secondOption,\n) => {\n  if (recurrenceOptions.bymonthday && !Array.isArray(recurrenceOptions.bymonthday)) {\n    return {\n      dayNumberTextField: (recurrenceOptions.bymonthday as number),\n      weekNumber: stateWeekNumber,\n      dayOfWeek: stateDayOfWeek,\n      radioGroupValue: firstOption,\n    };\n  }\n  if (!recurrenceOptions.byweekday) {\n    return {\n      dayOfWeek: stateDayOfWeek,\n      weekNumber: stateWeekNumber,\n      radioGroupValue: secondOption,\n      dayNumberTextField: stateDayNumber,\n    };\n  }\n  const dayOfWeek = recurrenceOptions.byweekday[0].weekday < 6\n    ? recurrenceOptions.byweekday[0].weekday + 1 : 0;\n  const weekNumber = recurrenceOptions.byweekday[0].n === -1\n    ? LAST_WEEK\n    : recurrenceOptions.byweekday[0].n - 1;\n\n  return {\n    dayOfWeek,\n    weekNumber,\n    radioGroupValue: secondOption,\n    dayNumberTextField: stateDayNumber,\n  };\n};\n\nexport const handleChangeFrequency: PureComputed<\n  [string, string, Date, Action], void\n> = (repeatType, rRule, startDate, action) => {\n  const rruleRepeatType = getRRuleFrequency(repeatType);\n  let nextRRule;\n  if (rruleRepeatType !== undefined) {\n    nextRRule = changeRecurrenceFrequency(\n      rRule,\n      rruleRepeatType,\n      startDate,\n    );\n  }\n  action({ rRule: nextRRule });\n};\n\nexport const handleWeekDaysChange: PureComputed<\n[Partial<Options>, number], void\n> = (options, currentWeekDay) => {\n  const byWeekDay = options.byweekday || [];\n  const index = (byWeekDay as Weekday[]).findIndex(({ weekday }) => weekday === currentWeekDay);\n\n  const isAdded = index === -1;\n\n  if (isAdded) {\n    (byWeekDay as Weekday[]).push(RRULE_DAYS_OF_WEEK[currentWeekDay]);\n  } else if (index > -1) {\n    (byWeekDay as Weekday[]).splice(index, 1);\n  }\n  if (byWeekDay === 0) return { ...options, byweekday: undefined };\n  return { ...options, byweekday: byWeekDay };\n};\n\nexport const getDaysOfWeekArray: PureComputed<[number], Array<number>> = (firstDayOfWeek) => {\n  const firstPart = DAYS_OF_WEEK_ARRAY.filter(\n    dayOfWeek => dayOfWeek >= firstDayOfWeek - 1 && dayOfWeek < DAYS_IN_WEEK - 1,\n  );\n  const secondPart = DAYS_OF_WEEK_ARRAY.filter(\n    dayOfWeek => dayOfWeek < firstDayOfWeek - 1 || dayOfWeek >= DAYS_IN_WEEK - 1,\n  );\n  return firstDayOfWeek !== 0 ? [...firstPart, ...secondPart] : [...secondPart, ...firstPart];\n};\n\nexport const getDaysOfWeekDates: PureComputed<[number], Array<Date>> = (firstDayOfWeek) => {\n  const firstPart = DAYS_OF_WEEK_DATES.slice(firstDayOfWeek, DAYS_OF_WEEK_DATES.length);\n  const secondPart = DAYS_OF_WEEK_DATES.slice(0, firstDayOfWeek);\n  return [...firstPart, ...secondPart];\n};\n\nexport const checkMultipleResourceFields: PureComputed<\n  [object, ValidResource[]], object\n> = (resourceFields, resources) => resources.reduce((acc, resource) => {\n  if (!resource.allowMultiple) {\n    return acc;\n  }\n\n  const fieldName = resource.fieldName;\n  const field = resourceFields[fieldName];\n  return {\n    ...acc,\n    [fieldName]: Array.isArray(field) ? field : [field],\n  };\n}, resourceFields);\n", "import { PureReducer } from '@devexpress/dx-core';\nimport {\n  AddedAppointmentDataPayload, AppointmentModel, Changes, EditAppointmentPayload,\n} from '../../types';\n\nexport const addAppointment: PureReducer<\n  AppointmentModel, AddedAppointmentDataPayload, AppointmentModel | {}\n> = (\n  addedAppointmentData, { appointmentData } = { appointmentData:  {} },\n) => appointmentData;\n\nexport const cancelAddedAppointment = () => ({});\n\nexport const startEditAppointment: PureReducer<\n  Partial<AppointmentModel>, EditAppointmentPayload\n> = (prevEditingAppointment, appointmentData) => appointmentData;\n\nexport const stopEditAppointment = () => null;\n\nexport const changeAppointment: PureReducer<\nAppointmentModel, Changes\n> = (\n  appointment, { change },\n) => ({ ...appointment, ...change });\n\nexport const cancelChanges = () => ({});\n", "import { PureComputed } from '@devexpress/dx-core';\nimport { AppointmentId, AppointmentChanges, Changes } from '../../types';\n\nexport const changedAppointmentById: PureComputed<\n  [Changes, AppointmentId], AppointmentChanges\n> = (changes, appointmentId) => (\n  { [appointmentId]: changes }\n);\n", "import moment from 'moment';\nimport { RRule, RRuleSet } from 'rrule';\nimport {\n  AppointmentModel, PreCommitChangesFn, Changes, MakeDateSequenceFn, EditFn, DeleteFn, ChangeFn,\n} from '../../types';\nimport { RECURRENCE_EDIT_SCOPE } from '../../constants';\nimport { getUTCDate, getRRuleSetWithExDates, formatDateToString } from '../../utils';\n\nconst mergeNewChanges = (\n  appointmentData: Partial<AppointmentModel>, changes: Changes,\n) => {\n  const appointment = {\n    ...appointmentData,\n  };\n  delete appointment.id;\n  delete appointment.rRule;\n  delete appointment.exDate;\n  delete appointment.parentData;\n  return { ...appointment, ...changes };\n};\n\nconst reduceExDate = (prevExDate: string, boundDate: Date) => {\n  if (prevExDate.length > 0) {\n    return prevExDate.split(',').reduce((acc: string[], date: string) => {\n      const momentDate = moment.utc(date);\n      if (momentDate.isBefore(boundDate)) {\n        return [...acc, date];\n      }\n      return acc;\n    }, []).join(',');\n  }\n  return undefined;\n};\n\nconst configureExDate = (exDate: string | undefined, date: Date) => {\n  const currentExDate = `${moment.utc(date).format('YYYYMMDDTHHmmss')}Z`;\n  return exDate\n    ? `${exDate},${currentExDate}`\n    : currentExDate;\n};\n\nconst configureDateSequence: MakeDateSequenceFn = (rRule, exDate, prevStartDate, nextStartDate) => {\n  const rruleSet = getRRuleSetWithExDates(exDate);\n\n  const currentOptions = RRule.parseString(rRule as string);\n  const correctedOptions = currentOptions.until\n    ? { ...currentOptions, until: moment(getUTCDate(currentOptions.until)).toDate() }\n    : currentOptions;\n  const prevStartDateUTC = moment(getUTCDate(prevStartDate!)).toDate();\n  rruleSet.rrule(new RRule({\n    ...correctedOptions,\n    dtstart: prevStartDateUTC,\n  }));\n  if (currentOptions.count || currentOptions.until) {\n    return {\n      options: currentOptions,\n      dates: rruleSet.all()\n      // we shouldn't use `new Date(string)` because this function has different results in Safari\n      .map(nextDate => moment(formatDateToString(nextDate)).toDate()),\n    };\n  }\n  const leftBound = prevStartDateUTC;\n  const rightBound = moment(getUTCDate(nextStartDate!)).toDate();\n  return {\n    options: currentOptions,\n    dates: rruleSet.between(leftBound, rightBound, true)\n    .map(nextDate => moment(formatDateToString(nextDate)).toDate()),\n  };\n};\n\nconst configureICalendarRules = (rRule: string | undefined, options: object) => {\n  const rruleSet = new RRuleSet();\n  rruleSet.rrule(new RRule({\n    ...RRule.parseString(rRule as string),\n    ...options,\n  }));\n  return rruleSet.valueOf();\n};\n\nconst changeCurrentAndFollowing: ChangeFn = (appointmentData, changes, changeAllAction) => {\n  const { rRule, startDate, parentData, exDate: prevExDate = '', id } = appointmentData;\n\n  const { initialSequence, currentChildIndex } = getAppointmentSequenceData(\n    parentData.startDate, moment.utc(startDate as Date).toDate(), prevExDate, rRule,\n  );\n\n  if (currentChildIndex === 0) return changeAllAction(appointmentData, changes);\n\n  const changedRules = configureICalendarRules(rRule as string, {\n    dtstart: moment.utc(parentData.startDate).toDate(),\n    until: moment.utc(initialSequence[currentChildIndex - 1]).toDate(),\n    count: null,\n  });\n\n  const nextExDate = reduceExDate(prevExDate, startDate as Date);\n  return {\n    changed: {\n      [id!]: {\n        rRule: changedRules[1].slice(6),\n        ...nextExDate && prevExDate !== nextExDate ? { exDate: nextExDate } : {},\n      },\n    },\n  };\n};\n\nconst getAppointmentSequenceData = (\n  prevStartDate: Date, startDate: Date, exDate: string, rRule: string | undefined,\n) => {\n  const initialSequence = configureDateSequence(rRule, exDate,\n    moment.utc(prevStartDate).toDate(), moment.utc(startDate).toDate(),\n  ).dates;\n  const currentChildIndex = initialSequence\n    .findIndex(date => moment(date).isSame(startDate as Date));\n  return { initialSequence, currentChildIndex };\n};\n\nexport const deleteCurrent: DeleteFn = (appointmentData) => {\n  const { options, dates } = configureDateSequence(\n    appointmentData.rRule, appointmentData.exDate,\n    moment.utc(appointmentData.parentData.startDate).toDate(),\n    moment.utc(appointmentData.startDate).toDate(),\n  );\n\n  if ((options.count || options.until) && dates.length === 1) {\n    return deleteAll(appointmentData);\n  }\n\n  const nextExDate = configureExDate(appointmentData.exDate, appointmentData.startDate as Date);\n  return { changed: { [appointmentData.id!]: { exDate: nextExDate } } };\n};\n\nexport const deleteAll: DeleteFn = (appointmentData) => {\n  return { deleted: appointmentData.id };\n};\n\nexport const deleteCurrentAndFollowing: DeleteFn = appointmentData => changeCurrentAndFollowing(\n  appointmentData, {}, deleteAll,\n);\n\nexport const editAll: EditFn = (appointmentData, changes) => {\n  const { rRule, id } = appointmentData;\n\n  const initialRule = new RRule(RRule.parseString(rRule as string));\n  if (changes.startDate\n    && moment.utc(changes.startDate as Date).isAfter(initialRule.options.until!)) {\n    return {\n      changed: {\n        [id!]: {\n          ...changes,\n          rRule: 'FREQ=DAILY;COUNT=1',\n          exDate: '',\n        },\n      },\n    };\n  }\n\n  return  { changed: {  [appointmentData.id!]: changes } };\n};\n\nexport const editCurrent: EditFn = (appointmentData, changes) => ({\n  changed: {\n    [appointmentData.id!]: {\n      exDate: configureExDate(appointmentData.exDate, appointmentData.startDate as Date),\n    },\n  },\n  added: mergeNewChanges(appointmentData as Partial<AppointmentModel>, changes as Changes),\n});\n\nexport const editCurrentAndFollowing: EditFn = (appointmentData, changes) => {\n  const { rRule, startDate, exDate: prevExDate = '', parentData } = appointmentData;\n  const initialRule = new RRule(RRule.parseString(rRule as string));\n\n  const { initialSequence, currentChildIndex } = getAppointmentSequenceData(\n    parentData.startDate, moment.utc(startDate as Date).toDate(),  prevExDate, rRule,\n  );\n  if (currentChildIndex === 0) return editAll(appointmentData, changes);\n\n  const addedOptions = initialRule.options.count || initialRule.options.until\n    ? { count: initialSequence.length - currentChildIndex }\n    : {};\n  const addedRules = configureICalendarRules(appointmentData.rRule as string, {\n    dtstart: moment.utc(startDate as Date).toDate(),\n    ...addedOptions,\n  });\n\n  const addedAppointment = moment.utc(changes.startDate as Date).isAfter(initialRule.options.until!)\n    ? { rRule: 'FREQ=DAILY;COUNT=1', exDate: '' } : { rRule: addedRules[1].slice(6) };\n\n  return {\n    changed: changeCurrentAndFollowing(appointmentData, changes, editAll).changed,\n    added: {\n      ...addedAppointment, ...mergeNewChanges(appointmentData, changes),\n    },\n  };\n};\n\nexport const preCommitChanges: PreCommitChangesFn = (\n  changes, appointmentData, editType,\n) => {\n  if (changes === null) {\n    switch (editType) {\n      case RECURRENCE_EDIT_SCOPE.ALL: {\n        return deleteAll(appointmentData);\n      }\n      case RECURRENCE_EDIT_SCOPE.CURRENT: {\n        return deleteCurrent(appointmentData);\n      }\n      case RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING: {\n        return deleteCurrentAndFollowing(appointmentData);\n      }\n    }\n  } else {\n    switch (editType) {\n      case RECURRENCE_EDIT_SCOPE.ALL: {\n        return editAll(appointmentData, changes);\n      }\n      case RECURRENCE_EDIT_SCOPE.CURRENT: {\n        return editCurrent(appointmentData, changes);\n      }\n      case RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING: {\n        return editCurrentAndFollowing(appointmentData, changes);\n      }\n    }\n  }\n  return {};\n};\n", "import moment from 'moment';\nimport { PureComputed } from '@devexpress/dx-core';\nimport {\n  ViewCell, ClientOffset, TimeType, ScrollingStrategy,\n  AllDayCell, CalculateAppointmentTimeBoundaries,\n  TimeBoundariesByDrag, TimeBoundariesByResize, AppointmentModel,\n  CellElementsMeta, Grouping, ValidResource, Group, SchedulerDateTime, GroupOrientation,\n} from '../../types';\nimport {\n  VERTICAL_TYPE, HORIZONTAL_TYPE, SCROLL_OFFSET, MINUTES,\n  SECONDS, RESIZE_TOP, RESIZE_BOTTOM, HOURS,\n} from '../../constants';\nimport {\n  allDayRects, horizontalTimeTableRects, verticalTimeTableRects,\n} from '../common/calculate-rects';\n\nconst clamp: PureComputed<\n  [number, number, number]\n> = (value, min, max) => Math.max(Math.min(value, max), min);\n\nconst calculateInsideOffset: PureComputed<\n  [string, number, number], number\n> = (targetType, insidePart, cellDurationMinutes) => targetType === VERTICAL_TYPE\n  ? insidePart * cellDurationMinutes * 60 / 2 : 0;\n\nexport const cellType: PureComputed<\n  [ViewCell | AllDayCell], string\n> = data => moment(data.startDate as Date)\n  .isSame(data.endDate as Date, 'day') ? VERTICAL_TYPE : HORIZONTAL_TYPE;\n\nexport const intervalDuration: PureComputed<\n  [ViewCell | AllDayCell, TimeType], number\n> = (data, type) => moment(data.endDate as Date).diff(data.startDate as Date, type);\n\nexport const cellIndex: PureComputed<\n  [Array<() => ClientRect>, ClientOffset], number\n> = (getCellRects, clientOffset) => getCellRects.findIndex((getCellRect) => {\n  const { left, top, right, bottom } = getCellRect();\n  const isOver = clientOffset\n      && clamp(clientOffset.x, left, right) === clientOffset.x\n      && clamp(clientOffset.y, top, bottom) === clientOffset.y;\n  return isOver;\n});\n\nexport const cellData: PureComputed<\n  [number, number, ViewCell[][], ViewCell[][]], ViewCell | AllDayCell\n> = (timeTableIndex, allDayIndex, viewCellsData, allDayCellsData) => {\n  const cellsData = allDayIndex !== -1 ? allDayCellsData : viewCellsData;\n  const currentIndex = allDayIndex !== -1 ? allDayIndex : timeTableIndex;\n  const tableWidth = cellsData[0].length;\n\n  const rowIndex = Math.floor(currentIndex / tableWidth);\n  const columnIndex = currentIndex % tableWidth;\n  return cellsData[rowIndex][columnIndex];\n};\n\nexport const autoScroll: PureComputed<\n  [ClientOffset, ScrollingStrategy, number], void\n> = (clientOffset, scrollingStrategy, scrollSpeed) => {\n  scroll(\n    clientOffset.y, scrollingStrategy.topBoundary, scrollingStrategy.bottomBoundary,\n    scrollingStrategy.changeVerticalScroll, scrollSpeed,\n  );\n  scroll(\n    clientOffset.x, scrollingStrategy.leftBoundary, scrollingStrategy.rightBoundary,\n    scrollingStrategy.changeHorizontalScroll, scrollSpeed,\n  );\n};\n\nconst scroll: PureComputed<\n  [number, number, number, (value: number) => void, number], void\n> = (offset, firstBoundary, secondBoundary, changeScroll, scrollSpeed) => {\n  if ((offset < firstBoundary + SCROLL_OFFSET) && (offset > firstBoundary)) {\n    changeScroll(-scrollSpeed);\n  }\n  if (secondBoundary - SCROLL_OFFSET < offset) {\n    changeScroll(+scrollSpeed);\n  }\n};\n\nexport const timeBoundariesByResize: TimeBoundariesByResize = (\n  payload, targetData, targetType, cellDurationMinutes, insidePart,\n) => {\n  if (targetType !== payload.appointmentType) {\n    return { appointmentStartTime: undefined, appointmentEndTime: undefined };\n  }\n\n  let appointmentStartTime;\n  let appointmentEndTime;\n  const sourceType = payload.type;\n\n  if (sourceType === RESIZE_TOP) {\n    const insideTopOffset = calculateInsideOffset(targetType, insidePart, cellDurationMinutes);\n    appointmentStartTime = moment(targetData.startDate as Date)\n      .add(insideTopOffset, SECONDS).toDate();\n    appointmentEndTime = moment(payload.endDate as Date).toDate();\n  }\n  if (sourceType === RESIZE_BOTTOM) {\n    const insideBottomOffset = insidePart === 0 && targetType === VERTICAL_TYPE\n      ? cellDurationMinutes * 60 / 2 : 0;\n    appointmentEndTime = moment(targetData.endDate as Date)\n      .add(-insideBottomOffset, SECONDS).toDate();\n    appointmentStartTime = moment(payload.startDate as Date).toDate();\n  }\n  // keep origin appointment duration if coordinates are wrong\n  if (moment(appointmentEndTime).diff(appointmentStartTime, MINUTES) < 1) {\n    appointmentStartTime = moment(payload.startDate as Date).toDate();\n    appointmentEndTime = moment(payload.endDate as Date).toDate();\n  }\n  return { appointmentStartTime, appointmentEndTime };\n};\n\nexport const timeBoundariesByDrag: TimeBoundariesByDrag = (\n  payload, targetData, targetType,\n  cellDurationMinutes, insidePart, offsetTimeTopBase,\n) => {\n  if (targetType === HORIZONTAL_TYPE\n    && intervalDuration(payload, SECONDS) < intervalDuration(targetData, SECONDS)) {\n    return {\n      appointmentStartTime: targetData.startDate as Date,\n      appointmentEndTime: targetData.endDate as Date,\n      offsetTimeTop: 0,\n    };\n  }\n  let offsetTimeTop;\n  let appointmentStartTime;\n  let appointmentEndTime;\n\n  const insideOffset = calculateInsideOffset(targetType, insidePart, cellDurationMinutes);\n  const start = moment(targetData.startDate as Date).add(insideOffset, SECONDS);\n\n  if (offsetTimeTopBase === null) {\n    offsetTimeTop = moment(targetData.startDate as Date)\n      .diff(payload.startDate as Date, SECONDS) + insideOffset;\n  } else {\n    offsetTimeTop = offsetTimeTopBase;\n  }\n\n  if (payload.type === targetType) {\n    const appointmentDurationSeconds = intervalDuration(payload, SECONDS);\n    appointmentStartTime = moment(start).add((offsetTimeTop) * (-1), SECONDS).toDate();\n    appointmentEndTime = moment(start)\n      .add((appointmentDurationSeconds - offsetTimeTop), SECONDS).toDate();\n  } else {\n    appointmentStartTime = moment(targetData.startDate as Date)\n      .add(insideOffset, SECONDS).toDate();\n    appointmentEndTime = moment(targetData.endDate as Date).add(insideOffset, SECONDS).toDate();\n  }\n\n  return { appointmentStartTime, appointmentEndTime, offsetTimeTop };\n};\n\nexport const calculateAppointmentTimeBoundaries: CalculateAppointmentTimeBoundaries = (\n  payload, targetData, targetType,\n  cellDurationMinutes, insidePart, offsetTimeTopBase,\n) => {\n  const isDragging = (payload.type === VERTICAL_TYPE || payload.type === HORIZONTAL_TYPE);\n\n  return(isDragging\n    ? timeBoundariesByDrag(\n        payload, targetData as AppointmentModel, targetType,\n        cellDurationMinutes, insidePart, offsetTimeTopBase,\n      )\n    : timeBoundariesByResize(\n        payload, targetData as AppointmentModel, targetType, cellDurationMinutes, insidePart,\n      )\n  );\n};\n\nexport const calculateInsidePart: PureComputed<\n  [number, Array<() => ClientRect>, number]\n> = (top, timeTableCellsRects, timeTableIndex) => {\n  if (timeTableIndex !== undefined && timeTableIndex !== -1) {\n    const cellRect = timeTableCellsRects[timeTableIndex]();\n    return top > cellRect.top + cellRect.height / 2 ? 1 : 0;\n  }\n  return 0;\n};\n\nexport const calculateDraftAppointments = (\n  allDayIndex: number, draftAppointments: any, startViewDate: Date,\n  endViewDate: Date, excludedDays: number[], viewCellsData: any,\n  getAllDayCellsElementRects: CellElementsMeta,\n  targetType: string, cellDurationMinutes: number,\n  getTableCellElementRects: CellElementsMeta,\n  grouping: Grouping[], resources: ValidResource[], groups: Group[][],\n  groupOrientation: GroupOrientation, groupedByDate: boolean,\n) => {\n  if (allDayIndex !== -1 || (targetType === VERTICAL_TYPE\n    && getAllDayCellsElementRects.getCellRects.length\n    && intervalDuration(draftAppointments[0].dataItem, HOURS) > 23)) {\n    const allDayDrafts = draftAppointments.map((draftAppt: any) => ({\n      ...draftAppt,\n      allDay: true,\n    }));\n\n    return {\n      allDayDraftAppointments: allDayRects(\n        allDayDrafts, startViewDate, endViewDate,\n        excludedDays, viewCellsData, getAllDayCellsElementRects,\n        grouping, resources, groups, groupOrientation, groupedByDate,\n      ),\n      timeTableDraftAppointments: [],\n    };\n  }\n\n  if (targetType === VERTICAL_TYPE || allDayIndex !== -1) {\n    return {\n      allDayDraftAppointments: [],\n      timeTableDraftAppointments: verticalTimeTableRects(\n        draftAppointments, startViewDate, endViewDate,\n        excludedDays, viewCellsData, cellDurationMinutes, getTableCellElementRects,\n        grouping, resources, groups, groupOrientation, groupedByDate,\n      ),\n    };\n  }\n  return {\n    allDayDraftAppointments: [],\n    timeTableDraftAppointments: horizontalTimeTableRects(\n      draftAppointments, startViewDate, endViewDate,\n      viewCellsData, getTableCellElementRects,\n      grouping, resources, groups, groupOrientation, groupedByDate,\n    ),\n  };\n};\n\nexport const calculateAppointmentGroups: PureComputed<\n  [Array<Group> | undefined, Array<ValidResource>, AppointmentModel], any\n> = (cellGroupingInfo, resources, appointmentData) => {\n  if (!cellGroupingInfo) return {};\n  return cellGroupingInfo.reduce((acc, group: Group) => {\n    const isMultipleResource = resources.find(\n      resource => (resource.fieldName === group.fieldName),\n    )!.allowMultiple;\n    return {\n      ...acc,\n      [group.fieldName]: isMultipleResource\n        ? updateMultipleResourceInfo(group, appointmentData) : group.id,\n    };\n  }, {});\n};\n\nconst updateMultipleResourceInfo: PureComputed<\n  [Group, AppointmentModel], any\n> = (cellResource, appointmentData) => {\n  const appointmentGroupItems = appointmentData[cellResource.fieldName];\n  if (appointmentGroupItems.findIndex((groupItem: any) => groupItem === cellResource.id) !== -1) {\n    return appointmentGroupItems;\n  }\n  return [cellResource.id];\n};\n\nexport const appointmentDragged: PureComputed<\n  [SchedulerDateTime, SchedulerDateTime, SchedulerDateTime, SchedulerDateTime, any, any], boolean\n> = (start, startPrev, end, endPrev, groupingInfo, groupingInfoPrev) => {\n  if (moment(start as Date).isSame(startPrev as Date)\n      && moment(end as Date).isSame(endPrev as Date)\n      && groupingInfoNotChanged(groupingInfo, groupingInfoPrev)) {\n    return false;\n  }\n  return true;\n};\n\nconst groupingInfoNotChanged: PureComputed<\n  [any, any], boolean\n> = (groupingInfo, groupingInfoPrev) => {\n  const fields = Object.getOwnPropertyNames(groupingInfo);\n  return fields.every((field) => {\n    if (Array.isArray(groupingInfo[field]) && Array.isArray(groupingInfoPrev[field])) {\n      return groupingInfo[field].every((item: any, index: number) => (\n        item === groupingInfoPrev[field][index]\n      ));\n    }\n    return groupingInfo[field] === groupingInfoPrev[field];\n  });\n};\n", "import { PureComputed } from '@devexpress/dx-core';\nimport moment from 'moment';\nimport {\n  IsCellShadedFn, IsShadedAppointment,\n  GetCurrentTimeIndicatorTopFn,\n} from '../../types';\n\nexport const isMonthCell: PureComputed<\n  [boolean | undefined], boolean\n> = otherMonth => otherMonth !== undefined;\n\nexport const isShadedAppointment: IsShadedAppointment = (\n  { data: appointmentData }, currentTime, shadePreviousAppointments,\n) => {\n  const momentCurrentDate = moment(currentTime);\n  if (appointmentData.allDay) {\n    return momentCurrentDate.isAfter(appointmentData.endDate as Date, 'day')\n    && shadePreviousAppointments;\n  }\n  if (momentCurrentDate.isAfter(appointmentData.endDate as Date)) {\n    return shadePreviousAppointments;\n  }\n  return false;\n};\n\nexport const getCurrentTimeIndicatorTop: GetCurrentTimeIndicatorTopFn = (\n  cellData, currentTime,\n) => {\n  const top = ((currentTime - cellData.startDate.getTime()) * 100)\n  / (cellData.endDate.getTime() - cellData.startDate.getTime());\n  return (top < 0 || top > 100) ? undefined : `${top}%`;\n};\n\nexport const isCellShaded: IsCellShadedFn = (\n  { startDate, endDate, otherMonth }, currentTime, shadePreviousCells,\n) => {\n  const monthCell = isMonthCell(otherMonth);\n  return ((startDate.getTime() < currentTime && !monthCell)\n    || endDate.getTime() < currentTime && monthCell) && shadePreviousCells;\n};\n", "import { GetAppointmentResources, ValidResourceInstance, ValidResource } from '../../types';\nimport { PureComputed } from '@devexpress/dx-core';\n\nexport const getAppointmentResources: GetAppointmentResources = (\n  appointment, resources, plainResources,\n) => {\n  if (\n    !resources || resources.length === 0\n    || !plainResources || plainResources.length === 0\n  ) return [];\n\n  return resources.reduce((acc, resource) => {\n    const appointmentResourceId = appointment[resource.fieldName];\n    if (appointmentResourceId === undefined) return acc;\n\n    if (resource.allowMultiple && !Array.isArray(appointmentResourceId)\n    || !resource.allowMultiple && Array.isArray(appointmentResourceId)) {\n      // throw error\n      return acc;\n    }\n\n    if (resource.allowMultiple) {\n      return [\n        ...acc,\n        ...(appointmentResourceId as Array<number | string>)\n        .reduce((prevResources, itemId) => addResourceToAppointmentResources(\n          plainResources, prevResources, resource, itemId,\n        ) as Array<ValidResourceInstance>, [] as Array<ValidResourceInstance>),\n      ];\n    }\n\n    return addResourceToAppointmentResources(\n      plainResources, acc, resource, appointmentResourceId,\n    ) as Array<ValidResourceInstance>;\n  }, [] as Array<ValidResourceInstance>);\n};\n\nconst addResourceToAppointmentResources: PureComputed<\n  [Array<ValidResourceInstance>, Array<ValidResourceInstance>, ValidResource,\n  number | string], Array<ValidResourceInstance>\n> = (plainResources, appointmentResources, resource, resourceId) => {\n  const currentResource = plainResources.find(\n    plainItem => resource.fieldName === plainItem.fieldName && plainItem.id === resourceId,\n  );\n\n  return currentResource ? [\n    ...appointmentResources,\n    currentResource!,\n  ] : appointmentResources;\n};\n", "import {\n  ConvertResourcesToPlain, ValidateResources, ValidResourceInstance, AddResourcesToAppointments,\n} from '../../types';\nimport { getAppointmentResources } from './helpers';\n\nexport const convertResourcesToPlain: ConvertResourcesToPlain = (validResources) => {\n  return validResources.reduce((acc, resource) => [\n    ...acc,\n    ...resource.instances.map(item => item),\n  ], [] as Array<ValidResourceInstance>);\n};\n\nexport const validateResources: ValidateResources = (resources, mainResourceName, palette) => {\n  const isMainResourceDefined = !!mainResourceName;\n  let currentPaletteIndex = 0;\n  return resources.map((resource, groupIndex) => {\n    const fieldName = resource.fieldName;\n    const isMain = isMainResourceDefined && mainResourceName === fieldName\n      || groupIndex === 0 && !isMainResourceDefined;\n    const title = resource.title || fieldName;\n    const allowMultiple = !!resource.allowMultiple;\n    return {\n      fieldName,\n      isMain,\n      title,\n      allowMultiple,\n      instances: resource.instances.map((resourceItem) => {\n        const color = resourceItem.color || palette[currentPaletteIndex % palette.length];\n        if (!resourceItem.color) currentPaletteIndex += 1;\n\n        return ({\n          id: resourceItem.id,\n          color,\n          fieldName,\n          text: resourceItem.text || title || fieldName,\n          title,\n          allowMultiple,\n          isMain,\n        });\n      }),\n    };\n  });\n};\n\nexport const addResourcesToAppointments: AddResourcesToAppointments = (\n  appointments, resources, plainResources,\n) => [\n  appointments.map(appointment => ({\n    ...appointment,\n    resources: getAppointmentResources(appointment.dataItem, resources, plainResources),\n  })),\n];\n", "import { PureReducer, slice } from '@devexpress/dx-core';\nimport {\n  ResourceGroupingState, ToggleGroupPayload,\n} from '../../types';\n\nexport const toggleExpandedGroups: PureReducer<ResourceGroupingState, ToggleGroupPayload> = (\n  state, { groupKey },\n) => {\n  const expandedGroups = slice(state.expandedGroups);\n  const groupKeyIndex = expandedGroups.indexOf(groupKey);\n\n  if (groupKeyIndex > -1) {\n    expandedGroups.splice(groupKeyIndex, 1);\n  } else {\n    expandedGroups.push(groupKey);\n  }\n\n  return { expandedGroups };\n};\n", "import moment, { Moment } from 'moment';\nimport { ViewCell } from '../../types';\nimport { PureComputed } from '@devexpress/dx-core';\n\nexport const getDayScaleCellColSpan: PureComputed<\n  [ViewCell[][]], number\n> = (cellsData) => {\n  const firstDate = cellsData[0][0].startDate;\n  let count = 1;\n  while (cellsData[0][count] && moment(cellsData[0][count].startDate).isSame(firstDate, 'day')) {\n    count += 1;\n  }\n  return count;\n};\n\nexport const getDayScaleCells: PureComputed<\n[ViewCell[][], boolean], ViewCell[]\n> = (cellsData, groupedByDate) => {\n  if (!groupedByDate) {\n    return cellsData[0].map(({\n      startDate, endDate, today, endOfGroup, groupingInfo,\n    }, index) => ({\n      key: index.toString(),\n      startDate, endDate, today, endOfGroup, groupingInfo,\n    }));\n  }\n  let prevDate: Moment;\n  const colSpan = getDayScaleCellColSpan(cellsData);\n  return cellsData[0].reduce((acc, { startDate, endDate, today }, index) => {\n    const currentDate = moment(startDate);\n    if (currentDate.isSame(prevDate)) {\n      return acc;\n    }\n    prevDate = currentDate;\n    return [\n      ...acc, {\n        key: index.toString(),\n        startDate, endDate, today, colSpan,\n        endOfGroup: true,\n      },\n    ];\n  }, [] as ViewCell[]);\n};\n", "import { PureComputed } from '@devexpress/dx-core';\nimport { SchedulerDateTime } from '../../types';\nimport moment from 'moment';\n\nexport const navigateByOneMonth: PureComputed<\n  [SchedulerDateTime, boolean], Date\n> = (currentDate, isBackward) => moment(currentDate as SchedulerDateTime)\n  [isBackward ? 'subtract' : 'add'](1, 'month').toDate();\n", "import { AppointmentModel, SchedulerDateTime } from './scheduler-core.types';\nimport { PureComputed } from '@devexpress/dx-core';\nimport { RRULE_REPEAT_TYPES } from '../plugins/appointment-form/constants';\n\n/** @internal */\nexport type Action = ([fieldName]?: any) => void;\n/** @internal */\nexport type StartDate = SchedulerDateTime;\n/** @internal */\nexport type EndDate = SchedulerDateTime;\n/** @internal */\nexport type AppointmentDataPayload = {\n  appointmentData: AppointmentModel;\n};\n/** @internal */\nexport type AddedAppointmentDataPayload = {\n  appointmentData: AppointmentModel | {};\n};\n/** @internal */\nexport type RadioGroupDisplayData = {\n  weekNumber: number;\n  dayNumberTextField: number;\n  dayOfWeek: number;\n  radioGroupValue: string;\n};\n/** An option in the Select editor. */\nexport type SelectOption = {\n  /** The option's text. */\n  text: string;\n  /** The option's id. */\n  id: number | string;\n};\n/** @internal */\nexport type OptionsFormatterFn = PureComputed<\n  [(messageKey: string) => string], Array<SelectOption>\n>;\n/** @internal */\nexport type DateFormatterFn = PureComputed<\n  [(date: Date, formatOptions: object) => string], Array<SelectOption>\n>;\n/** @internal */\nexport enum RecurrenceFrequency {\n  Daily = RRULE_REPEAT_TYPES.DAILY,\n  Weekly = RRULE_REPEAT_TYPES.WEEKLY,\n  Monthly = RRULE_REPEAT_TYPES.MONTHLY,\n  Yearly = RRULE_REPEAT_TYPES.YEARLY,\n}\n", "import * as React from 'react';\nimport {\n  Plugin, Getter, Template, TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport { appointments, formatDateTimeGetter } from '@devexpress/dx-scheduler-core';\nimport { SchedulerProps } from '../types';\nimport { memoize } from '@devexpress/dx-core';\n\nclass SchedulerCoreBase extends React.PureComponent<SchedulerProps> {\n  formatDateTimeGetter = memoize(locale => formatDateTimeGetter(locale));\n\n  render() {\n    const {\n      data,\n      rootComponent: Root,\n      locale,\n      height,\n      firstDayOfWeek,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"SchedulerCore\"\n      >\n        <Getter name=\"appointments\" value={appointments(data)} />\n        <Getter name=\"formatDate\" value={this.formatDateTimeGetter(locale)} />\n        <Getter name=\"firstDayOfWeek\" value={firstDayOfWeek} />\n        <Getter name=\"locale\" value={locale} />\n        <Template name=\"root\">\n          <Root height={height}>\n            <TemplatePlaceholder name=\"schedulerRoot\" />\n            <TemplatePlaceholder name=\"header\" />\n            <TemplatePlaceholder name=\"body\" />\n            <TemplatePlaceholder name=\"footer\" />\n          </Root>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/***\n * The Scheduler is a root container component designed to process\n * and display the specified data. The Scheduler's functionality\n * (data visualization and processing) is implemented in several plugins\n * specified as child components.\n * */\nexport const SchedulerCore: React.ComponentType<SchedulerProps> = SchedulerCoreBase;\n", "import * as React from 'react';\nimport { PluginHost } from '@devexpress/dx-react-core';\nimport { SchedulerCore } from './plugins/scheduler-core';\nimport { SchedulerProps } from './types';\n\nconst SchedulerBase: React.FunctionComponent<SchedulerProps> = ({\n  data,\n  rootComponent,\n  children,\n  locale,\n  height,\n  firstDayOfWeek,\n}) => (\n  <PluginHost>\n    <SchedulerCore\n      data={data}\n      rootComponent={rootComponent}\n      locale={locale}\n      height={height}\n      firstDayOfWeek={firstDayOfWeek}\n    />\n    {children}\n  </PluginHost>\n);\n\nSchedulerBase.defaultProps = {\n  data: [],\n  locale: 'en-US',\n  height: 'auto',\n  firstDayOfWeek: 0,\n};\n\n// tslint:disable: max-line-length\n/***\n * The Scheduler is a root container component designed to process\n * and display the specified data. The Schedulers functionality\n * (data visualization and processing) is implemented in several plugins specified as child components.\n * */\nexport const Scheduler: React.ComponentType<SchedulerProps> = SchedulerBase;\n", "import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  Getter,\n  TemplateConnector,\n  TemplatePlaceholder,\n  ComputedFn,\n} from '@devexpress/dx-react-core';\nimport {\n  computed,\n  startViewDate as startViewDateCore,\n  endViewDate as endViewDateCore,\n  availableViews as availableViewsCore,\n  HORIZONTAL_GROUP_ORIENTATION,\n  VERTICAL_GROUP_ORIENTATION,\n} from '@devexpress/dx-scheduler-core';\nimport { memoize } from '@devexpress/dx-core';\nimport { BasicViewProps, BasicViewState, ScrollingStrategy } from '../types';\n\nconst CellPlaceholder = params => <TemplatePlaceholder name=\"cell\" params={params} />;\nconst TimeTableAppointmentLayer = () => <TemplatePlaceholder name=\"timeTableAppointmentLayer\" />;\n\nconst startViewDateBaseComputed = ({ viewCellsData }) => startViewDateCore(viewCellsData);\nconst endViewDateBaseComputed = ({ viewCellsData }) => endViewDateCore(viewCellsData);\n\nconst TimeTablePlaceholder = () => <TemplatePlaceholder name=\"timeTable\" />;\nconst DayScalePlaceholder = () => <TemplatePlaceholder name=\"dayScale\" />;\nconst DayScaleEmptyCellPlaceholder = () => <TemplatePlaceholder name=\"dayScaleEmptyCell\" />;\n\nconst GroupingPanelPlaceholder = () => <TemplatePlaceholder name=\"groupingPanel\" />;\n\nclass BasicViewBase extends React.PureComponent<BasicViewProps, BasicViewState> {\n  state = {\n    timeTableElementsMeta: {},\n    scrollingStrategy: {\n      topBoundary: 0,\n      bottomBoundary: 0,\n      leftBoundary: 0,\n      rightBoundary: 0,\n      changeVerticalScroll: () => undefined,\n      changeHorizontalScroll: () => undefined,\n    },\n    previousTimeTableCell: null,\n    // The key has to be generated every time the TimeTableCell is updated to rerender TimeTable\n    // and, consequently, update timeTableElementsMeta\n    timeTableLayoutKey: 0,\n  };\n\n  static getDerivedStateFromProps(\n    props: BasicViewProps, state: BasicViewState,\n  ): BasicViewState | null {\n\n    if (props.timeTableCellComponent !== state.previousTimeTableCell) {\n      return {\n        ...state,\n        previousTimeTableCell: props.timeTableCellComponent,\n        timeTableLayoutKey: Math.random(),\n      };\n    }\n    return null;\n  }\n\n  scrollingStrategyComputed = memoize((viewName, scrollingStrategy) => getters =>\n    computed(getters, viewName!, () => scrollingStrategy, getters.scrollingStrategy));\n\n  timeTableElementsMetaComputed = memoize((viewName, timeTableElementsMeta) => getters =>\n    computed(getters, viewName!, () => timeTableElementsMeta, getters.timeTableElementsMeta));\n\n  intervalCountComputed = memoize((viewName, intervalCount) => getters =>\n    computed(getters, viewName!, () => intervalCount, getters.intervalCount));\n\n  cellDurationComputed = memoize((viewName, cellDuration) => getters =>\n    computed(getters, viewName, () => cellDuration, getters.cellDuration));\n\n  excludedDaysComputed = memoize((viewName, excludedDays) => getters => computed(\n    getters, viewName!, () => excludedDays, getters.excludedDays,\n  ));\n\n  availableViewsComputed = memoize((viewName, viewDisplayName) => ({ availableViews }) =>\n    availableViewsCore(availableViews, viewName!, viewDisplayName));\n\n  currentViewComputed = memoize((viewName, viewDisplayName, type) => ({ currentView }) => (\n    currentView && currentView.name !== viewName\n      ? currentView\n      : { name: viewName, type, displayName: viewDisplayName }\n  ));\n\n  endViewDateComputed: ComputedFn = (getters) => {\n    const { name: viewName } = this.props;\n    return computed(\n      getters, viewName!, endViewDateBaseComputed, getters.endViewDate,\n    );\n  }\n\n  startViewDateComputed: ComputedFn = (getters) => {\n    const { name: viewName } = this.props;\n    return computed(\n      getters, viewName!, startViewDateBaseComputed, getters.startViewDate,\n    );\n  }\n\n  viewCellsDataComputed = memoize((\n    viewName, cellDuration, startDayHour, endDayHour, viewCellsDataBaseComputed,\n  ) => getters => computed(\n    getters,\n    viewName,\n    viewCellsDataBaseComputed(cellDuration, startDayHour, endDayHour),\n    getters.viewCellsData,\n  ));\n\n  timeTableAppointmentsComputed = memoize((\n    viewName, cellDuration, calculateAppointmentsIntervals,\n  ) => getters => computed(\n      getters,\n      viewName,\n      calculateAppointmentsIntervals(cellDuration),\n      getters.timeTableAppointments,\n    ));\n\n  updateCellElementsMeta = memoize((cellElementsMeta) => {\n    this.setState({ timeTableElementsMeta: cellElementsMeta });\n  });\n\n  setScrollingStrategy = (scrollingStrategy: ScrollingStrategy) => {\n    this.setState({ scrollingStrategy });\n  }\n\n  render() {\n    const {\n      name: viewName,\n      intervalCount,\n      displayName,\n      type,\n      excludedDays,\n      cellDuration,\n      startDayHour,\n      endDayHour,\n      viewCellsDataComputed,\n      calculateAppointmentsIntervals,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      dayScaleLayoutComponent: DayScale,\n      timeTableCellComponent: TimeTableCell,\n      timeTableLayoutComponent: TimeTableLayout,\n      timeTableRowComponent,\n      appointmentLayerComponent: AppointmentLayer,\n      dayScaleEmptyCellComponent: DayScaleEmptyCell,\n      layoutProps,\n      layoutComponent: Layout,\n    } = this.props;\n    const { timeTableElementsMeta, scrollingStrategy, timeTableLayoutKey } = this.state;\n    const viewDisplayName = displayName || viewName;\n\n    return (\n      <Plugin name=\"basicView\">\n        <Getter\n          name=\"availableViews\"\n          computed={this.availableViewsComputed(viewName, viewDisplayName)}\n        />\n        <Getter\n          name=\"currentView\"\n          computed={this.currentViewComputed(viewName, viewDisplayName, type)}\n        />\n        <Getter\n          name=\"intervalCount\"\n          computed={this.intervalCountComputed(viewName, intervalCount)}\n        />\n        <Getter name=\"excludedDays\" computed={this.excludedDaysComputed(viewName, excludedDays)} />\n        <Getter\n          name=\"viewCellsData\"\n          computed={this.viewCellsDataComputed(\n            viewName, cellDuration, startDayHour, endDayHour, viewCellsDataComputed,\n          )}\n        />\n        <Getter name=\"startViewDate\" computed={this.startViewDateComputed} />\n        <Getter name=\"endViewDate\" computed={this.endViewDateComputed} />\n        <Getter\n          name=\"cellDuration\"\n          computed={this.cellDurationComputed(viewName, cellDuration)}\n        />\n\n        <Getter\n          name=\"timeTableElementsMeta\"\n          computed={this.timeTableElementsMetaComputed(viewName, timeTableElementsMeta)}\n        />\n        <Getter\n          name=\"scrollingStrategy\"\n          computed={this.scrollingStrategyComputed(viewName, scrollingStrategy)}\n        />\n\n        <Getter\n          name=\"timeTableAppointments\"\n          computed={this.timeTableAppointmentsComputed(\n            viewName, cellDuration, calculateAppointmentsIntervals,\n          )}\n        />\n\n        <Template name=\"body\">\n          { (params: any) =>\n            <TemplateConnector>\n              {({ currentView, groupOrientation, groups }) => {\n                if (currentView.name !== viewName) return <TemplatePlaceholder />;\n                const isVerticalGrouping = groupOrientation?.(viewName)\n                  === VERTICAL_GROUP_ORIENTATION;\n                return (\n                  <Layout\n                    forwardedRef={params?.forwardedRef}\n                    dayScaleComponent={DayScalePlaceholder}\n                    timeTableComponent={TimeTablePlaceholder}\n                    setScrollingStrategy={this.setScrollingStrategy}\n                    groupingPanelComponent={\n                      isVerticalGrouping ? GroupingPanelPlaceholder : undefined\n                    }\n                    groupingPanelSize={isVerticalGrouping ? groups?.length : 0}\n                    dayScaleEmptyCellComponent={DayScaleEmptyCellPlaceholder}\n                    {...layoutProps}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          }\n        </Template>\n\n        <Template name=\"dayScale\">\n          <TemplateConnector>\n            {({ currentView, viewCellsData, formatDate, groupByDate, groupOrientation }) => {\n              if (currentView.name !== viewName) return <TemplatePlaceholder />;\n              const groupByDateEnabled = groupByDate?.(viewName);\n              const isHorizontalGrouping = groupOrientation?.(viewName)\n                === HORIZONTAL_GROUP_ORIENTATION;\n              return (\n                <DayScale\n                  cellComponent={dayScaleCellComponent}\n                  rowComponent={dayScaleRowComponent}\n                  groupingPanelComponent={\n                    isHorizontalGrouping ? GroupingPanelPlaceholder : undefined\n                  }\n                  cellsData={viewCellsData}\n                  formatDate={formatDate}\n                  groupedByDate={groupByDateEnabled}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"cell\">\n          {params => (\n            <TemplateConnector>\n              {({ currentView }) => {\n                if (currentView.name !== viewName) return <TemplatePlaceholder params={params} />;\n                return (\n                  <TimeTableCell {...params} />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"timeTable\">\n          {(params: any) => (\n            <TemplateConnector>\n              {({ formatDate, currentView, viewCellsData }) => {\n                if (currentView.name !== viewName) return <TemplatePlaceholder />;\n                return (\n                  <>\n                    <TimeTableLayout\n                      cellsData={viewCellsData}\n                      rowComponent={timeTableRowComponent}\n                      cellComponent={CellPlaceholder}\n                      formatDate={formatDate}\n                      setCellElementsMeta={this.updateCellElementsMeta}\n                      key={timeTableLayoutKey}\n                      {...params}\n                    />\n                    <AppointmentLayer>\n                      <TimeTableAppointmentLayer />\n                    </AppointmentLayer>\n                  </>\n                );\n              }}\n          </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"dayScaleEmptyCell\">\n          <TemplateConnector>\n            {({ currentView }) => {\n              if (currentView.name !== viewName || !DayScaleEmptyCell) {\n                return <TemplatePlaceholder />;\n              }\n              return (\n                <DayScaleEmptyCell />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\nexport const BasicView: React.ComponentType<BasicViewProps> = BasicViewBase;\n", "import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  TemplateConnector,\n  TemplatePlaceholder,\n  Getter,\n} from '@devexpress/dx-react-core';\nimport {\n  calculateWeekDateIntervals,\n  getTimeTableHeight,\n  timeCellsData as timeCellsDataCore,\n  computed,\n} from '@devexpress/dx-scheduler-core';\nimport { BasicView } from './basic-view';\nimport { CommonVerticalViewProps } from '../types';\nimport { memoize } from '@devexpress/dx-core';\n\nconst calculateAppointmentsIntervalsBaseComputed = cellDuration => ({\n  appointments, startViewDate, endViewDate, excludedDays,\n}) => calculateWeekDateIntervals(\n  appointments, startViewDate, endViewDate, excludedDays, cellDuration,\n);\nconst timeCellsDataComputed = (startDayHour, endDayHour) => ({\n  viewCellsData, cellDuration,\n}) => timeCellsDataCore(viewCellsData, startDayHour, endDayHour, cellDuration, Date.now());\n\nconst TimeScalePlaceholder = () => <TemplatePlaceholder name=\"timeScale\" />;\n\nclass VericalViewBase extends React.PureComponent<CommonVerticalViewProps> {\n  timeCellsDataComputed = memoize((viewName, startDayHour, endDayHour) => getters => computed(\n    getters,\n    viewName,\n    timeCellsDataComputed(startDayHour, endDayHour),\n    getters.timeCellsData,\n  ));\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleEmptyCellComponent,\n      timeScaleLayoutComponent: TimeScale,\n      timeScaleLabelComponent: TimeScaleLabel,\n      timeScaleTickCellComponent,\n      timeScaleTicksRowComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      cellDuration,\n      excludedDays,\n      name: viewName,\n      appointmentLayerComponent,\n      intervalCount,\n      displayName,\n      startDayHour,\n      endDayHour,\n      viewCellsDataComputed,\n      type,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"WeekView\"\n      >\n        <BasicView\n          viewCellsDataComputed={viewCellsDataComputed}\n          type={type}\n          cellDuration={cellDuration}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          startDayHour={startDayHour}\n          endDayHour={endDayHour}\n          excludedDays={excludedDays}\n          calculateAppointmentsIntervals={calculateAppointmentsIntervalsBaseComputed}\n          dayScaleEmptyCellComponent={dayScaleEmptyCellComponent}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          layoutComponent={layoutComponent}\n          layoutProps={{\n            timeScaleComponent: TimeScalePlaceholder,\n          }}\n        />\n\n        <Getter\n          name=\"timeCellsData\"\n          computed={this.timeCellsDataComputed(viewName, startDayHour, endDayHour)}\n        />\n\n        <Template name=\"timeScale\">\n          {(params: any) => (\n            <TemplateConnector>\n              {({\n                currentView, timeCellsData, groups, formatDate,\n                groupOrientation: getGroupOrientation,\n                timeTableElementsMeta,\n              }) => {\n                if (currentView.name !== viewName) return <TemplatePlaceholder />;\n                const groupOrientation = getGroupOrientation?.(viewName);\n\n                return (\n                  <TimeScale\n                    labelComponent={TimeScaleLabel}\n                    tickCellComponent={timeScaleTickCellComponent}\n                    rowComponent={timeScaleTicksRowComponent}\n                    cellsData={timeCellsData}\n                    formatDate={formatDate}\n                    groups={groups}\n                    groupOrientation={groupOrientation}\n                    height={getTimeTableHeight(timeTableElementsMeta)}\n                    {...params}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nexport const VerticalView: React.ComponentType<CommonVerticalViewProps> = VericalViewBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  viewCellsData as viewCellsDataCore,\n  VIEW_TYPES,\n} from '@devexpress/dx-scheduler-core';\nimport { VerticalViewProps } from '../types';\nimport { VerticalView } from './vertical-view';\n\nconst viewCellsDataBaseComputed = (\n  cellDuration, startDayHour, endDayHour,\n) => ({ currentDate, intervalCount }) => {\n  return viewCellsDataCore(\n    currentDate, undefined,\n    intervalCount, [],\n    startDayHour!, endDayHour!, cellDuration!,\n    Date.now(),\n  );\n};\n\nclass DayViewBase extends React.PureComponent<VerticalViewProps> {\n  static defaultProps: Partial<VerticalViewProps> = {\n    name: 'Day',\n    startDayHour: 0,\n    endDayHour: 24,\n    cellDuration: 30,\n    intervalCount: 1,\n  };\n\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    layoutContainer: 'LayoutContainer',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    timeScaleLayoutComponent: 'TimeScaleLayout',\n    timeScaleLabelComponent: 'TimeScaleLabel',\n    timeScaleTickCellComponent: 'TimeScaleTickCell',\n    timeScaleTicksRowComponent: 'TimeScaleTicksRow',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow',\n  };\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleEmptyCellComponent: DayScaleEmptyCell,\n      timeScaleLayoutComponent,\n      timeScaleLabelComponent,\n      timeScaleTickCellComponent,\n      timeScaleTicksRowComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      appointmentLayerComponent,\n      cellDuration,\n      name: viewName,\n      intervalCount,\n      displayName,\n      startDayHour,\n      endDayHour,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"DayView\"\n      >\n        <VerticalView\n          viewCellsDataComputed={viewCellsDataBaseComputed}\n          type={VIEW_TYPES.DAY}\n          cellDuration={cellDuration}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          startDayHour={startDayHour}\n          endDayHour={endDayHour}\n          dayScaleEmptyCellComponent={DayScaleEmptyCell}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          layoutComponent={layoutComponent}\n          timeScaleLayoutComponent={timeScaleLayoutComponent}\n          timeScaleLabelComponent={timeScaleLabelComponent}\n          timeScaleTickCellComponent={timeScaleTickCellComponent}\n          timeScaleTicksRowComponent={timeScaleTicksRowComponent}\n        />\n      </Plugin >\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/*** A plugin that renders Scheduler data for a day. This plugin arranges appointments from top to bottom.\n * If their time intervals overlap, their width is decreased and they are placed next to each other.\n * */\nexport const DayView: React.ComponentType<VerticalViewProps> = DayViewBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  viewCellsData as viewCellsDataCore,\n  VIEW_TYPES,\n} from '@devexpress/dx-scheduler-core';\nimport { WeekViewProps } from '../types';\nimport { VerticalView } from './vertical-view';\n\nconst DAYS_IN_WEEK = 7;\nconst viewCellsDataBaseComputed = (\n  cellDuration, startDayHour, endDayHour,\n) => ({ firstDayOfWeek, intervalCount, excludedDays, currentDate }) => {\n  return viewCellsDataCore(\n    currentDate, firstDayOfWeek,\n    intervalCount! * DAYS_IN_WEEK, excludedDays!,\n    startDayHour!, endDayHour!, cellDuration!,\n    Date.now(),\n  );\n};\n\nclass WeekViewBase extends React.PureComponent<WeekViewProps> {\n  static defaultProps: Partial<WeekViewProps> = {\n    startDayHour: 0,\n    endDayHour: 24,\n    cellDuration: 30,\n    intervalCount: 1,\n    excludedDays: [],\n    name: 'Week',\n  };\n\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    layoutContainerComponent: 'LayoutContainer',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    timeScaleLayoutComponent: 'TimeScaleLayout',\n    timeScaleLabelComponent: 'TimeScaleLabel',\n    timeScaleTickCellComponent: 'TimeScaleTickCell',\n    timeScaleTicksRowComponent: 'TimeScaleTicksRow',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow',\n  };\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleEmptyCellComponent,\n      timeScaleLayoutComponent,\n      timeScaleLabelComponent,\n      timeScaleTickCellComponent,\n      timeScaleTicksRowComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      cellDuration,\n      excludedDays,\n      name: viewName,\n      appointmentLayerComponent,\n      intervalCount,\n      displayName,\n      startDayHour,\n      endDayHour,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"WeekView\"\n      >\n        <VerticalView\n          viewCellsDataComputed={viewCellsDataBaseComputed}\n          type={VIEW_TYPES.WEEK}\n          cellDuration={cellDuration}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          startDayHour={startDayHour}\n          endDayHour={endDayHour}\n          excludedDays={excludedDays}\n          dayScaleEmptyCellComponent={dayScaleEmptyCellComponent}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          layoutComponent={layoutComponent}\n          timeScaleLayoutComponent={timeScaleLayoutComponent}\n          timeScaleLabelComponent={timeScaleLabelComponent}\n          timeScaleTickCellComponent={timeScaleTickCellComponent}\n          timeScaleTicksRowComponent={timeScaleTicksRowComponent}\n        />\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable: max-line-length\n/***\n * A plugin that renders the Scheduler's week view. This plugin arranges appointments from top to bottom.\n * If their time intervals overlap, their width is decreased and they are placed next to each other.\n * */\nexport const WeekView: React.ComponentType<WeekViewProps> = WeekViewBase;\n", "import * as React from 'react';\nimport { Plugin, PluginComponents } from '@devexpress/dx-react-core';\nimport { monthCellsData, calculateMonthDateIntervals, VIEW_TYPES } from '@devexpress/dx-scheduler-core';\nimport { BasicView } from './basic-view';\nimport { MonthViewProps } from '../types';\n\nconst viewCellsDataBaseComputed = (\n  cellDuration, startDayHour, endDayHour,\n) => ({ currentDate, firstDayOfWeek, intervalCount }) => monthCellsData(\n  currentDate, firstDayOfWeek, intervalCount!, Date.now(),\n);\nconst calculateAppointmentsIntervalsBaseComputed = cellDuration => ({\n  appointments, startViewDate, endViewDate, excludedDays,\n}) => calculateMonthDateIntervals(\n  appointments, startViewDate, endViewDate,\n);\n\nclass MonthViewBase extends React.PureComponent<MonthViewProps> {\n  static defaultProps: Partial<MonthViewProps> = {\n    intervalCount: 1,\n    name: 'Month',\n  };\n\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    appointmentLayerComponent: 'AppointmentLayer',\n    dayScaleEmptyCellComponent: 'DayScaleEmptyCell',\n    dayScaleLayoutComponent: 'DayScaleLayout',\n    dayScaleCellComponent: 'DayScaleCell',\n    dayScaleRowComponent: 'DayScaleRow',\n    timeTableContainerComponent: 'TimeTableContainer',\n    timeTableLayoutComponent: 'TimeTableLayout',\n    timeTableCellComponent: 'TimeTableCell',\n    timeTableRowComponent: 'TimeTableRow',\n  };\n\n  render() {\n    const {\n      layoutComponent,\n      dayScaleEmptyCellComponent,\n      dayScaleLayoutComponent,\n      dayScaleCellComponent,\n      dayScaleRowComponent,\n      timeTableLayoutComponent,\n      timeTableRowComponent,\n      timeTableCellComponent,\n      appointmentLayerComponent,\n      name: viewName,\n      intervalCount,\n      displayName,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"MonthView\"\n      >\n        <BasicView\n          viewCellsDataComputed={viewCellsDataBaseComputed}\n          type={VIEW_TYPES.MONTH}\n          name={viewName}\n          intervalCount={intervalCount}\n          displayName={displayName}\n          calculateAppointmentsIntervals={calculateAppointmentsIntervalsBaseComputed}\n          dayScaleEmptyCellComponent={dayScaleEmptyCellComponent}\n          dayScaleLayoutComponent={dayScaleLayoutComponent}\n          dayScaleCellComponent={dayScaleCellComponent}\n          dayScaleRowComponent={dayScaleRowComponent}\n          timeTableCellComponent={timeTableCellComponent}\n          timeTableLayoutComponent={timeTableLayoutComponent}\n          timeTableRowComponent={timeTableRowComponent}\n          appointmentLayerComponent={appointmentLayerComponent}\n          layoutComponent={layoutComponent}\n        />\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable: max-line-length\n/***\n * A plugin that renders Scheduler data for a month. This plugin arranges appointments from left to right.\n * An appointment's size depends on its duration in days.\n * However, it occupies the entire day cell if an appointment lasts only for several hours or minutes.\n * The time scale and all-day panel are not available in this view.\n * */\nexport const MonthView: React.ComponentType<MonthViewProps> = MonthViewBase;\n", "import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  TemplatePlaceholder,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { ToolbarProps } from '../types';\n\nclass ToolbarBase extends React.PureComponent<ToolbarProps> {\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n    flexibleSpaceComponent: 'FlexibleSpace',\n  };\n  render() {\n    const {\n      rootComponent: Root,\n      flexibleSpaceComponent: FlexibleSpaceComponent,\n    } = this.props;\n    return (\n      <Plugin\n        name=\"Toolbar\"\n      >\n        <Template name=\"header\">\n          <Root>\n            <TemplatePlaceholder name=\"toolbarContent\" />\n          </Root>\n          <TemplatePlaceholder />\n        </Template>\n        <Template name=\"toolbarContent\">\n          <FlexibleSpaceComponent />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler's toolbar. */\nexport const Toolbar: React.ComponentType<ToolbarProps> = ToolbarBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  monthCellsData,\n  viewBoundText,\n} from '@devexpress/dx-scheduler-core';\nimport { memoize } from '@devexpress/dx-core';\n\nimport { DateNavigatorProps, DateNavigatorState } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'ViewState' },\n];\n\nconst navigate = (action, currentView, intervalCount) => (direction, nextDate) => action({\n  direction,\n  nextDate,\n  amount: intervalCount,\n  step: currentView.type,\n});\n\nclass DateNavigatorBase extends React.PureComponent<DateNavigatorProps, DateNavigatorState> {\n  target!: React.ReactInstance;\n\n  state = {\n    visible: false,\n  };\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n    overlayComponent: 'Overlay',\n    openButtonComponent: 'OpenButton',\n    navigationButtonComponent: 'NavigationButton',\n    calendarComponent: 'Calendar',\n    calendarRowComponent: 'CalendarRow',\n    calendarCellComponent: 'CalendarCell',\n    calendarHeaderRowComponent: 'CalendarHeaderRow',\n    calendarHeaderCellComponent: 'CalendarHeaderCell',\n    calendarTextComponent: 'CalendarText',\n    calendarNavigatorComponent: 'CalendarNavigator',\n    calendarNavigationButtonComponent: 'CalendarNavigationButton',\n  };\n\n  setRootRef = (target: React.ReactInstance) => {\n    this.target = target;\n  }\n\n  handleVisibilityToggle = () => {\n    this.setState(prevState => ({ visible: !prevState.visible }));\n  }\n\n  handleHide = () => {\n    this.setState({ visible: false });\n  }\n\n  navigateAction = memoize((changeCurrentDate, currentView, intervalCount, navigateAction) =>\n    navigateAction(changeCurrentDate, currentView, intervalCount));\n\n  render() {\n    const {\n      rootComponent: Root,\n      overlayComponent: Overlay,\n      openButtonComponent: OpenButton,\n      navigationButtonComponent: NavigationButton,\n      calendarComponent: Calendar,\n      calendarRowComponent: CalendarRow,\n      calendarCellComponent: CalendarCell,\n      calendarHeaderRowComponent: CalendarHeaderRow,\n      calendarHeaderCellComponent: CalendarHeaderCell,\n      calendarTextComponent: CalendarText,\n      calendarNavigationButtonComponent: CalendarNavigationButton,\n      calendarNavigatorComponent: CalendarNavigator,\n    } = this.props;\n\n    const { visible } = this.state;\n    return (\n      <Plugin\n        name=\"DateNavigator\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplateConnector>\n            {({\n              currentDate,\n              startViewDate,\n              endViewDate,\n              firstDayOfWeek,\n              currentView,\n              intervalCount,\n              formatDate,\n            }, {\n              changeCurrentDate,\n            }) => {\n              const navigateAction = this.navigateAction(\n                changeCurrentDate, currentView, intervalCount, navigate,\n              );\n              const calendarDateChanged = (nextDate) => {\n                navigateAction(undefined, nextDate);\n                this.handleHide();\n              };\n              const navigatorText = viewBoundText(\n                startViewDate,\n                endViewDate,\n                currentView.type,\n                currentDate,\n                intervalCount,\n                formatDate,\n              );\n              return (\n                <React.Fragment>\n                  <Root\n                    navigationButtonComponent={NavigationButton}\n                    openButtonComponent={OpenButton}\n                    navigatorText={navigatorText}\n                    rootRef={this.setRootRef}\n                    onVisibilityToggle={this.handleVisibilityToggle}\n                    onNavigate={navigateAction}\n                  />\n                  <Overlay\n                    visible={visible}\n                    target={this.target}\n                    onHide={this.handleHide}\n                  >\n                    <Calendar\n                      selectedDate={currentDate}\n                      firstDayOfWeek={firstDayOfWeek}\n                      getCells={monthCellsData}\n                      textComponent={CalendarText}\n                      navigationButtonComponent={CalendarNavigationButton}\n                      rowComponent={CalendarRow}\n                      cellComponent={CalendarCell}\n                      headerRowComponent={CalendarHeaderRow}\n                      headerCellComponent={CalendarHeaderCell}\n                      navigatorComponent={CalendarNavigator}\n                      onSelectedDateChange={calendarDateChanged}\n                      formatDate={formatDate}\n                    />\n                  </Overlay>\n                </React.Fragment>\n              );\n            }}\n          </TemplateConnector>\n          <TemplatePlaceholder />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Schedulers date navigator. */\nexport const DateNavigator: React.ComponentType<DateNavigatorProps> = DateNavigatorBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { ViewSwitcherProps } from '../types/view-switcher';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'ViewState' },\n];\n\nclass ViewSwitcherBase extends React.PureComponent<ViewSwitcherProps> {\n  static components: PluginComponents = {\n    switcherComponent: 'Switcher',\n  };\n\n  render() {\n    const { switcherComponent: Switcher } = this.props;\n\n    return (\n      <Plugin\n        name=\"ViewSwitcher\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({\n              currentView,\n              availableViews,\n            }, {\n              setCurrentViewName,\n            }) => (\n              <Switcher\n                currentView={currentView}\n                availableViews={availableViews}\n                onChange={setCurrentViewName}\n              />\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler's view switcher. */\nexport const ViewSwitcher: React.ComponentType<ViewSwitcherProps> = ViewSwitcherBase;\n", "import * as React from 'react';\nimport {\n  Plugin, Template, TemplatePlaceholder, TemplateConnector, PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { createClickHandlers, memoize } from '@devexpress/dx-core';\nimport {\n  POSITION_START, POSITION_END, VERTICAL_TYPE,\n  getVerticalRectByAppointmentData, calculateRectByDateAndGroupIntervals,\n  getAppointmentStyle, HORIZONTAL_TYPE, getHorizontalRectByAppointmentData,\n  isAllDayElementsMetaActual, isTimeTableElementsMetaActual,\n  HORIZONTAL_GROUP_ORIENTATION, VIEW_TYPES, getGroupsLastRow, Rect,\n} from '@devexpress/dx-scheduler-core';\n\nimport { AppointmentsProps } from '../types';\n\nconst AppointmentPlaceholder = params => <TemplatePlaceholder name=\"appointment\" params={params} />;\n\nconst renderAppointments = rects => rects.map(({\n  dataItem, type: rectType, fromPrev, toNext,\n  durationType, resources, key, ...geometry\n}) => (\n  <AppointmentPlaceholder\n    key={key}\n    type={rectType}\n    data={dataItem}\n    fromPrev={fromPrev}\n    toNext={toNext}\n    durationType={durationType}\n    resources={resources}\n    style={getAppointmentStyle(geometry as Rect)}\n  />\n));\n\nconst pluginDependencies = [\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'MonthView', optional: true },\n];\n\nclass AppointmentsBase extends React.PureComponent<AppointmentsProps> {\n  static components: PluginComponents = {\n    splitIndicatorComponent: 'SplitIndicator',\n    containerComponent: 'Container',\n    appointmentComponent: 'Appointment',\n    appointmentContentComponent: 'AppointmentContent',\n    recurringIconComponent: 'RecurringIcon',\n  };\n  static defaultProps: Partial<AppointmentsProps> = {\n    placeAppointmentsNextToEachOther: false,\n  };\n\n  updateTimeTableAppointments = memoize((\n    timeTableAppointments, viewCellsData, timeTableElementsMeta, currentView,\n    startViewDate, endViewDate, cellDuration, groups, getGroupOrientation, groupByDate,\n    placeAppointmentsNextToEachOther,\n  ) => {\n    if (!isTimeTableElementsMetaActual(viewCellsData, timeTableElementsMeta)) return null;\n\n    const groupOrientation = getGroupOrientation\n      ? getGroupOrientation(currentView?.name)\n      : HORIZONTAL_GROUP_ORIENTATION;\n    const groupCount = groups ? getGroupsLastRow(groups).length : 1;\n\n    let appointmentType = { growDirection: VERTICAL_TYPE, multiline: false };\n    let getRects = getVerticalRectByAppointmentData as any;\n    if (currentView.type === VIEW_TYPES.MONTH) {\n      appointmentType = { growDirection: HORIZONTAL_TYPE, multiline: true };\n      getRects = getHorizontalRectByAppointmentData;\n    }\n\n    return renderAppointments(calculateRectByDateAndGroupIntervals(\n      appointmentType, timeTableAppointments, getRects,\n      {\n        startViewDate, endViewDate, cellDuration,\n        viewCellsData, cellElementsMeta: timeTableElementsMeta,\n        placeAppointmentsNextToEachOther,\n      },\n      {\n        groupOrientation,\n        groupedByDate: groupByDate?.(currentView?.name),\n        groupCount,\n      },\n    ));\n  });\n\n  updateAllDayAppointments = memoize((\n    allDayAppointments, viewCellsData, allDayElementsMeta, currentView,\n    startViewDate, endViewDate, groups, getGroupOrientation, groupByDate,\n  ) => {\n    const groupOrientation = getGroupOrientation\n      ? getGroupOrientation(currentView?.name)\n      : HORIZONTAL_GROUP_ORIENTATION;\n    const groupCount = groups ? getGroupsLastRow(groups).length : 1;\n\n    if (!isAllDayElementsMetaActual(\n      viewCellsData, allDayElementsMeta, groupOrientation, groupCount,\n    )) {\n      return null;\n    }\n\n    return renderAppointments(calculateRectByDateAndGroupIntervals(\n      { growDirection: HORIZONTAL_TYPE,  multiline: false },\n      allDayAppointments,\n      getHorizontalRectByAppointmentData,\n      {\n        startViewDate, endViewDate,\n        viewCellsData, cellElementsMeta: allDayElementsMeta,\n      },\n      {\n        groupOrientation,\n        groupedByDate: groupByDate?.(currentView?.name),\n        groupCount,\n      },\n    ));\n  });\n\n  render() {\n    const {\n      splitIndicatorComponent: SplitIndicator,\n      appointmentComponent: Appointment,\n      appointmentContentComponent: AppointmentContent,\n      containerComponent: Container,\n      recurringIconComponent,\n      placeAppointmentsNextToEachOther,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"Appointments\"\n        dependencies={pluginDependencies}\n      >\n        <Template\n          name=\"timeTableAppointmentLayer\"\n        >\n          <TemplateConnector>\n            {({\n              timeTableAppointments, viewCellsData, timeTableElementsMeta, currentView,\n              startViewDate, endViewDate, cellDuration, groupOrientation,  groups, groupByDate,\n            }) => this.updateTimeTableAppointments(\n              timeTableAppointments, viewCellsData, timeTableElementsMeta, currentView,\n              startViewDate, endViewDate, cellDuration, groups, groupOrientation, groupByDate,\n              placeAppointmentsNextToEachOther,\n            )}\n          </TemplateConnector>\n        </Template>\n        <Template\n          name=\"allDayAppointmentLayer\"\n        >\n          <TemplateConnector>\n            {({\n              allDayAppointments, viewCellsData, allDayElementsMeta,\n              startViewDate, endViewDate, groupOrientation, currentView, groups, groupByDate,\n            }) => this.updateAllDayAppointments(\n              allDayAppointments, viewCellsData, allDayElementsMeta, currentView,\n              startViewDate, endViewDate, groups, groupOrientation, groupByDate,\n            )}\n          </TemplateConnector>\n        </Template>\n        <Template\n          name=\"appointment\"\n        >\n          {({ style, ...params }: any) => (\n            <TemplateConnector>\n              {({ formatDate }) => (\n                <Container style={style}>\n                  <TemplatePlaceholder\n                    name=\"appointmentTop\"\n                    params={{ data: params.data, type: params.type, slice: params.fromPrev }}\n                  />\n                  <TemplatePlaceholder\n                    name=\"appointmentContent\"\n                    params={{ ...params, formatDate }}\n                  />\n                  <TemplatePlaceholder\n                    name=\"appointmentBottom\"\n                    params={{ data: params.data, type: params.type, slice: params.toNext }}\n                  />\n                </Container>\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"appointmentContent\">\n          {({\n            onClick, onDoubleClick, formatDate,\n            data, type, fromPrev, toNext,\n            durationType, resources, forwardedRef,\n            ...restParams\n          }: any) => (\n            <Appointment\n              forwardedRef={forwardedRef}\n              data={data}\n              resources={resources}\n              {...createClickHandlers(onClick, onDoubleClick)}\n              {...restParams}\n            >\n              {fromPrev && <SplitIndicator position={POSITION_START} appointmentType={type} />}\n              <AppointmentContent\n                data={data}\n                type={type}\n                durationType={durationType}\n                recurringIconComponent={recurringIconComponent}\n                formatDate={formatDate}\n                resources={resources}\n              />\n              {toNext && <SplitIndicator position={POSITION_END} appointmentType={type} />}\n            </Appointment>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders appointments. */\nexport const Appointments: React.ComponentType<AppointmentsProps> = AppointmentsBase;\n", "import * as React from 'react';\nimport { getMessagesFormatter, memoize } from '@devexpress/dx-core';\nimport {\n  Getter,\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  allDayCells, calculateAllDayDateIntervals,\n  VERTICAL_GROUP_ORIENTATION, VIEW_TYPES,\n} from '@devexpress/dx-scheduler-core';\nimport moment from 'moment';\n\nimport { AllDayPanelProps, AllDayPanelState } from '../types';\n\nconst isMonthView = currentView => currentView.type === VIEW_TYPES.MONTH;\nconst isVerticalGrouping = (\n  currentView, groupOrientation,\n) => groupOrientation?.(currentView.name) === VERTICAL_GROUP_ORIENTATION;\n\nconst pluginDependencies = [\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n];\nconst defaultMessages = {\n  allDay: 'All Day',\n};\nconst AllDayAppointmentLayerPlaceholder = () =>\n  <TemplatePlaceholder name=\"allDayAppointmentLayer\" />;\nconst AllDayPanelPlaceholder = params => <TemplatePlaceholder name=\"allDayPanel\" params={params} />;\nconst CellPlaceholder = params => <TemplatePlaceholder name=\"allDayPanelCell\" params={params} />;\nconst AllDayTitlePlaceholder = params => <TemplatePlaceholder name=\"allDayTitle\" params={params} />;\n\nclass AllDayPanelBase extends React.PureComponent<AllDayPanelProps, AllDayPanelState> {\n  state: AllDayPanelState = {\n    elementsMeta: {},\n    previousCell: null,\n    // The key has to be generated every time the Cell component is updated to rerender the Layout\n    // and, consequently, update allDayElementsMeta\n    layoutKey: 0,\n  };\n  static defaultProps: Partial<AllDayPanelProps> = {\n    messages: {},\n  };\n  static components: PluginComponents = {\n    appointmentLayerComponent: 'AppointmentLayer',\n    layoutComponent: 'Layout',\n    layoutContainerComponent: 'LayoutContainer',\n    cellComponent: 'Cell',\n    rowComponent: 'Row',\n    titleCellComponent: 'TitleCell',\n    containerComponent: 'Container',\n  };\n\n  static getDerivedStateFromProps(\n    props: AllDayPanelProps, state: AllDayPanelState,\n  ): AllDayPanelState | null {\n    if (props.cellComponent !== state.previousCell) {\n      return {\n        ...state,\n        previousCell: props.cellComponent,\n        layoutKey: Math.random(),\n      };\n    }\n    return null;\n  }\n\n  allDayCellsDataComputed = memoize(({ viewCellsData }) => allDayCells(viewCellsData));\n\n  updateCellElementsMeta = memoize((cellElementsMeta) => {\n    this.setState({ elementsMeta: cellElementsMeta });\n  });\n\n  allDayAppointmentsComputed = memoize(({\n    appointments, startViewDate, endViewDate, excludedDays,\n  }) => {\n    const allDayLeftBound = moment(startViewDate).hours(0).minutes(0).toDate();\n    const allDayRightBound = moment(endViewDate).hours(23).minutes(59).toDate();\n    return calculateAllDayDateIntervals(\n      appointments, allDayLeftBound, allDayRightBound, excludedDays,\n    );\n  });\n\n  allDayPanelExistsComputed = memoize(({\n    currentView,\n  }) => !isMonthView(currentView));\n\n  getMessageFormatter = memoize((messages, allDayPanelDefaultMessages) =>\n    getMessagesFormatter({ ...allDayPanelDefaultMessages, ...messages }));\n\n  render() {\n    const {\n      appointmentLayerComponent: AppointmentLayer,\n      layoutComponent: Layout,\n      cellComponent: Cell,\n      rowComponent,\n      titleCellComponent: TitleCell,\n      containerComponent: Container,\n      messages,\n    } = this.props;\n    const { elementsMeta, layoutKey } = this.state;\n    const getMessage = this.getMessageFormatter(messages, defaultMessages);\n\n    return (\n      <Plugin\n        name=\"AllDayPanel\"\n        dependencies={pluginDependencies}\n      >\n        <Getter name=\"allDayElementsMeta\" value={elementsMeta} />\n        <Getter name=\"allDayCellsData\" computed={this.allDayCellsDataComputed} />\n        <Getter name=\"allDayPanelExists\" computed={this.allDayPanelExistsComputed} />\n        <Getter\n          name=\"allDayAppointments\"\n          computed={this.allDayAppointmentsComputed}\n        />\n\n        <Template name=\"timeTable\">\n          {(params: any) => (\n            <TemplateConnector>\n              {({ currentView, groupOrientation, allDayCellsData }) => {\n                if (isMonthView(currentView)\n                  || !isVerticalGrouping(currentView, groupOrientation)) {\n                  return <TemplatePlaceholder params={...params} />;\n                }\n                return (\n                  <>\n                    <TemplatePlaceholder\n                      params={{\n                        ...params,\n                        allDayCellComponent: CellPlaceholder,\n                        allDayRowComponent: rowComponent,\n                        allDayCellsData,\n                      }}\n                    />\n                    <AppointmentLayer>\n                      <AllDayAppointmentLayerPlaceholder />\n                    </AppointmentLayer>\n                  </>\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"dayScaleEmptyCell\">\n          <TemplateConnector>\n            {({ currentView, groupOrientation }) => {\n              if (isMonthView(currentView) || isVerticalGrouping(currentView, groupOrientation)) {\n                return <TemplatePlaceholder />;\n              }\n\n              return (\n                <AllDayTitlePlaceholder />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"timeScale\">\n          {(params: any) => (\n            <TemplateConnector>\n              {({ currentView, groupOrientation }) => {\n                if (isMonthView(currentView)\n                  || !isVerticalGrouping(currentView, groupOrientation)) {\n                  return <TemplatePlaceholder params={...params} />;\n                }\n\n                return (\n                  <TemplatePlaceholder\n                    params={{\n                      ...params,\n                      allDayTitleComponent: AllDayTitlePlaceholder,\n                      showAllDayTitle: true,\n                    }}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"dayScale\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ currentView, groupOrientation }) => {\n              if (isMonthView(currentView) || isVerticalGrouping(currentView, groupOrientation)) {\n                return null;\n              }\n\n              return (\n                <Container>\n                  <AllDayPanelPlaceholder />\n                </Container>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"allDayPanel\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({\n              currentView, formatDate, allDayCellsData,\n            }) => {\n              if (currentView.type === VIEW_TYPES.MONTH) return null;\n\n              return (\n                <React.Fragment>\n                  <Layout\n                    cellComponent={CellPlaceholder}\n                    rowComponent={rowComponent}\n                    cellsData={allDayCellsData[0]}\n                    setCellElementsMeta={this.updateCellElementsMeta}\n                    formatDate={formatDate}\n                    key={layoutKey}\n                  />\n                  <AppointmentLayer>\n                    <AllDayAppointmentLayerPlaceholder />\n                  </AppointmentLayer>\n                </React.Fragment>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"allDayTitle\">\n          {(params: any) => <TitleCell getMessage={getMessage} {...params}/>}\n        </Template>\n        <Template name=\"allDayPanelCell\">\n          {(params: any) => <Cell {...params} />}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the All Day Panel. */\nexport const AllDayPanel: React.ComponentType<AllDayPanelProps> = AllDayPanelBase;\n", "import * as React from 'react';\nimport {\n  Getter,\n  Action,\n  Plugin,\n  createStateHelper,\n  StateHelper,\n  ActionFn,\n} from '@devexpress/dx-react-core';\nimport {\n  changeCurrentDate,\n  setCurrentViewName,\n  ChangeCurrentDatePayload,\n} from '@devexpress/dx-scheduler-core';\nimport { ViewStateProps, ViewStateState } from '../types';\nimport { memoize } from '@devexpress/dx-core';\n\nclass ViewStateBase extends React.PureComponent<ViewStateProps, ViewStateState> {\n  changeCurrentDate: ActionFn<ChangeCurrentDatePayload>;\n  setCurrentViewName: ActionFn<string>;\n\n  static defaultProps: Partial<ViewStateProps> = {\n    defaultCurrentDate: new Date(),\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentDate: props.currentDate || props.defaultCurrentDate,\n      currentViewName: props.currentViewName || props.defaultCurrentViewName,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        currentDate: () => {\n          const { onCurrentDateChange } = this.props;\n          return onCurrentDateChange;\n        },\n        currentViewName: () => {\n          const { onCurrentViewNameChange } = this.props;\n          return onCurrentViewNameChange;\n        },\n      },\n    );\n\n    this.changeCurrentDate = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'currentDate', changeCurrentDate);\n    this.setCurrentViewName = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'currentViewName', setCurrentViewName);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      currentDate = prevState.currentDate,\n      currentViewName = prevState.currentViewName,\n    } = nextProps;\n\n    return {\n      currentDate,\n      currentViewName,\n    };\n  }\n\n  getCurrentViewComputed =  memoize(currentViewName => () => (\n    currentViewName\n    ? { name: currentViewName }\n    : undefined\n  ));\n\n  render() {\n    const { currentDate, currentViewName: stateCurrentViewName } = this.state;\n    return (\n      <Plugin\n        name=\"ViewState\"\n      >\n        <Getter name=\"currentDate\" value={currentDate} />\n        <Getter name=\"currentView\" computed={this.getCurrentViewComputed(stateCurrentViewName)} />\n        <Action name=\"changeCurrentDate\" action={this.changeCurrentDate} />\n        <Action name=\"setCurrentViewName\" action={this.setCurrentViewName} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the view state. It specifies the current date and the displayed view. */\nexport const ViewState: React.ComponentType<ViewStateProps> = ViewStateBase;\n", "import * as React from 'react';\nimport {\n  Action, Plugin, Getter, createStateHelper, StateHelper, ComputedFn, ActionFn,\n} from '@devexpress/dx-react-core';\nimport {\n  addAppointment,\n  cancelAddedAppointment,\n  startEditAppointment,\n  stopEditAppointment,\n  changeAppointment,\n  cancelChanges,\n  changedAppointmentById,\n  RECURRENCE_EDIT_SCOPE,\n  preCommitChanges as preCommitChangesBase,\n} from '@devexpress/dx-scheduler-core';\nimport { EditingStateProps, EditingStateState } from '../types';\n\nclass EditingStateBase extends React.PureComponent<EditingStateProps, EditingStateState> {\n  startEditAppointment: ComputedFn;\n  stopEditAppointment: (payload?: any) => void;\n  changeAppointment: ComputedFn;\n  cancelChangedAppointment: (payload?: any) => void;\n  commitChangedAppointment: ActionFn<any>;\n  addAppointment: ComputedFn;\n  changeAddedAppointment: ComputedFn;\n  cancelAddedAppointment: (payload?: any) => void;\n  commitAddedAppointment: ComputedFn;\n  commitDeletedAppointment: ActionFn<any>;\n\n  static defaultProps: Partial<EditingStateProps> = {\n    defaultEditingAppointment: undefined,\n    defaultAppointmentChanges: {},\n    defaultAddedAppointment: {},\n    preCommitChanges: preCommitChangesBase,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editingAppointment: props.editingAppointment || props.defaultEditingAppointment,\n      addedAppointment: props.addedAppointment || props.defaultAddedAppointment,\n      appointmentChanges: props.appointmentChanges || props.defaultAppointmentChanges,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        editingAppointment: () => {\n          const { onEditingAppointmentChange } = this.props;\n          return onEditingAppointmentChange;\n        },\n        addedAppointment: () => {\n          const { onAddedAppointmentChange } = this.props;\n          return onAddedAppointmentChange;\n        },\n        appointmentChanges: () => {\n          const { onAppointmentChangesChange } = this.props;\n          return onAppointmentChangesChange;\n        },\n      },\n    );\n\n    this.addAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedAppointment', addAppointment);\n    this.changeAddedAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedAppointment', changeAppointment);\n    this.cancelAddedAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'addedAppointment', cancelAddedAppointment);\n\n    this.startEditAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingAppointment', startEditAppointment);\n    this.stopEditAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'editingAppointment', stopEditAppointment);\n\n    this.changeAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentChanges', changeAppointment);\n    this.cancelChangedAppointment = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentChanges', cancelChanges);\n\n    this.commitChangedAppointment = (type = RECURRENCE_EDIT_SCOPE.CURRENT) => {\n      const { appointmentChanges, editingAppointment } = this.state;\n      const { onCommitChanges, preCommitChanges } = this.props;\n      if (!editingAppointment) {\n        return;\n      }\n      const changes = !editingAppointment.rRule\n        ? { changed: changedAppointmentById(appointmentChanges, editingAppointment.id!) }\n        : preCommitChanges!(appointmentChanges, editingAppointment, type);\n\n      onCommitChanges(changes);\n      this.cancelChangedAppointment();\n      this.stopEditAppointment();\n    };\n\n    this.commitAddedAppointment = () => {\n      const { onCommitChanges } = this.props;\n      const { addedAppointment: stateAddedAppointment } = this.state;\n      onCommitChanges({\n        added: stateAddedAppointment,\n      });\n    };\n\n    this.commitDeletedAppointment = ({ deletedAppointmentData, type = 'current' }) => {\n      const { onCommitChanges, preCommitChanges } = this.props;\n\n      const changes = deletedAppointmentData.rRule\n        ? preCommitChanges!(null, deletedAppointmentData, type)\n        : { deleted: deletedAppointmentData.id };\n      onCommitChanges(changes);\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      editingAppointment = prevState.editingAppointment,\n      appointmentChanges = prevState.appointmentChanges,\n      addedAppointment = prevState.addedAppointment,\n    } = nextProps;\n\n    return {\n      editingAppointment,\n      appointmentChanges,\n      addedAppointment,\n    };\n  }\n\n  render() {\n    const { addedAppointment, editingAppointment, appointmentChanges } = this.state;\n\n    return (\n      <Plugin\n        name=\"EditingState\"\n      >\n        <Getter name=\"editingAppointment\" value={editingAppointment} />\n        <Action name=\"startEditAppointment\" action={this.startEditAppointment} />\n        <Action name=\"stopEditAppointment\" action={this.stopEditAppointment} />\n\n        <Getter name=\"appointmentChanges\" value={appointmentChanges} />\n        <Action name=\"changeAppointment\" action={this.changeAppointment} />\n        <Action name=\"cancelChangedAppointment\" action={this.cancelChangedAppointment} />\n        <Action name=\"commitChangedAppointment\" action={this.commitChangedAppointment} />\n\n        <Getter name=\"addedAppointment\" value={addedAppointment} />\n        <Action name=\"addAppointment\" action={this.addAppointment} />\n        <Action name=\"changeAddedAppointment\" action={this.changeAddedAppointment} />\n        <Action name=\"cancelAddedAppointment\" action={this.cancelAddedAppointment} />\n        <Action name=\"commitAddedAppointment\" action={this.commitAddedAppointment} />\n\n        <Action name=\"commitDeletedAppointment\" action={this.commitDeletedAppointment} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the scheduler appointment editing state. */\nexport const EditingState: React.ComponentType<EditingStateProps> = EditingStateBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  createStateHelper,\n  StateHelper,\n  PluginComponents,\n  Action,\n} from '@devexpress/dx-react-core';\nimport {\n  OPEN_COMMAND_BUTTON,\n  CLOSE_COMMAND_BUTTON,\n  DELETE_COMMAND_BUTTON,\n  setAppointmentMeta,\n  AppointmentMeta,\n  TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY,\n  getAppointmentResources,\n} from '@devexpress/dx-scheduler-core';\n\nimport { AppointmentTooltipProps, AppointmentTooltipState, Appointments } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Appointments' },\n  { name: 'EditingState', optional: true },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n];\n\nconst commandButtonIds = {\n  open: OPEN_COMMAND_BUTTON,\n  close: CLOSE_COMMAND_BUTTON,\n  delete: DELETE_COMMAND_BUTTON,\n};\n\nclass AppointmentTooltipBase extends React.PureComponent<\n  AppointmentTooltipProps, AppointmentTooltipState\n> {\n  toggleVisibility: (payload?: any) => void;\n  setAppointmentMeta: (appointmentMeta: AppointmentMeta) => void;\n  onAppointmentClick: (appointmentMeta: AppointmentMeta) => void;\n\n  static defaultProps: Partial<AppointmentTooltipProps> = {\n    showOpenButton: false,\n    showDeleteButton: false,\n    showCloseButton: false,\n  };\n  static components: PluginComponents = {\n    layoutComponent: 'Layout',\n    headerComponent: 'Header',\n    contentComponent: 'Content',\n    commandButtonComponent: 'CommandButton',\n    recurringIconComponent: 'RecurringIcon',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: props.visible,\n      appointmentMeta: props.appointmentMeta,\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        visible: () => {\n          const { onVisibilityChange } = this.props;\n          return onVisibilityChange;\n        },\n        appointmentMeta: () => {\n          const { onAppointmentMetaChange } = this.props;\n          return onAppointmentMetaChange;\n        },\n      },\n    );\n\n    const toggleVisibility = () => {\n      const { visible: isOpen } = this.state;\n      return !isOpen;\n    };\n    this.toggleVisibility = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'visible', toggleVisibility);\n    this.setAppointmentMeta = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentMeta', setAppointmentMeta);\n    this.onAppointmentClick = ({ target, data }) => {\n      this.setAppointmentMeta({ target, data });\n      this.toggleVisibility();\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      visible = prevState.visible,\n      appointmentMeta = prevState.appointmentMeta,\n    } = nextProps;\n    return {\n      appointmentMeta,\n      visible,\n    };\n  }\n\n  render() {\n    const {\n      showOpenButton,\n      showDeleteButton,\n      showCloseButton,\n      layoutComponent: Layout,\n      headerComponent,\n      contentComponent,\n      commandButtonComponent,\n      recurringIconComponent,\n    } = this.props;\n    const { visible, appointmentMeta } = this.state;\n\n    return (\n      <Plugin\n        name=\"AppointmentTooltip\"\n        dependencies={pluginDependencies}\n      >\n        <Action name={TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY} action={this.toggleVisibility} />\n\n        <Template name=\"timeTable\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({\n              formatDate, resources, plainResources,\n            }, {\n              finishDeleteAppointment, openDeleteConfirmationDialog,\n            }) => {\n              const onDeleteButtonClick = () => {\n                if (!finishDeleteAppointment) {\n                  return;\n                }\n                if (openDeleteConfirmationDialog) {\n                  openDeleteConfirmationDialog({\n                    hideActionName: TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY,\n                    appointmentData: appointmentMeta.data,\n                  });\n                } else {\n                  this.toggleVisibility();\n                  finishDeleteAppointment(appointmentMeta.data);\n                }\n              };\n              return (\n                <TemplatePlaceholder\n                  name=\"tooltip\"\n                  params={{\n                    commandButtonComponent,\n                    recurringIconComponent,\n                    showOpenButton,\n                    showDeleteButton,\n                    showCloseButton,\n                    headerComponent,\n                    contentComponent,\n                    appointmentMeta,\n                    appointmentResources: appointmentMeta ? getAppointmentResources(\n                      appointmentMeta.data as any, resources, plainResources,\n                    ) : [],\n                    visible,\n                    onHide: this.toggleVisibility,\n                    commandButtonIds,\n                    onDeleteButtonClick,\n                    formatDate,\n                  }}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"tooltip\">\n          {(params: any) => <Layout {...params} />}\n        </Template>\n\n        <Template name=\"appointment\">\n          {(params: Appointments.AppointmentProps) => (\n            <TemplatePlaceholder\n              params={{\n                ...params,\n                onClick: ({ target, data }) =>\n                 this.onAppointmentClick({ target, data }),\n              }}\n            />\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n// tslint:disable: max-line-length\n/** The AppointmentTooltip plugin allows you to display information about an appointment in a tooltip. */\nexport const AppointmentTooltip: React.ComponentType<AppointmentTooltipProps> = AppointmentTooltipBase;\n", "import * as React from 'react';\nimport { getMessagesFormatter, memoize } from '@devexpress/dx-core';\nimport {\n  Plugin,\n  Template,\n  createStateHelper,\n  StateHelper,\n  TemplateConnector,\n  TemplatePlaceholder,\n  PluginComponents,\n  Action,\n} from '@devexpress/dx-react-core';\nimport {\n  setAppointmentData,\n  isAllDayCell,\n  callActionIfExists,\n  AppointmentModel,\n  TOGGLE_APPOINTMENT_FORM_VISIBILITY,\n  getAppointmentResources,\n  ValidResourceInstance,\n  checkMultipleResourceFields,\n} from '@devexpress/dx-scheduler-core';\n\nimport {\n  AppointmentFormProps, AppointmentFormState, AppointmentTooltip, Appointments,\n} from '../types';\n\nconst addDoubleClickToCell = (\n  title, startDate, endDate, groupingInfo, resources,\n  allDay, openFormHandler, addAppointment, params,\n) => {\n  const resourceFields = !!groupingInfo\n    ? groupingInfo.reduce((acc, currentGroup) => (\n      { ...acc, [currentGroup.fieldName]: currentGroup.id }\n    ), {}) : {};\n  const validResourceFields = resources\n    ? checkMultipleResourceFields(resourceFields, resources)\n    : resourceFields;\n\n  const newAppointmentData = {\n    title,\n    startDate,\n    endDate,\n    allDay,\n    ...validResourceFields,\n  };\n\n  return (\n    <TemplatePlaceholder\n      params={{\n        ...params,\n        onDoubleClick: () => {\n          openFormHandler(newAppointmentData);\n          callActionIfExists(addAppointment,\n            { appointmentData: newAppointmentData });\n        },\n      }}\n    />\n  );\n};\n\nconst defaultMessages = {\n  allDayLabel: 'All Day',\n  titleLabel: 'Title',\n  commitCommand: 'Save',\n  detailsLabel: 'Details',\n  moreInformationLabel: 'More Information',\n  repeatLabel: 'Repeat',\n  notesLabel: 'Notes',\n  never: 'Never',\n  daily: 'Daily',\n  weekly: 'Weekly',\n  monthly: 'Monthly',\n  yearly: 'Yearly',\n  repeatEveryLabel: 'Repeat every',\n  daysLabel: 'day(s)',\n  endRepeatLabel: 'End repeat',\n  onLabel: 'On',\n  afterLabel: 'After',\n  occurrencesLabel: 'occurrence(s)',\n  weeksOnLabel: 'week(s) on:',\n  monthsLabel: 'month(s)',\n  ofEveryMonthLabel: 'of every month',\n  theLabel: 'The',\n  firstLabel: 'First',\n  secondLabel: 'Second',\n  thirdLabel: 'Third',\n  fourthLabel: 'Fourth',\n  lastLabel: 'Last',\n  yearsLabel: 'year(s)',\n  ofLabel: 'of ',\n  everyLabel: 'Every',\n};\n\nconst CommandLayoutPlaceholder = () => <TemplatePlaceholder name=\"commandLayout\" />;\nconst BasicLayoutPlaceholder = () => <TemplatePlaceholder name=\"basicLayout\" />;\nconst RecurrenceLayoutPlaceholder = () => <TemplatePlaceholder name=\"recurrenceLayout\" />;\n\nconst pluginDependencies = [\n  { name: 'EditingState', optional: true },\n  { name: 'Appointments', optional: true },\n  { name: 'AppointmentTooltip', optional: true },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n];\n\nconst prepareChanges = (\n  appointmentData, editingAppointment,\n  addedAppointment, appointmentChanges,\n  resources, plainResources,\n) => {\n  const isNew = !editingAppointment;\n  const changedAppointment = {\n    ...appointmentData,\n    ...appointmentChanges,\n    ...isNew && addedAppointment,\n  };\n  const appointmentResources = getAppointmentResources(\n    changedAppointment, resources, plainResources,\n  );\n  const isFormEdited = isNew || Object.getOwnPropertyNames(appointmentChanges).length !== 0;\n  return { changedAppointment, appointmentResources, isNew, isFormEdited };\n};\n\nconst isFormFullSize = (\n  isFormVisible, changedAppointmentRRule, previousAppointmentRRule,\n) => !!changedAppointmentRRule || (!isFormVisible && !!previousAppointmentRRule);\n\nclass AppointmentFormBase extends React.PureComponent<AppointmentFormProps, AppointmentFormState> {\n  toggleVisibility: (payload?: any) => void;\n  setAppointmentData: (payload: any) => void;\n  openFormHandler: (payload: AppointmentModel) => void;\n  container = React.createRef();\n\n  static defaultProps: Partial<AppointmentFormProps> = {\n    messages: {},\n    readOnly: false,\n    onVisibilityChange: () => undefined,\n    onAppointmentDataChange: () => undefined,\n  };\n  static components: PluginComponents = {\n    overlayComponent: 'Overlay',\n    layoutComponent: 'Layout',\n    commandLayoutComponent: 'CommandLayout',\n    commandButtonComponent: 'CommandButton',\n    basicLayoutComponent: 'BasicLayout',\n    textEditorComponent: 'TextEditor',\n    labelComponent: 'Label',\n    dateEditorComponent: 'DateEditor',\n    booleanEditorComponent: 'BooleanEditor',\n    selectComponent: 'Select',\n    recurrenceLayoutComponent: 'RecurrenceLayout',\n    radioGroupComponent: 'RadioGroup',\n    weeklyRecurrenceSelectorComponent: 'WeeklyRecurrenceSelector',\n    resourceEditorComponent: 'ResourceEditor',\n    containerComponent: 'Container',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: props.visible,\n      appointmentData: props.appointmentData || {},\n      previousAppointment: props.appointmentData || {},\n    };\n\n    const stateHelper: StateHelper = createStateHelper(\n      this,\n      {\n        visible: () => {\n          const { onVisibilityChange } = this.props;\n          return onVisibilityChange;\n        },\n        appointmentData: () => {\n          const { onAppointmentDataChange } = this.props;\n          return onAppointmentDataChange;\n        },\n      },\n    );\n\n    const toggleVisibility = () => {\n      const { visible: isOpen } = this.state;\n      return !isOpen;\n    };\n    this.toggleVisibility = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'visible', toggleVisibility);\n    this.setAppointmentData = stateHelper.applyFieldReducer\n      .bind(stateHelper, 'appointmentData', setAppointmentData);\n\n    this.openFormHandler = (appointmentData) => {\n      this.setAppointmentData({ appointmentData });\n      this.toggleVisibility();\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      visible = prevState.visible,\n      appointmentData = prevState.appointmentData,\n    } = nextProps;\n    return {\n      appointmentData,\n      visible,\n    };\n  }\n\n  commitChanges = memoize((\n    finishCommitAppointment, commitAddedAppointment, isNew, changedAppointment,\n  ) => () =>  {\n    this.toggleVisibility();\n    if (isNew) {\n      callActionIfExists(commitAddedAppointment, changedAppointment);\n    } else if (finishCommitAppointment) {\n      finishCommitAppointment();\n    }\n    this.setState({ previousAppointment: changedAppointment });\n  });\n\n  cancelChanges = memoize((\n    openCancelConfirmationDialog, isNew, stopEditAppointment, appointmentChanges,\n    changedAppointment, cancelAddedAppointment, cancelChangedAppointment,\n  ) => () => {\n    if (openCancelConfirmationDialog && Object.keys(appointmentChanges).length !== 0) {\n      openCancelConfirmationDialog(TOGGLE_APPOINTMENT_FORM_VISIBILITY);\n    } else {\n      if (isNew) {\n        callActionIfExists(cancelAddedAppointment, appointmentChanges);\n      } else {\n        callActionIfExists(stopEditAppointment, appointmentChanges);\n        callActionIfExists(cancelChangedAppointment, appointmentChanges);\n      }\n      this.toggleVisibility();\n    }\n    this.setState({ previousAppointment: changedAppointment });\n  });\n\n  deleteAppointment = memoize((\n    finishDeleteAppointment, appointmentData, openDeleteConfirmationDialog,\n    changedAppointment, cancelAddedAppointment, cancelChangedAppointment,\n    stopEditAppointment, isNew,\n  ) => () => {\n    if (openDeleteConfirmationDialog) {\n      openDeleteConfirmationDialog({\n        hideActionName: TOGGLE_APPOINTMENT_FORM_VISIBILITY, appointmentData: changedAppointment,\n      });\n    } else {\n      callActionIfExists(finishDeleteAppointment, appointmentData);\n      if (isNew) {\n        callActionIfExists(cancelAddedAppointment, appointmentData);\n      } else {\n        callActionIfExists(cancelChangedAppointment, appointmentData);\n        callActionIfExists(stopEditAppointment, appointmentData);\n      }\n      this.toggleVisibility();\n    }\n    this.setState({ previousAppointment: changedAppointment });\n  });\n\n  changeAppointmentField = memoize((isNew, changeAddedAppointment, changeAppointment) =>\n    (change) => {\n      if (change && change.rRule) {\n        this.setState({ previousAppointment: {\n          ...this.state.previousAppointment, rRule: change.rRule,\n        }});\n      }\n      if (isNew) {\n        callActionIfExists(changeAddedAppointment, { change });\n      } else {\n        callActionIfExists(changeAppointment, { change });\n      }\n    },\n  );\n\n  getMessage = memoize((menuMessages, messages) =>\n    getMessagesFormatter({ ...menuMessages, ...messages }));\n\n  render() {\n    const {\n      containerComponent: Container,\n      overlayComponent: Overlay,\n      layoutComponent: Layout,\n      commandLayoutComponent: CommandLayout,\n      basicLayoutComponent: BasicLayout,\n      recurrenceLayoutComponent: RecurrenceLayout,\n      commandButtonComponent,\n      textEditorComponent,\n      labelComponent,\n      dateEditorComponent,\n      booleanEditorComponent,\n      selectComponent,\n      radioGroupComponent,\n      weeklyRecurrenceSelectorComponent,\n      resourceEditorComponent,\n      readOnly,\n      messages,\n    } = this.props;\n    const { visible, appointmentData, previousAppointment } = this.state;\n    const getMessage = this.getMessage(defaultMessages, messages);\n    return (\n      <Plugin\n        name=\"AppointmentForm\"\n        dependencies={pluginDependencies}\n      >\n        <Action name={TOGGLE_APPOINTMENT_FORM_VISIBILITY} action={this.toggleVisibility} />\n\n        <Template name=\"schedulerRoot\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n\n              resources,\n              plainResources,\n            }, {\n              openCancelConfirmationDialog,\n\n              stopEditAppointment,\n              cancelAddedAppointment,\n              cancelChangedAppointment,\n            }) => {\n              const { changedAppointment, isNew } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                resources, plainResources,\n              );\n              const fullSize = isFormFullSize(\n                visible, changedAppointment.rRule, previousAppointment.rRule,\n              );\n              const onHideAction = () => visible && this.cancelChanges(\n                openCancelConfirmationDialog, isNew, stopEditAppointment,\n                { ...appointmentChanges, ...addedAppointment }, changedAppointment,\n                cancelAddedAppointment, cancelChangedAppointment,\n              )();\n\n              return (\n                <React.Fragment>\n                  <Container ref={this.container} />\n                  <Overlay\n                    visible={visible}\n                    onHide={onHideAction}\n                    fullSize={fullSize}\n                    target={this.container}\n                  >\n                    <Layout\n                      basicLayoutComponent={BasicLayoutPlaceholder}\n                      commandLayoutComponent={CommandLayoutPlaceholder}\n                      recurrenceLayoutComponent={RecurrenceLayoutPlaceholder}\n                      isRecurrence={fullSize}\n                    />\n                  </Overlay>\n                  <TemplatePlaceholder />\n                </React.Fragment>);\n            }}\n          </TemplateConnector>\n        </Template>\n        <Template name=\"commandLayout\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n\n              resources,\n              plainResources,\n            }, {\n              commitAddedAppointment,\n              finishCommitAppointment,\n              finishDeleteAppointment,\n\n              stopEditAppointment,\n              cancelAddedAppointment,\n              cancelChangedAppointment,\n\n              openCancelConfirmationDialog,\n              openDeleteConfirmationDialog,\n            }) => {\n              const { isNew, changedAppointment, isFormEdited } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                resources, plainResources,\n              );\n              const isRecurrence = isFormFullSize(\n                visible, changedAppointment.rRule, previousAppointment.rRule,\n              );\n              return (\n                <CommandLayout\n                  commandButtonComponent={commandButtonComponent}\n                  onCommitButtonClick={this.commitChanges(\n                    finishCommitAppointment, commitAddedAppointment, isNew, changedAppointment,\n                  )}\n                  onCancelButtonClick={this.cancelChanges(\n                    openCancelConfirmationDialog, isNew, stopEditAppointment,\n                    { ...appointmentChanges, ...addedAppointment }, changedAppointment,\n                    cancelAddedAppointment, cancelChangedAppointment,\n                  )}\n                  onDeleteButtonClick={this.deleteAppointment(\n                    finishDeleteAppointment, appointmentData, openDeleteConfirmationDialog,\n                    changedAppointment, cancelAddedAppointment, cancelChangedAppointment,\n                    stopEditAppointment, isNew,\n                  )}\n                  getMessage={getMessage}\n                  readOnly={readOnly}\n                  fullSize={isRecurrence}\n                  disableSaveButton={!isFormEdited}\n                  hideDeleteButton={isNew}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n        <Template name=\"basicLayout\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n              locale,\n\n              resources,\n              plainResources,\n            }, {\n              changeAppointment,\n              changeAddedAppointment,\n            }) => {\n              const { isNew, changedAppointment, appointmentResources } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                resources, plainResources,\n              );\n              return (\n                <BasicLayout\n                  locale={locale}\n                  appointmentData={visible ? changedAppointment : previousAppointment}\n                  onFieldChange={this.changeAppointmentField(\n                    isNew, changeAddedAppointment, changeAppointment,\n                  )}\n                  getMessage={getMessage}\n                  readOnly={readOnly}\n                  textEditorComponent={textEditorComponent}\n                  dateEditorComponent={dateEditorComponent}\n                  booleanEditorComponent={booleanEditorComponent}\n                  selectComponent={selectComponent}\n                  labelComponent={labelComponent}\n                  resourceEditorComponent={resourceEditorComponent}\n                  fullSize={!changedAppointment.rRule}\n                  resources={resources}\n                  appointmentResources={appointmentResources as Array<ValidResourceInstance>}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"recurrenceLayout\">\n          <TemplateConnector>\n            {({\n              editingAppointment,\n              addedAppointment,\n              appointmentChanges,\n              formatDate,\n              locale,\n              firstDayOfWeek,\n            }, {\n              changeAddedAppointment,\n              changeAppointment,\n            }) => {\n              const { isNew, changedAppointment } = prepareChanges(\n                appointmentData, editingAppointment,\n                addedAppointment, appointmentChanges,\n                undefined, undefined,\n              );\n              const isRecurrenceLayoutVisible = isFormFullSize(\n                visible, changedAppointment.rRule, previousAppointment.rRule,\n              );\n              const correctedAppointment = !changedAppointment.rRule\n                ? { ...changedAppointment, rRule: previousAppointment.rRule } : changedAppointment;\n\n              return (\n                <RecurrenceLayout\n                  locale={locale}\n                  appointmentData={visible ? correctedAppointment : previousAppointment}\n                  onFieldChange={this.changeAppointmentField(\n                    isNew, changeAddedAppointment, changeAppointment,\n                  )}\n                  getMessage={getMessage}\n                  readOnly={readOnly}\n                  formatDate={formatDate}\n                  textEditorComponent={textEditorComponent}\n                  dateEditorComponent={dateEditorComponent}\n                  radioGroupComponent={radioGroupComponent}\n                  weeklyRecurrenceSelectorComponent={weeklyRecurrenceSelectorComponent}\n                  labelComponent={labelComponent}\n                  selectComponent={selectComponent}\n                  visible={isRecurrenceLayoutVisible}\n                  firstDayOfWeek={firstDayOfWeek}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"tooltip\">\n          {(params: AppointmentTooltip.LayoutProps) => (\n            <TemplateConnector>\n              {(getters, { startEditAppointment }) => (\n                <TemplatePlaceholder\n                  params={{\n                    ...params,\n                    onOpenButtonClick: () => {\n                      this.openFormHandler(params.appointmentMeta!.data);\n                      callActionIfExists(startEditAppointment, params.appointmentMeta!.data);\n                    },\n                  }}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"appointment\">\n          {(params: Appointments.AppointmentProps) => (\n            <TemplateConnector>\n              {(getters, { startEditAppointment }) => (\n                <TemplatePlaceholder\n                  params={{\n                    ...params,\n                    onDoubleClick: () => {\n                      this.openFormHandler(params.data);\n                      callActionIfExists(startEditAppointment, params.data);\n                    },\n                  }}\n                />\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"cell\">\n          {(params: any) => (\n            <TemplateConnector>\n              {({ resources }, { addAppointment }) => addDoubleClickToCell(\n                undefined, params.startDate, params.endDate, params.groupingInfo, resources,\n                isAllDayCell(params.startDate, params.endDate),\n                this.openFormHandler, addAppointment, params,\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n\n        <Template name=\"allDayPanelCell\">\n          {(params: any) => (\n            <TemplateConnector>\n              {({ resources }, { addAppointment }) => addDoubleClickToCell(\n                undefined, params.startDate, params.endDate, params.groupingInfo, resources,\n                true, this.openFormHandler, addAppointment, params,\n              )}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin >\n    );\n  }\n}\n\n// tslint:disable-next-line: max-line-length\n/** The AppointmentForm plugin renders a form that visualizes appointments data and allows a user to modify this data. */\nexport const AppointmentForm: React.ComponentType<AppointmentFormProps> = AppointmentFormBase;\n", "import * as React from 'react';\nimport {\n  Plugin, Template, TemplatePlaceholder,\n  TemplateConnector, DropTarget, DragSource,\n  DragDropProvider as DragDropProviderCore,\n  PluginComponents, PlaceholderWithRef,\n} from '@devexpress/dx-react-core';\nimport {\n  cellIndex, cellData, cellType, getAppointmentStyle, intervalDuration, autoScroll,\n  calculateAppointmentTimeBoundaries, calculateInsidePart, RESIZE_TOP, RESIZE_BOTTOM,\n  POSITION_START, POSITION_END, getAppointmentResources, calculateAppointmentGroups,\n  appointmentDragged, calculateDraftAppointments,\n  HORIZONTAL_GROUP_ORIENTATION, VERTICAL_GROUP_ORIENTATION, SCROLL_SPEED_PX,\n} from '@devexpress/dx-scheduler-core';\nimport { DragDropProviderProps, DragDropProviderState } from '../types';\n\nconst renderAppointmentItems = (items, Wrapper, draftData) => (\n  items.length > 0 ? (\n    <Wrapper>\n      {items.map((draftAppointment, index) => (\n        <TemplatePlaceholder\n          name=\"draftAppointment\"\n          key={index.toString()}\n          params={{ data: draftData, draftAppointment }}\n        />\n      ))}\n    </Wrapper>\n  ) : (\n    null\n  )\n);\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'Appointments' },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'MonthView', optional: true },\n  { name: 'AllDayPanel', optional: true },\n];\n\nclass DragDropProviderBase extends React.PureComponent<\n  DragDropProviderProps, DragDropProviderState\n> {\n  timeTableDraftAppointments: any = [];\n  allDayDraftAppointments: any = [];\n  offsetTimeTop: number | null = null;\n  appointmentStartTime: any = null;\n  appointmentEndTime: any = null;\n  appointmentGroupingInfo: any = {};\n\n  state: DragDropProviderState = {\n    startTime: null,\n    endTime: null,\n    appointmentGroupingInfo: null,\n    payload: null,\n    isOutside: false,\n    allowDrag: () => true,\n    allowResize: () => true,\n    appointmentContentTemplateKey: 0,\n    appointmentTopTemplateKey: 0,\n    appointmentBottomTemplateKey: 0,\n  };\n  static components: PluginComponents = {\n    containerComponent: 'Container',\n    draftAppointmentComponent: 'DraftAppointment',\n    sourceAppointmentComponent: 'SourceAppointment',\n    resizeComponent: 'Resize',\n  };\n  static defaultProps: Partial<DragDropProviderProps> = {\n    allowDrag: () => true,\n    allowResize: () => true,\n    scrollSpeed: SCROLL_SPEED_PX,\n  };\n  static getDerivedStateFromProps(\n    props: DragDropProviderProps, state: DragDropProviderState,\n  ): DragDropProviderState | null {\n    const isAllowDragSame = props.allowDrag === state.allowDrag;\n    const isAllowResizeSame = props.allowResize === state.allowResize;\n\n    if (isAllowDragSame && isAllowResizeSame) {\n      return null;\n    }\n\n    return {\n      ...state,\n      appointmentContentTemplateKey:\n        isAllowDragSame ? state.appointmentContentTemplateKey : Math.random(),\n      appointmentTopTemplateKey:\n        isAllowResizeSame ? state.appointmentTopTemplateKey : Math.random(),\n      appointmentBottomTemplateKey:\n        isAllowResizeSame ? state.appointmentBottomTemplateKey : Math.random(),\n      allowDrag: props.allowDrag,\n      allowResize: props.allowResize,\n    };\n\n  }\n\n  onPayloadChange(actions) {\n    return args => this.handlePayloadChange(args, actions);\n  }\n\n  calculateNextBoundaries(getters, actions, scrollSpeed) {\n    return args => this.calculateBoundaries(args, getters, actions, scrollSpeed);\n  }\n\n  resetCache() {\n    this.timeTableDraftAppointments = [];\n    this.allDayDraftAppointments = [];\n    this.offsetTimeTop = null;\n    this.appointmentStartTime = null;\n    this.appointmentEndTime = null;\n    this.appointmentGroupingInfo = {};\n\n    this.setState({\n      payload: null,\n      startTime: null,\n      endTime: null,\n      isOutside: false,\n    });\n  }\n\n  applyChanges(\n    startTime, endTime, payload, startEditAppointment, changeAppointment, appointmentGroupingInfo,\n  ) {\n    startEditAppointment(payload);\n    changeAppointment({\n      change: {\n        startDate: startTime,\n        endDate: endTime,\n        ...payload.allDay && { allDay: undefined },\n        ...this.appointmentGroupingInfo,\n      },\n    });\n    this.setState({ startTime, endTime, payload, isOutside: false, appointmentGroupingInfo });\n  }\n\n  handlePayloadChange({ payload }, { finishCommitAppointment }) {\n    const { isOutside } = this.state;\n    if (payload || !isOutside) return;\n\n    finishCommitAppointment();\n    this.resetCache();\n  }\n\n  calculateBoundaries(\n    { payload, clientOffset },\n    {\n      viewCellsData, allDayCellsData, startViewDate, endViewDate, excludedDays, currentView,\n      timeTableElementsMeta, allDayElementsMeta, scrollingStrategy,\n      grouping, resources, groups, groupOrientation: getGroupOrientation, groupByDate,\n    },\n    { changeAppointment, startEditAppointment },\n    scrollSpeed,\n  ) {\n    if (clientOffset) {\n      autoScroll(clientOffset, scrollingStrategy, scrollSpeed);\n    }\n\n    const tableCellElementsMeta = timeTableElementsMeta;\n    const groupOrientation = getGroupOrientation\n      ? getGroupOrientation(currentView?.name)\n      : HORIZONTAL_GROUP_ORIENTATION;\n\n    // AllDayPanel doesn't always exist\n    const allDayCellsElementsMeta = allDayElementsMeta && allDayElementsMeta.getCellRects\n      ? allDayElementsMeta\n      : { getCellRects: [] };\n    const timeTableIndex = cellIndex(tableCellElementsMeta.getCellRects, clientOffset);\n    const allDayIndex = cellIndex(allDayCellsElementsMeta.getCellRects, clientOffset);\n\n    if (allDayIndex === -1 && timeTableIndex === -1) return;\n\n    const targetData = cellData(\n      timeTableIndex, allDayIndex, viewCellsData, allDayCellsData,\n    );\n    const targetType = cellType(targetData);\n    const insidePart = calculateInsidePart(\n      clientOffset.y, tableCellElementsMeta.getCellRects, timeTableIndex,\n    );\n    const cellDurationMinutes = intervalDuration(targetData, 'minutes');\n\n    const {\n      appointmentStartTime, appointmentEndTime, offsetTimeTop,\n    } = calculateAppointmentTimeBoundaries(\n      payload, targetData, targetType, cellDurationMinutes,\n      insidePart, this.offsetTimeTop!,\n    );\n\n    const appointmentGroups = calculateAppointmentGroups(\n      targetData.groupingInfo, resources, payload,\n    );\n\n    this.appointmentStartTime = appointmentStartTime || this.appointmentStartTime;\n    this.appointmentEndTime = appointmentEndTime || this.appointmentEndTime;\n    this.appointmentGroupingInfo = appointmentGroups || this.appointmentGroupingInfo;\n    this.offsetTimeTop = offsetTimeTop!;\n\n    const { startTime, endTime, appointmentGroupingInfo } = this.state;\n    if (!appointmentDragged(\n      this.appointmentStartTime, startTime!,\n      this.appointmentEndTime, endTime!,\n      this.appointmentGroupingInfo, appointmentGroupingInfo,\n    )) {\n      return;\n    }\n\n    const draftAppointments = [{\n      dataItem: {\n        ...payload,\n        startDate: this.appointmentStartTime,\n        endDate: this.appointmentEndTime,\n        ...this.appointmentGroupingInfo,\n      },\n      start: this.appointmentStartTime,\n      end: this.appointmentEndTime,\n    }];\n\n    const {\n      allDayDraftAppointments,\n      timeTableDraftAppointments,\n    } = calculateDraftAppointments(\n      allDayIndex, draftAppointments, startViewDate,\n      endViewDate, excludedDays, viewCellsData, allDayCellsElementsMeta,\n      targetType, cellDurationMinutes, tableCellElementsMeta, grouping, resources, groups,\n      groupOrientation, groupByDate?.(currentView?.name),\n    );\n\n    this.allDayDraftAppointments = allDayDraftAppointments;\n    this.timeTableDraftAppointments = timeTableDraftAppointments;\n\n    this.applyChanges(\n      this.appointmentStartTime, this.appointmentEndTime,\n      payload, startEditAppointment, changeAppointment,\n      this.appointmentGroupingInfo,\n    );\n  }\n\n  handleDrop = ({ finishCommitAppointment }) => () => {\n    finishCommitAppointment();\n    this.resetCache();\n  }\n\n  handleLeave = () => {\n    this.setState({ isOutside: true });\n  }\n\n  render() {\n    const {\n      payload, appointmentContentTemplateKey,\n      appointmentBottomTemplateKey, appointmentTopTemplateKey,\n    } = this.state;\n    const {\n      containerComponent: Container,\n      draftAppointmentComponent: DraftAppointment,\n      sourceAppointmentComponent: SourceAppointment,\n      resizeComponent: Resize,\n      allowDrag,\n      allowResize,\n      scrollSpeed,\n    } = this.props;\n\n    const draftData = {\n      ...payload, startDate: this.appointmentStartTime, endDate: this.appointmentEndTime,\n    };\n\n    return (\n      <Plugin\n        name=\"DragDropProvider\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"body\">\n          <TemplateConnector>\n            {({\n              viewCellsData, allDayCellsData, startViewDate, endViewDate, excludedDays,\n              timeTableElementsMeta, allDayElementsMeta, scrollingStrategy,\n              grouping, resources, groups, currentView, groupByDate, groupOrientation,\n            }, {\n              changeAppointment, startEditAppointment, finishCommitAppointment,\n            }) => {\n              const calculateBoundariesByMove = this.calculateNextBoundaries({\n                viewCellsData, allDayCellsData, currentView,\n                startViewDate, endViewDate, excludedDays,\n                timeTableElementsMeta, allDayElementsMeta, scrollingStrategy,\n                resources, grouping, groups, groupByDate, groupOrientation,\n              }, { changeAppointment, startEditAppointment }, scrollSpeed);\n              return (\n                <DragDropProviderCore\n                  onChange={this.onPayloadChange({ finishCommitAppointment })}\n                >\n                  <DropTarget\n                    onOver={calculateBoundariesByMove}\n                    onEnter={calculateBoundariesByMove}\n                    onDrop={this.handleDrop({ finishCommitAppointment })}\n                    onLeave={this.handleLeave}\n                  >\n                    <PlaceholderWithRef />\n                  </DropTarget>\n                </DragDropProviderCore>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n\n        <Template\n          name=\"appointmentContent\"\n          predicate={({ data }: any) => allowDrag!(data)}\n          key={appointmentContentTemplateKey}\n        >\n          {({ styles, ...params }: any) => (\n            <DragSource\n              payload={{ ...params.data, type: params.type }}\n            >\n              {payload && params.data.id === payload.id ? (\n                <SourceAppointment {...params} />\n              ) : (\n                <PlaceholderWithRef params={{ ...params, draggable: true }} />\n              )}\n            </DragSource>\n          )}\n        </Template>\n\n        <Template\n          name=\"appointmentTop\"\n          predicate={(params: any) => !params.slice && allowResize!(params.data)}\n          key={appointmentTopTemplateKey}\n        >\n          {({ data, type }: any) => (\n            <DragSource\n              payload={{ ...data, type: RESIZE_TOP, appointmentType: type }}\n            >\n              <Resize position={POSITION_START} appointmentType={type} />\n            </DragSource>\n          )}\n        </Template>\n\n        <Template\n          name=\"appointmentBottom\"\n          predicate={(params: any) => !params.slice && allowResize!(params.data)}\n          key={appointmentBottomTemplateKey}\n        >\n          {({ data, type }: any) => (\n            <DragSource\n              payload={{ ...data, type: RESIZE_BOTTOM, appointmentType: type }}\n            >\n              <Resize position={POSITION_END} appointmentType={type} />\n            </DragSource>\n          )}\n        </Template>\n\n        <Template name=\"allDayPanel\">\n          <TemplateConnector>\n            {({ currentView, groupOrientation }) => (\n              <>\n                <TemplatePlaceholder />\n                {groupOrientation?.(currentView.name) !== VERTICAL_GROUP_ORIENTATION\n                  ? renderAppointmentItems(this.allDayDraftAppointments, Container, draftData)\n                  : null}\n              </>\n            )}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"timeTable\">\n          <TemplateConnector>\n            {({ currentView, groupOrientation }) => (\n              <>\n                <TemplatePlaceholder />\n                {renderAppointmentItems(this.timeTableDraftAppointments, Container, draftData)}\n                {groupOrientation?.(currentView.name) === VERTICAL_GROUP_ORIENTATION\n                  ? renderAppointmentItems(this.allDayDraftAppointments, Container, draftData)\n                  : null}\n              </>\n            )}\n          </TemplateConnector>\n        </Template>\n\n        <Template name=\"draftAppointment\">\n          {({ data, draftAppointment, ...restParams }: any) => (\n            <TemplateConnector>\n              {({ formatDate, resources, plainResources }) => {\n                const {\n                  dataItem, type, fromPrev, toNext, durationType, ...geometry\n                } = draftAppointment;\n                return (\n                  <DraftAppointment\n                    data={data}\n                    resources={getAppointmentResources(dataItem, resources, plainResources)}\n                    durationType={durationType}\n                    style={getAppointmentStyle(geometry)}\n                    type={type}\n                    fromPrev={fromPrev}\n                    toNext={toNext}\n                    formatDate={formatDate}\n                    {...restParams}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that enables users to edit appointments via drag-and-drop. */\nexport const DragDropProvider: React.ComponentType<DragDropProviderProps> = DragDropProviderBase;\n", "import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { TodayButtonProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Toolbar' },\n  { name: 'ViewState' },\n];\n\nconst defaultMessages = {\n  today: 'Today',\n};\n\nclass TodayButtonBase extends React.PureComponent<TodayButtonProps> {\n  static components: PluginComponents = {\n    buttonComponent: 'Button',\n  };\n  render() {\n    const {\n      buttonComponent: Button,\n      messages,\n    } = this.props;\n    const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n\n    return (\n      <Plugin\n        name=\"TodayButton\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"toolbarContent\">\n          <TemplateConnector>\n            {(getters, {\n              changeCurrentDate,\n            }) => {\n              const setCurrentDate = nextDate => changeCurrentDate({\n                nextDate,\n              });\n              return (\n                <Button\n                  getMessage={getMessage}\n                  setCurrentDate={setCurrentDate}\n                />\n              );\n            }}\n          </TemplateConnector>\n          <TemplatePlaceholder />\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the Scheduler's button which sets the current date to today's date. */\nexport const TodayButton: React.ComponentType<TodayButtonProps> = TodayButtonBase;\n", "import * as React from 'react';\nimport { memoize, getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Plugin, Template, TemplatePlaceholder, TemplateConnector, Action, Getters, Actions,\n} from '@devexpress/dx-react-core';\nimport { RECURRENCE_EDIT_SCOPE } from '@devexpress/dx-scheduler-core';\nimport { EditRecurrenceMenuProps, EditRecurrenceMenuState } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n];\n\nconst defaultAvailableOperations = [\n  { value: RECURRENCE_EDIT_SCOPE.CURRENT },\n  { value: RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING },\n  { value: RECURRENCE_EDIT_SCOPE.ALL },\n];\n\nconst defaultMessages = {\n  [RECURRENCE_EDIT_SCOPE.CURRENT]: 'This appointment',\n  [RECURRENCE_EDIT_SCOPE.CURRENT_AND_FOLLOWING]: 'This and following appointments',\n  [RECURRENCE_EDIT_SCOPE.ALL]: 'All appointments',\n  menuEditingTitle: 'Edit recurring appointment',\n  menuDeletingTitle: 'Delete recurring appointment',\n  cancelButton: 'Cancel',\n  commitButton: 'OK',\n};\n\nclass EditRecurrenceMenuBase extends React.PureComponent<\n  EditRecurrenceMenuProps, EditRecurrenceMenuState\n> {\n  static components = {\n    layoutComponent: 'Layout',\n    overlayComponent: 'Overlay',\n    buttonComponent: 'Button',\n    containerComponent: 'Container',\n  };\n\n  modalContainer = React.createRef();\n\n  state = {\n    isOpen: false,\n    deletedAppointmentData: null,\n  };\n\n  finishCommitAppointment = (\n    payload,\n    { editingAppointment }: Getters,\n    { commitChangedAppointment }: Actions,\n  ) => {\n    if (editingAppointment && !editingAppointment.rRule) {\n      commitChangedAppointment();\n    } else {\n      this.setState({\n        isOpen: true, deletedAppointmentData: null,\n      });\n    }\n  }\n\n  finishDeleteAppointment = (\n    payload,\n    getters,\n    { commitDeletedAppointment }: Actions,\n  ) => {\n    if (payload && !payload.rRule) {\n      commitDeletedAppointment({ deletedAppointmentData: payload });\n    } else {\n      this.setState({\n        isOpen: true, deletedAppointmentData: payload,\n      });\n    }\n  }\n\n  commit = memoize((editAction, deleteAction, payload) => (type) => {\n    if (payload) {\n      deleteAction({ deletedAppointmentData: payload, type });\n    } else {\n      editAction(type);\n    }\n    this.closeMenu();\n  });\n\n  closeMenu = () => {\n    this.setState({ isOpen: false, deletedAppointmentData: null });\n  }\n\n  cancelEditing = memoize((cancelAction, stopEditAction) => () => {\n    stopEditAction();\n    cancelAction();\n    this.closeMenu();\n  });\n\n  availableOperations = memoize((getMessage, menuAvailableOperations) =>\n    menuAvailableOperations.map(({ value }) => ({\n      value,\n      title: getMessage([value]),\n    })));\n\n  getMessage = memoize((messages, menuMessages) =>\n    getMessagesFormatter({ ...menuMessages, ...messages }));\n\n  render() {\n    const { isOpen, deletedAppointmentData } = this.state;\n    const {\n      layoutComponent: Layout,\n      overlayComponent: Overlay,\n      containerComponent: Container,\n      buttonComponent,\n      messages,\n    } = this.props;\n\n    const getMessage = this.getMessage(messages, defaultMessages);\n    const availableOperations = this.availableOperations(getMessage, defaultAvailableOperations);\n\n    return (\n      <Plugin\n        name=\"EditRecurrenceMenu\"\n        dependencies={pluginDependencies}\n      >\n        <Action name=\"finishCommitAppointment\" action={this.finishCommitAppointment} />\n        <Action name=\"finishDeleteAppointment\" action={this.finishDeleteAppointment} />\n\n        <Template name=\"schedulerRoot\">\n          <TemplatePlaceholder />\n          <Container ref={this.modalContainer} />\n          <TemplatePlaceholder name=\"overlay\" />\n        </Template>\n\n        <Template name=\"overlay\">\n          <TemplateConnector>\n            {(getters, {\n              commitChangedAppointment, commitDeletedAppointment,\n              cancelChangedAppointment, stopEditAppointment,\n            }) => {\n              const commit = this.commit(\n                commitChangedAppointment, commitDeletedAppointment, deletedAppointmentData,\n              );\n              const cancelEditing = this.cancelEditing(\n                cancelChangedAppointment, stopEditAppointment,\n              );\n\n              return (\n                <Overlay\n                  target={this.modalContainer}\n                  visible={isOpen}\n                  onHide={this.closeMenu}\n                >\n                  <Layout\n                    isDeleting={!!deletedAppointmentData}\n                    buttonComponent={buttonComponent}\n                    handleClose={cancelEditing}\n                    commit={commit}\n                    availableOperations={availableOperations}\n                    getMessage={getMessage}\n                  />\n                </Overlay>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/**\n * A plugin that renders the Scheduler's edit menu.\n * Should not be used with the `IntegratedEditing` plugin.\n */\nexport const EditRecurrenceMenu: React.ComponentType<\n  EditRecurrenceMenuProps\n> = EditRecurrenceMenuBase;\n", "import * as React from 'react';\nimport { Action, Plugin, Actions } from '@devexpress/dx-react-core';\nimport { IntegratedEditingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n];\n\nclass IntegratedEditingBase extends React.PureComponent<IntegratedEditingProps> {\n  static defaultProps = {\n    totalCount: 0,\n  };\n\n  finishCommitAppointment = (payload, getters, { commitChangedAppointment }: Actions) => {\n    commitChangedAppointment();\n  }\n\n  finishDeleteAppointment = (payload, getters, { commitDeletedAppointment }: Actions) => {\n    commitDeletedAppointment({ deletedAppointmentData: payload });\n  }\n\n  render() {\n    return (\n      <Plugin\n        name=\"IntegratedEditing\"\n        dependencies={pluginDependencies}\n      >\n        <Action name=\"finishCommitAppointment\" action={this.finishCommitAppointment} />\n        <Action name=\"finishDeleteAppointment\" action={this.finishDeleteAppointment} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that allows implementing a editing calculation logic. */\nexport const IntegratedEditing: React.ComponentType<IntegratedEditingProps> = IntegratedEditingBase;\n", "import * as React from 'react';\nimport { Plugin, Getter, Getters } from '@devexpress/dx-react-core';\nimport {\n  convertResourcesToPlain, validateResources, addResourcesToAppointments,\n} from '@devexpress/dx-scheduler-core';\nimport { ResourcesProps } from '../types/resources/resources.types';\n\nconst pluginDependencies = [\n  { name: 'Appointments' },\n];\n\nconst addResourcesToTimeTableAppointments = ({\n  timeTableAppointments, resources, plainResources,\n}: Getters) => timeTableAppointments\n  && addResourcesToAppointments(timeTableAppointments[0], resources, plainResources);\nconst addResourcesToAllDayAppointments = ({\n    allDayAppointments, resources, plainResources,\n  }: Getters) => allDayAppointments\n    && addResourcesToAppointments(allDayAppointments[0], resources, plainResources);\n\nconst ResourcesBase: React.FunctionComponent<ResourcesProps> = React.memo(({\n  data, mainResourceName, palette,\n}) => {\n  const convertResources = ({ resources }: Getters) =>\n    convertResourcesToPlain(resources);\n\n  return (\n  <Plugin\n    name=\"Resources\"\n    dependencies={pluginDependencies}\n  >\n    <Getter name=\"resources\" value={validateResources(data, mainResourceName, palette)} />\n    <Getter name=\"plainResources\" computed={convertResources} />\n    <Getter name=\"timeTableAppointments\" computed={addResourcesToTimeTableAppointments} />\n    <Getter name=\"allDayAppointments\" computed={addResourcesToAllDayAppointments} />\n  </Plugin>\n  );\n});\n\n/** A plugin that manages schedule's resources. */\nexport const Resources: React.ComponentType<ResourcesProps> = ResourcesBase;\n", "import * as React from 'react';\nimport { getMessagesFormatter } from '@devexpress/dx-core';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  TemplateConnector,\n  Action,\n} from '@devexpress/dx-react-core';\nimport { ConfirmationDialogProps } from '../types/editing/confirmation-dialog.types';\nimport { AppointmentModel } from '@devexpress/dx-scheduler-core';\n\nconst defaultMessages = {\n  discardButton: 'Discard',\n  deleteButton: 'Delete',\n  cancelButton: 'Cancel',\n  confirmDeleteMessage: 'Are you sure you want to delete this appointment?',\n  confirmCancelMessage: 'Discard unsaved changes?',\n};\n\nconst pluginDependencies = [\n  { name: 'EditingState' },\n  { name: 'EditRecurrenceMenu', optional: true },\n  { name: 'IntegratedEditing', optional: true },\n];\n\nconst ACTION_TYPES = {\n  CANCEL: 'cancel',\n  DELETE: 'delete',\n};\n\nconst ConfirmationDialogBase: React.FunctionComponent<ConfirmationDialogProps> & {components: {\n  overlayComponent: string, containerComponent: string,\n  layoutComponent: string, buttonComponent: string,\n}} = ({\n  messages, overlayComponent: Overlay, layoutComponent: Layout, containerComponent: Container,\n  buttonComponent, ignoreDelete, ignoreCancel,\n}) => {\n  const getMessage = getMessagesFormatter({ ...defaultMessages, ...messages });\n  const modalContainer = React.useRef();\n\n  const [visible, setVisible] = React.useState(false);\n  const [actionType, setActionType] = React.useState('');\n  const [hideActionName, setHideActionName] = React.useState('');\n  const [appointmentData, setAppointmentData] = React.useState({});\n\n  const toggleVisibility = React.useCallback(() => {\n    setVisible(!visible);\n  }, [visible, setVisible]);\n\n  const confirmCancelChanges = React.useCallback((hideAction) => {\n    toggleVisibility();\n    setHideActionName(hideAction);\n    setActionType(ACTION_TYPES.CANCEL);\n  }, [toggleVisibility, setHideActionName, setActionType]);\n\n  const confirmDelete = React.useCallback(({\n    hideActionName: hideAction, appointmentData: changedAppointment,\n  }) => {\n    toggleVisibility();\n    setHideActionName(hideAction);\n    setActionType(ACTION_TYPES.DELETE);\n    setAppointmentData(changedAppointment);\n  }, [toggleVisibility, setHideActionName, setActionType, setAppointmentData]);\n\n  const confirmAction = React.useCallback((\n    isNewAppointment, hideEditor, stopEditAppointment, finishDeleteAppointment,\n    cancelAddedAppointment, cancelChangedAppointment,\n  ) => () => {\n    hideEditor();\n    toggleVisibility();\n    if (isNewAppointment) {\n      cancelAddedAppointment();\n    } else {\n      stopEditAppointment();\n      cancelChangedAppointment();\n    }\n    if (actionType === ACTION_TYPES.DELETE) {\n      finishDeleteAppointment(appointmentData);\n    }\n  }, [toggleVisibility, actionType, appointmentData]);\n\n  return (\n    <Plugin\n      name=\"ConfirmationDialog\"\n      dependencies={pluginDependencies}\n    >\n      {!ignoreCancel &&\n        <Action name=\"openCancelConfirmationDialog\" action={confirmCancelChanges} />\n      }\n      {!ignoreDelete &&\n        <Action name=\"openDeleteConfirmationDialog\" action={confirmDelete} />\n      }\n\n      <Template name=\"schedulerRoot\">\n        <TemplatePlaceholder />\n        <Container ref={modalContainer} />\n        <TemplatePlaceholder name=\"confirmationDialogOverlay\" />\n      </Template>\n\n      <Template name=\"confirmationDialogOverlay\">\n        <TemplateConnector>\n          {({\n            editingAppointment,\n          }, actions) => {\n            const handleConfirm = confirmAction(\n              !editingAppointment, actions[hideActionName], actions.stopEditAppointment,\n              actions.finishDeleteAppointment, actions.cancelAddedAppointment,\n              actions.cancelChangedAppointment,\n            );\n\n            return (\n              <Overlay\n                target={modalContainer}\n                visible={visible}\n                onHide={toggleVisibility}\n              >\n                <Layout\n                  buttonComponent={buttonComponent}\n                  handleCancel={toggleVisibility}\n                  handleConfirm={handleConfirm}\n                  getMessage={getMessage}\n                  isDeleting={actionType === ACTION_TYPES.DELETE}\n                  appointmentData={appointmentData as AppointmentModel}\n                />\n              </Overlay>\n            );\n          }}\n        </TemplateConnector>\n      </Template>\n    </Plugin>\n  );\n};\n\nConfirmationDialogBase.components = {\n  overlayComponent: 'Overlay',\n  containerComponent: 'Container',\n  layoutComponent: 'Layout',\n  buttonComponent: 'Button',\n};\n\nConfirmationDialogBase.defaultProps = {\n  ignoreCancel: false,\n  ignoreDelete: false,\n};\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that renders the dialog which allows users to confirm or to discard delete and cancel appointment actions. */\nexport const ConfirmationDialog: React.ComponentType<\n  ConfirmationDialogProps\n> = ConfirmationDialogBase;\n", "import * as React from 'react';\nimport {\n  Action, Plugin, Getter, StateHelper, ActionFn, createStateHelper,\n} from '@devexpress/dx-react-core';\nimport {\n  ToggleGroupPayload, toggleExpandedGroups, HORIZONTAL_GROUP_ORIENTATION,\n} from '@devexpress/dx-scheduler-core';\nimport { GroupingStateProps, GroupingStateState } from '../types';\n\nclass GroupingStateBase extends React.PureComponent<GroupingStateProps, GroupingStateState> {\n  static defaultProps = {\n    defaultExpandedGroups: [],\n    groupByDate: () => false,\n    groupOrientation: () => HORIZONTAL_GROUP_ORIENTATION,\n  };\n  stateHelper: StateHelper;\n  toggleGroupExpanded: ActionFn<ToggleGroupPayload>;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      grouping: props.grouping,\n      expandedGroups: props.expandedGroups || props.defaultExpandedGroups,\n    };\n    this.stateHelper = createStateHelper(\n      this,\n      {\n        expandedGroups: () => {\n          const { onExpandedGroupsChange } = this.props;\n          return onExpandedGroupsChange;\n        },\n      },\n    );\n    this.toggleGroupExpanded = this.stateHelper.applyReducer\n      .bind(this.stateHelper, toggleExpandedGroups);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      grouping = prevState.grouping,\n      expandedGroups = prevState.expandedGroups,\n    } = nextProps;\n\n    return { grouping, expandedGroups };\n  }\n\n  render() {\n    const { grouping, expandedGroups } = this.state;\n    const { groupByDate, groupOrientation } = this.props;\n\n    return (\n      <Plugin name=\"GroupingState\">\n        <Getter name=\"grouping\" value={grouping} />\n        <Getter name=\"groupByDate\" value={groupByDate} />\n        <Getter name=\"groupOrientation\" value={groupOrientation} />\n\n        <Getter name=\"expandedGroups\" value={expandedGroups} />\n        <Action name=\"toggleGroupExpanded\" action={this.toggleGroupExpanded} />\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that manages the grouping state. */\nexport const GroupingState: React.ComponentType<GroupingStateProps> = GroupingStateBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplateConnector,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { GroupingPanelProps } from '../types';\nimport {\n  VERTICAL_VIEW_LEFT_OFFSET, HORIZONTAL_VIEW_LEFT_OFFSET,\n  HORIZONTAL_GROUP_ORIENTATION, VIEW_TYPES,\n} from '@devexpress/dx-scheduler-core';\n\nconst pluginDependencies = [\n  { name: 'GroupingState' },\n  { name: 'IntegratedGrouping' },\n  { name: 'DayView', optional: true },\n  { name: 'MonthView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'ViewState', optional: true },\n];\n\nclass GroupingPanelBase extends React.PureComponent<GroupingPanelProps> {\n  static components: PluginComponents = {\n    horizontalLayoutComponent: 'HorizontalLayout',\n    verticalLayoutComponent: 'VerticalLayout',\n    rowComponent: 'Row',\n    cellComponent: 'Cell',\n  };\n\n  render() {\n    const {\n      horizontalLayoutComponent: HorizontalLayout,\n      verticalLayoutComponent: VerticalLayout,\n      rowComponent,\n      cellComponent,\n    } = this.props;\n\n    return (\n      <Plugin\n        name=\"GroupingPanel\"\n        dependencies={pluginDependencies}\n      >\n        <Template name=\"groupingPanel\">\n          <TemplateConnector>\n            {({\n              viewCellsData, currentView, scrollingStrategy, allDayPanelExists,\n              groupByDate, groupOrientation: getGroupOrientation, groups,\n            }) => {\n              const groupOrientation = getGroupOrientation(currentView?.name);\n              return groupOrientation === HORIZONTAL_GROUP_ORIENTATION ? (\n                <HorizontalLayout\n                  rowComponent={rowComponent}\n                  cellComponent={cellComponent}\n                  groups={groups}\n                  colSpan={viewCellsData[0].length}\n                  cellStyle={{\n                    left: scrollingStrategy.fixedLeftWidth ? scrollingStrategy.fixedLeftWidth\n                    : currentView?.type === VIEW_TYPES.MONTH\n                      ? HORIZONTAL_VIEW_LEFT_OFFSET\n                      : VERTICAL_VIEW_LEFT_OFFSET,\n                  }}\n                  showHeaderForEveryDate={groupByDate?.(currentView && currentView.name)}\n                />\n              ) : (\n                <VerticalLayout\n                  rowComponent={rowComponent}\n                  cellComponent={cellComponent}\n                  groups={groups}\n                  rowSpan={viewCellsData.length}\n                  viewType={currentView?.type}\n                  cellTextTopOffset={scrollingStrategy?.fixedTopHeight}\n                  alignWithAllDayRow={allDayPanelExists}\n                />\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\n/** A plugin that renders the grouping panel used to display group names. */\nexport const GroupingPanel: React.ComponentType<GroupingPanelProps> = GroupingPanelBase;\n", "import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport {\n  isMonthCell, isShadedAppointment,\n  isCellShaded, getCurrentTimeIndicatorTop,\n} from '@devexpress/dx-scheduler-core';\nimport { CurrentTimeIndicatorProps, Appointments } from '../types';\n\nconst pluginDependencies = [\n  { name: 'DayView', optional: true },\n  { name: 'WeekView', optional: true },\n  { name: 'MonthView', optional: true },\n  { name: 'DragDropProvider', optional: true },\n  { name: 'Appointments', optional: true },\n];\n\nconst CurrentTimeIndicatorBase: React.FunctionComponent<CurrentTimeIndicatorProps>  & {components: {\n  indicatorComponent: string,\n}} = ({\n  indicatorComponent, shadePreviousAppointments, shadePreviousCells, updateInterval,\n}) => {\n  const [currentTime, setCurrentTime] = React.useState(Date.now);\n\n  React.useEffect(() => {\n    const tick = () => setCurrentTime(Date.now());\n    const intervalId = (updateInterval\n      ? window.setInterval(tick, updateInterval)\n      : undefined\n    );\n    return () => window.clearInterval(intervalId);\n  }, [updateInterval]);\n\n  return (\n    <Plugin\n      name=\"CurrentTimeIndicator\"\n      dependencies={pluginDependencies}\n    >\n      <Template\n        name=\"cell\"\n        predicate={({ otherMonth }: any) => !isMonthCell(otherMonth)}\n      >\n        {(params: any) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              currentTimeIndicatorPosition: getCurrentTimeIndicatorTop(params, currentTime),\n              currentTimeIndicatorComponent: indicatorComponent,\n            }}\n          />\n        )}\n      </Template>\n      <Template\n        name=\"cell\"\n      >\n        {(params: any) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              isShaded: isCellShaded(params, currentTime, shadePreviousCells),\n            }}\n          />\n        )}\n      </Template>\n      <Template\n        name=\"appointmentContent\"\n      >\n        {(params: Appointments.AppointmentProps) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              isShaded: isShadedAppointment(\n                params, currentTime, shadePreviousAppointments,\n              ),\n            }}\n          />\n        )}\n      </Template>\n      <Template\n        name=\"draftAppointment\"\n      >\n        {(params: Appointments.AppointmentProps) => (\n          <TemplatePlaceholder\n            params={{\n              ...params,\n              isShaded: isShadedAppointment(\n                params, currentTime, shadePreviousAppointments,\n              ),\n            }}\n          />\n        )}\n      </Template>\n    </Plugin>\n  );\n};\n\nCurrentTimeIndicatorBase.defaultProps = {\n  updateInterval: 60000,\n  shadePreviousCells: false,\n  shadePreviousAppointments: false,\n};\n\nCurrentTimeIndicatorBase.components = {\n  indicatorComponent: 'Indicator',\n};\n\n// tslint:disable-next-line: max-line-length\n/** A plugin that renders the current time indicator and the shading that covers appointments and timetable cells up to the current time. */\nexport const CurrentTimeIndicator: React.ComponentType<\n  CurrentTimeIndicatorProps\n> = CurrentTimeIndicatorBase;\n", "import * as React from 'react';\nimport { Plugin, Getter, Getters } from '@devexpress/dx-react-core';\nimport {\n  getGroupsFromResources, expandViewCellsDataWithGroups,\n  sortFilteredResources, filterResourcesByGrouping, updateGroupingWithMainResource,\n  expandGroups, VERTICAL_GROUP_ORIENTATION, VIEW_TYPES,\n  updateTimeTableCellElementsMeta, updateAllDayCellElementsMeta, updateTimeCellsData,\n} from '@devexpress/dx-scheduler-core';\nimport { IntegratedGroupingProps } from '../types';\n\nconst pluginDependencies = [\n  { name: 'Resources' },\n  { name: 'GroupingState' },\n  { name: 'DayView', optional: true },\n  { name: 'MonthView', optional: true },\n  { name: 'WeekView', optional: true },\n];\n\nconst getViewCellsDataComputed = ({\n  viewCellsData, groups, resourcesToGroupBy, groupByDate, currentView, groupOrientation,\n}: Getters) => expandViewCellsDataWithGroups(\n  viewCellsData, groups, resourcesToGroupBy,\n  groupByDate(currentView.name), groupOrientation(currentView.name),\n);\nconst getAllDayCellsDataComputed = ({\n  allDayCellsData, groups, resourcesToGroupBy, groupByDate, currentView, groupOrientation,\n}: Getters) => allDayCellsData && expandViewCellsDataWithGroups(\n  allDayCellsData, groups, resourcesToGroupBy,\n  groupByDate(currentView.name), groupOrientation(currentView.name),\n);\n\nconst getGroupsComputed = (\n  { resourcesToGroupBy }: Getters,\n) => getGroupsFromResources(resourcesToGroupBy);\n\nconst getResourcesToGroupByComputed = (\n  { resources, grouping }: Getters,\n) => sortFilteredResources(filterResourcesByGrouping(resources, grouping), grouping);\n\nconst getGroupingComputed = (\n  { grouping, resources }: Getters,\n) => updateGroupingWithMainResource(grouping, resources);\n\nconst getTimeTableAppointmentsComputed = ({\n  timeTableAppointments, grouping, resourcesToGroupBy,\n  groups, groupByDate, currentView, excludedDays,\n}: Getters) => timeTableAppointments\n  && expandGroups(\n    timeTableAppointments, grouping, resourcesToGroupBy, groups,\n    excludedDays, groupByDate(currentView?.name) && currentView?.type === VIEW_TYPES.MONTH,\n  );\n\nconst getAllDayAppointmentsComputed = ({\n    allDayAppointments, grouping, resourcesToGroupBy,\n    groups, groupByDate, currentView, excludedDays,\n  }: Getters) => allDayAppointments &&\n  expandGroups(\n    allDayAppointments, grouping, resourcesToGroupBy,\n    groups, excludedDays, groupByDate(currentView?.name),\n  );\n\nconst getGroupByDateComputed = ({\n  currentView, groupByDate, groupOrientation,\n}: Getters) => groupOrientation(currentView?.name) === VERTICAL_GROUP_ORIENTATION\n  ? () => false : groupByDate;\n\nconst getTimeTableElementsMetaComputed = ({\n  timeTableElementsMeta, groupOrientation, groups, allDayPanelExists, viewCellsData, currentView,\n}: Getters) => updateTimeTableCellElementsMeta(\n  timeTableElementsMeta, groupOrientation, groups, allDayPanelExists, viewCellsData, currentView,\n);\n\nconst getAllDayElementsMetaComputed = ({\n  allDayElementsMeta, timeTableElementsMeta, groupOrientation, groups,\n  allDayPanelExists, viewCellsData, currentView,\n}: Getters) => updateAllDayCellElementsMeta(\n  allDayElementsMeta, timeTableElementsMeta, groupOrientation, groups,\n  allDayPanelExists, viewCellsData, currentView,\n);\n\nconst getTimeCellsDataComputed = ({\n  viewCellsData, timeCellsData,  currentView,\n  groups, resourcesToGroupBy, groupOrientation,\n}: Getters) => timeCellsData\n  && updateTimeCellsData(\n    viewCellsData,\n    timeCellsData,\n    groups,\n    resourcesToGroupBy,\n    groupOrientation(currentView.name),\n  );\n\nconst IntegratedGroupingBase: React.FunctionComponent<IntegratedGroupingProps> = React.memo(() => (\n  <Plugin\n    name=\"IntegratedGrouping\"\n    dependencies={pluginDependencies}\n  >\n    <Getter name=\"groupByDate\" computed={getGroupByDateComputed} />\n    <Getter name=\"grouping\" computed={getGroupingComputed} />\n    <Getter name=\"resourcesToGroupBy\" computed={getResourcesToGroupByComputed} />\n    <Getter name=\"groups\" computed={getGroupsComputed} />\n\n    <Getter name=\"viewCellsData\" computed={getViewCellsDataComputed} />\n    <Getter name=\"allDayCellsData\" computed={getAllDayCellsDataComputed} />\n    <Getter name=\"timeCellsData\" computed={getTimeCellsDataComputed} />\n\n    <Getter name=\"timeTableAppointments\" computed={getTimeTableAppointmentsComputed} />\n    <Getter name=\"allDayAppointments\" computed={getAllDayAppointmentsComputed} />\n\n    <Getter name=\"allDayElementsMeta\" computed={getAllDayElementsMetaComputed} />\n    <Getter name=\"timeTableElementsMeta\" computed={getTimeTableElementsMetaComputed} />\n  </Plugin>\n));\n\n/** A plugin that implements grouping. */\nexport const IntegratedGrouping: React.ComponentType<\n  IntegratedGroupingProps\n> = IntegratedGroupingBase;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAM,QAAQ;AAEd,IAAM,UAAU,SAAC,GAAG,GAAC;AACnB,MAAM,YAAY,EAAE,SAAQ;AAC5B,MAAM,YAAY,EAAE,SAAQ;AAC5B,WAAS,IAAI,GAAG,IAAI,KAAK,IAAI,UAAU,QAAQ,UAAU,MAAM,GAAG,KAAK,GAAG;AACxE,QAAI,UAAU,CAAC,IAAI,UAAU,CAAC;AAAG,aAAO;AACxC,QAAI,UAAU,CAAC,IAAI,UAAU,CAAC;AAAG,aAAO;;AAE1C,SAAO,UAAU,SAAS,UAAU;AACtC;AAGO,IAAM,eAAe,SAAC,OAAO,SAAO;AACzC,MAAM,SAAS,MAAM,MAAK;AAC1B,MAAM,gBAAgB,MAAM,UAAU,SAAA,MAAI;AAAI,WAAA,QAAQ,SAAS,IAAI,KAAK;EAAC,CAAA;AACzE,MAAM,cAAc,gBAAgB,IAAI,MAAM,SAAS;AACvD,MAAM,gBAAiB,eAAe,KAAK,cAAc,MAAM,UAC1D,QAAQ,SAAS,MAAM,WAAW,CAAC,MAAM;AAC9C,MAAI,eAAe;AACnB,MAAI,eAAe;AACjB,mBAAe;AACf,QAAM,qBAAqB,OAAO,WAAW,EAAE,SAAQ;AACvD,QAAI,mBAAmB,SAAS,GAAG;AACjC,eAAS,IAAI,cAAc,GAAG,IAAI,OAAO,QAAQ,KAAK,GAAG;AACvD,YAAM,eAAe,OAAO,CAAC,EAAE,SAAQ;AACvC,YAAI,mBAAmB,WAAW,aAAa,UAC7C,mBAAmB,mBAAmB,SAAS,CAAC,MAChD,aAAa,aAAa,SAAS,CAAC,GAAG;AACvC,0BAAgB;eACX;AACL;;;;;AAKR,SAAO,OAAO,aAAa,cAAc,OAAO;AAChD,SAAO;AACT;AAGO,IAAM,eAAe,SAAC,OAAO,MAAI;AACtC,MAAM,YAAY,MAAM,QAAQ,IAAI;AACpC,SAAO,aAAa,IAAC,cAAA,cAAA,CAAA,GAAA,OAAO,MAAM,MAAM,GAAG,SAAS,CAAC,GAAA,KAAA,GAAA,OAAK,MAAM,MAAM,YAAY,CAAC,CAAC,GAAA,KAAA,IAAI;AAC1F;IAGa,sBAAsB,SAAC,OAAQ,UAAS;AACnD,MAAI;AACJ,MAAM,SAAc,CAAA;AACpB,MAAI,OAAO;AACT,WAAO,UAAU,SAAC,GAAC;AACjB,UAAI,CAAC,WAAW;AACd,oBAAY,WAAW,WAAA;AACrB,uBAAa,SAAS;AACtB,gBAAM,CAAC;WACN,KAAK;;;;AAId,MAAI,UAAU;AACZ,WAAO,gBAAgB,SAAC,GAAC;AACvB,mBAAa,SAAS;AACtB,eAAS,CAAC;;;AAGd,SAAO;AACT;IAGa,QAAQ,SAAA,KAAG;AAAI,SAAA,MAAM,UAAU,MAAM,KAAK,GAAG;AAAC;ACnE3D,IAAM,qBAAqB,SACzB,YAAY,gBAAc;AACrB,SAAA,IAAI,MACP,QAAA,OAAQ,YAAU,qBAAA,EAAA,OAAsB,gBAAc,4BAAA,CAA4B;AACnF;AAeH,IAAA,aAAA,WAAA;AAOE,WAAAA,cAAA;AAJQ,SAAA,eAAuB,CAAA;AACvB,SAAA,iBAAyB,CAAA;AACzB,SAAA,qBAA8B;AAGpC,SAAK,UAAU,CAAA;AACf,SAAK,gBAAgB,oBAAI,IAAG;;AAG9B,EAAAA,YAAA,UAAA,qBAAA,WAAA;AACE,QAAM,UAAuB,oBAAI,IAAG;AACpC,QAAM,iBAAsC,oBAAI,IAAG;AACnD,SAAK,QACF,OAAO,SAAA,QAAM;AAAI,aAAA,OAAO;IAAS,CAAA,EACjC,QAAQ,SAAC,QAAM;AACd,UAAM,aAAa,OAAO,QAAQ;AAClC,UAAI,eAAe,IAAI,UAAU,GAAG;AAClC,cAAO,mBAAmB,eAAe,IAAI,UAAU,GAAG,UAAU;;AAGtE,OAAC,OAAO,gBAAgB,CAAA,GACrB,QAAQ,SAAC,YAAU;AAClB,YAAI,QAAQ,IAAI,WAAW,IAAI;AAAG;AAClC,YAAI,WAAW,UAAU;AACvB,cAAI,CAAC,eAAe,IAAI,WAAW,IAAI,GAAG;AACxC,2BAAe,IAAI,WAAW,MAAM,UAAU;;AAEhD;;AAEF,cAAO,mBAAmB,YAAY,WAAW,IAAI;OACtD;AAEH,cAAQ,IAAI,UAAU;KACvB;;AAGL,EAAAA,YAAA,UAAA,iBAAA,SAAe,QAAM;AACnB,SAAK,UAAU,aAAa,KAAK,SAAS,MAAM;AAChD,SAAK,kBAAiB;;AAGxB,EAAAA,YAAA,UAAA,mBAAA,SAAiB,QAAM;AACrB,SAAK,UAAU,aAAa,KAAK,SAAS,MAAM;AAChD,SAAK,kBAAiB;;AAGxB,EAAAA,YAAA,UAAA,YAAA,SAAU,SAAO;AACf,QAAI,CAAC,KAAK,eAAe,OAAO,GAAG;AACjC,WAAK,eAAe,OAAO,IAAI,MAAM,KAAK,KAAK,QAC5C,IAAI,SAAA,QAAM;AAAI,eAAA,OAAO,KAAK,MAAM;MAAC,CAAA,EACjC,IAAI,SAAA,MAAI;AAAI,eAAA,KAAK,OAAO,SAAA,KAAG;AAAI,iBAAA,IAAI,SAAS,OAAO;QAAC,CAAA,EAAE,CAAC;MAAC,CAAA,EACxD,OAAO,SAAA,KAAG;AAAI,eAAA,CAAC,CAAC;MAAG,CAAA,EACnB,OAAO,SAAC,KAAK,KAAG;AAAK,eAAA,IAAI,IAAI,GAAG;MAAC,GAAE,oBAAI,IAAG,CAAU,CAAC,EACrD,IAAI,SAAA,KAAG;AAAI,eAAA,IAAI,QAAQ,SAAS,EAAE;MAAC,CAAA;;AAExC,WAAO,KAAK,eAAe,OAAO;;AAGpC,EAAAA,YAAA,UAAA,UAAA,SAAQ,KAAK,MAAK;AAChB,QAAI,KAAK,oBAAoB;AAC3B,WAAK,mBAAkB;AACvB,WAAK,qBAAqB;;AAG5B,QAAI,MAAM,KAAK,aAAa,GAAG;AAC/B,QAAI,CAAC,KAAK;AAER,UAAM,aAAa,KAAK,QACrB,IAAI,SAAC,QAAQ,OAAK;AAAK,eAAC,EAAE,KAAK,OAAO,GAAG,GAAG,MAAK;MAAE,CAAC,EACpD,OAAO,SAAA,QAAM;AAAI,eAAA,CAAC,CAAC,OAAO;MAAG,CAAA;AAChC,WAAK,aAAa,GAAA,OAAG,KAAG,IAAA,CAAI,IAAI;AAChC,YAAM,WAAW,IAAI,SAAA,MAAI;AAAI,eAAA,KAAK;MAAG,CAAA;AACrC,WAAK,aAAa,GAAG,IAAI;;AAG3B,QAAI,CAAC;AAAM,aAAO;AAElB,QAAM,YAAY,KAAK,QAAQ,QAAQ,IAAI;AAG3C,QAAM,eAAe,MAAM;AAC3B,QAAI,UAAU,KAAK,aAAa,YAAY;AAE5C,QAAI,CAAC,SAAS;AACZ,UAAM,eAAa,KAAK,aAAa,GAAA,OAAG,KAAG,IAAA,CAAI;AAC/C,gBAAU,KAAK,aAAa,GAAG,EAC5B,OAAO,SAAC,QAAQ,OAAK;AAAK,eAAA,aAAW,KAAK,EAAE,QAAQ;MAAS,CAAA;AAChE,WAAK,aAAa,YAAY,IAAI;;AAGpC,WAAO;;AAGT,EAAAA,YAAA,UAAA,MAAA,SAAI,KAAK,MAAI;AACX,QAAM,UAAU,KAAK,QAAQ,KAAK,IAAI;AAEtC,QAAI,CAAC,QAAQ;AAAQ,aAAO;AAE5B,QAAI;AAEJ,YAAQ,QAAQ,SAAC,QAAM;AACrB,eAAS,OAAO,MAAM;KACvB;AACD,WAAO;;AAGT,EAAAA,YAAA,UAAA,uBAAA,SAAqB,cAAY;AAC/B,SAAK,cAAc,IAAI,YAAY;;AAGrC,EAAAA,YAAA,UAAA,yBAAA,SAAuB,cAAY;AACjC,SAAK,cAAc,OAAO,YAAY;;AAGxC,EAAAA,YAAA,UAAA,YAAA,SAAU,OAAO,SAAa;AAC5B,SAAK,cAAc,QAAQ,SAAA,cAAY;AAAI,aAAA,aAAa,KAAK,KAAK,aAAa,KAAK,EAAE,OAAO;IAAC,CAAA;;AAGxF,EAAAA,YAAA,UAAA,oBAAR,WAAA;AACE,SAAK,qBAAqB;AAC1B,SAAK,eAAe,CAAA;AACpB,SAAK,iBAAiB,CAAA;;AAE1B,SAAAA;AAAA,EAAC;ACjJD,IAAA,eAAA,WAAA;AAGE,WAAAC,gBAAA;AACE,SAAK,WAAW,CAAA;;AAGlB,EAAAA,cAAA,UAAA,OAAA,SAAK,GAAC;AACJ,SAAK,SAAS,QAAQ,SAAA,SAAO;AAAI,aAAA,QAAQ,CAAC;IAAC,CAAA;;AAG7C,EAAAA,cAAA,UAAA,YAAA,SAAU,SAAO;AACf,SAAK,SAAS,KAAK,OAAO;;AAG5B,EAAAA,cAAA,UAAA,cAAA,SAAY,SAAO;AACjB,SAAK,SAAS,OAAO,KAAK,SAAS,QAAQ,OAAO,GAAG,CAAC;;AAE1D,SAAAA;AAAA,EAAC;ICpBY,eAAe,SAAC,MAAM,MAAI;AACrC,MAAI,SAAS,MAAM;AACjB,WAAO;;AAGT,MAAM,QAAQ,OAAO,KAAK,IAAI;AAC9B,MAAM,QAAQ,OAAO,KAAK,IAAI;AAE9B,MAAI,MAAM,WAAW,MAAM,QAAQ;AACjC,WAAO;;AAIT,MAAM,SAAS,OAAO,UAAU;AAEhC,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,GAAG;AACxC,QAAI,CAAC,OAAO,KAAK,MAAM,MAAM,CAAC,CAAC,KACxB,KAAK,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,GAAG;AACxC,aAAO;;AAGT,QAAM,OAAO,KAAK,MAAM,CAAC,CAAC;AAC1B,QAAM,OAAO,KAAK,MAAM,CAAC,CAAC;AAE1B,QAAI,SAAS,MAAM;AACjB,aAAO;;;AAIX,SAAO;AACT;IAGa,wBAAwB,SAAC,MAAM,MAAI;AAC9C,MAAI,SAAS,QAAQ,SAAS,QAAQ,KAAK,WAAW,KAAK,QAAQ;AACjE,WAAO;;AAGT,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,GAAG;AACvC,QAAI,KAAK,CAAC,MAAM,KAAK,CAAC,GAAG;AACvB,aAAO;;;AAIX,SAAO;AACT;IC3Ca,UAAU,SAAC,MAAI;AAC1B,MAAI,WAAgB;AACpB,MAAI,aAAsC;AAC1C,SAAO,WAAA;AAAC,QAAA,OAAA,CAAA;aAAA,KAAA,GAAA,KAAA,UAAA,QAAA,MAAO;AAAP,WAAA,EAAA,IAAA,UAAA,EAAA;;AACN,QAAI,aAAa,QAAQ,CAAC,sBAAsB,UAAU,IAAI,GAAG;AAC/D,mBAAa,KAAI,MAAA,QAAA,cAAA,CAAA,GAAA,OAAI,IAAI,GAAA,KAAA,CAAA;;AAE3B,eAAW;AACX,WAAO;;AAEX;AEXA,IAAM,iBAAiB,SAAC,SAAS,QAAM;AAAK,SAAA,OAAO,KAAK,MAAM,EAAE,OAC9D,SAAC,KAAK,KAAG;AAAK,WAAA,IAAI,QAAQ,IAAA,OAAI,KAAG,GAAA,GAAK,OAAO,GAAG,CAAC;EAAC,GAClD,OAAO;AACR;IAGY,uBAA+C,SAAA,UAAQ;AAAI,SAAA,SAAC,KAAK,QAAO;AACnF,QAAM,UAAU,SAAS,GAAG;AAE5B,QAAI,OAAO,YAAY,YAAY;AACjC,aAAO,QAAQ,MAAM;;AAEvB,QAAI,QAAQ;AACV,aAAO,eAAe,SAAS,MAAM;;AAEvC,WAAO,YAAO,QAAP,YAAO,SAAP,UAAW;EACpB;AAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRM,IAAM,wBAAoBC,4BAAuC,IAAI;AAErE,IAAM,sBAAkBA,4BAAsC,WAAA;AAAM,SAAA,CAAA;AAAE,CAAA;AAEtE,IAAM,0BAAsBA,4BAAkD,IAAI;ACFzF,IAAA,gBAAA,SAAA,QAAA;AAAmC,YAAAC,gBAAA,MAAA;AAAnC,WAAAA,iBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AACE,UAAA,UAAiD,CAAA;AACjD,UAAA,UAAoC,SAAC,OAAO,iBAAe;AACzD,UAAI,MAAK,QAAQ,KAAK;AAAG,eAAO,MAAK,QAAQ,KAAK;AAElD,UAAM,KAAuB,WAAA;AAC3B,YAAM,qBAAqB,gBAAe;AAC1C,eAAAC,eAAAA,eAAA,CAAA,GAAAC,QAAW,kBAAkB,GAAA,KAAA,GAAA,CAAE,KAAK,GAAA,KAAA;;AAEtC,YAAK,QAAQ,KAAK,IAAI;AAEtB,aAAO;;;;AAET,EAAAF,eAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACU,QAAA,WAAa,KAAK,MAAK;AAC/B,eACEG,4BAAC,gBAAgB,UAAQ,MACtB,SAAA,iBAAe;AAAI,aAClBC,sBAAe,IAAI,UAAU,SAAC,OAAY,OAAa;AACrD,YAAI,CAAC,SAAS,CAAC,MAAM;AAAM,iBAAO;AAClC,YAAM,gBAAgB,MAAK,QAAQ,OAAO,eAAe;AAEzD,mBACED,4BAAC,gBAAgB,UAAQ,EAAC,KAAK,OAAO,KAAK,GAAG,OAAO,cAAa,GAC/D,KAAK;OAGX;IAAC,CACH;;AAIT,SAAAH;AAAA,EAhCmCK,0BAAmB;ACX/C,IAAM,sBAAsB;AAE5B,IAAM,mBAAmB;AAEzB,IAAM,wBAAwB;AAG9B,IAAM,0BAA0B,OAAO,kBAAkB;AAEzD,IAAM,gCAAgC,OAAO,uBAAuB;AAEpE,IAAM,0BAA0B,OAAO,kBAAkB;ACPzD,IAAM,cAAc,SAAC,SAAS,MAAI;AAAK,SAAA,SAAAC,YAAS;AAAI,WAAA,SAAA,OAAK;AAAI,iBAClEH,4BAAC,QAAQ,UAAQ,MACd,SAAA,SAAO;;AAAI,mBACVA,4BAACG,YAAS,SAAA,CAAA,GAAK,QAAKC,MAAA,CAAA,GAAQA,IAAC,IAAI,IAAG,SAAOA,IAAA,CAAA;MADjC,CAEX;IACgB;EACpB;AAAA;AAGD,IAAa,sBAAsB,SAAAD,YAAS;AAAI,SAAA,YAC9C,mBACA,mBAAmB,EACnB,YAAY,iBAAiB,gBAAgB,EAAEA,UAAS,CAAC;AAAC;ACF5D,IAAA,aAAA,SAAA,QAAA;AAAgC,YAAAE,aAAA,MAAA;AAAhC,WAAAA,cAAA;;;AAGE,EAAAA,YAAA,UAAA,oBAAA,WAAA;AACU,QAAoED,MAAA,KAAK,OAAzE,KAAC,qBAAsB,aAAUA,IAAA,EAAA,GAAE,KAAC,kBAAmB,WAAQA,IAAA,EAAA;AACjE,QAAA,KAAyB,KAAK,OAA5B,OAAI,GAAA,MAAE,eAAY,GAAA;AAC1B,SAAK,SAAS;MACZ;MACA;MACA;MACA,WAAW;;AAEb,eAAW,eAAe,KAAK,MAAM;AACrC,eAAW,mBAAkB;;AAG/B,EAAAC,YAAA,UAAA,qBAAA,WAAA;AACU,QAAsCD,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACzC,eAAW,mBAAkB;;AAG/B,EAAAC,YAAA,UAAA,uBAAA,WAAA;AACU,QAAsCD,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACzC,eAAW,iBAAiB,KAAK,MAAM;;AAGzC,EAAAC,YAAA,UAAA,SAAA,WAAA;AACU,QAAA,WAAa,KAAK,MAAK;AAC/B,eACEL,4BAAC,eAAa,MACX,QAAQ;;AAIjB,SAAAK;AAAA,EAlCgCH,0BAAmB;IAoCtC,SAA2C,oBAAoB,UAAU;AC3BtF,IAAM,mBAAmB,SAAC,OAAY;AAC5B,MAAA,OAAiB,MAAK,MAAhB,SAAW,MAAK;AAC9B,MAAI,MAAM;AACA,QAAsCE,MAAA,OAAtC,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACzC,WAAO;MACL;MACA,WAAW,WAAW,QAAQ,GAAA,OAAG,MAAI,UAAA,CAAU,EAC5C,OAAO,SAAA,UAAQ;AAAI,eAAA,SAAS,UAAU,MAAM;MAAC,CAAA,EAC7C,QAAO;;;AAGN,MAA0C,KAAA,OAA1C,KAAC,uBAAwB,eAAY,GAAA,EAAA;AAC7C,SAAO;IACL,QAAQ,UAAU,aAAa,OAAM;IACrC,WAAW,aAAa,UAAS;;AAErC;AAEA,IAAA,0BAAA,SAAA,QAAA;AAAsC,YAAAE,0BAAA,MAAA;AAAtC,WAAAA,2BAAA;;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AACE,UAAA,gBAAYF,MAAA,CAAA,GACVA,IAAC,uBAAuB,IAAG,SAAC,IAAU;AACpC,UAAI,MAAK,YAAY,MAAK,SAAS,OAAO,IAAI;AAC5C,cAAK,YAAW;;OAGpBA,IAAC,6BAA6B,IAAG,SAAC,MAAY;AACpC,UAAM,YAAc,MAAK,MAAK;AACtC,UAAI,cAAc,MAAM;AACtB,cAAK,YAAW;;;AAItB,UAAA,WAAgC;AAChC,UAAA,SAAkB,CAAA;;;AAElB,EAAAE,yBAAA,UAAA,oBAAA,WAAA;AACU,QAAsCF,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACzC,eAAW,qBAAqB,KAAK,YAAY;;AAGnD,EAAAE,yBAAA,UAAA,wBAAA,SAAsB,WAAgB;AAC9B,QAAAF,MAAwB,iBAAiB,SAAS,GAAhD,SAAMA,IAAA,QAAE,YAASA,IAAA;AACnB,QAAA,KAAAL,QAAa,WAAS,CAAA,GAArB,WAAQ,GAAA,CAAA;AACP,QAAA,WAAa,KAAK,MAAK;AAE/B,WAAO,aAAa,UAAU,YACzB,UAAU,WAAW,iBAAiB,KAAK,KAAK,EAAE,UAAU,UAC5D,KAAK,aAAa,YAClB,CAAC,aAAa,KAAK,QAAQ,MAAM;;AAGxC,EAAAO,yBAAA,UAAA,uBAAA,WAAA;AACU,QAAsCF,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACzC,eAAW,uBAAuB,KAAK,YAAY;;AAGrD,EAAAE,yBAAA,UAAA,SAAA,WAAA;;AAAA,QAAA,QAAA;AACQ,QAAA,KAAwB,iBAAiB,KAAK,KAAK,GAAjD,SAAM,GAAA,QAAE,YAAS,GAAA;AAEzB,SAAK,SAAS;AACd,IAAAF,MAAAL,QAAkB,WAAS,CAAA,GAA1B,KAAK,WAAQK,IAAA,CAAA;AACd,QAAM,gBAAgB,UAAU,MAAM,CAAC;AAEvC,QAAI,UAAqC;AACzC,QAAI,KAAK,UAAU;AACT,UAAU,kBAAoB,KAAK,SAAQ;AAEnD,gBAAU,gBAAe,KAAM;AAC/B,UAAI,WAAW,OAAO,YAAY,YAAY;AAC5C,kBAAU,QAAQ,MAAM;;;AAIpB,QAAU,sBAAwB,KAAK,MAAK;AACpD,eACEJ,4BAAC,oBAAoB,UAAQ,EAC3B,OAAO;MACL,WAAW,WAAA;AAAM,eAAA;MAAa;MAC9B,QAAQ,WAAA;AAAM,eAAA,MAAK;MAAM;MAC1B,GAEA,sBAAsB,oBAAoB,OAAO,IAAI,OAAO;;AAIrE,SAAAM;AAAA,EAnEsCC,sBAAe;AAsErD,IAAa,sBAAqE,YAChF,mBAAmB,mBAAmB,EAEtC,YAAY,qBAAqB,qBAAqB,EAAE,uBAAuB,CAAC;IAGrE,qBAER,SAACH,KAAwB;MAAtB,SAAMA,IAAA,QAAE,eAAYA,IAAA;AAAO,aACjCJ,4BAAC,qBAAmB,EAClB,QAAM,SAAA,SAAA,CAAA,GACD,MAAM,GAAA,EACT,aAAY,CAAA,EAAA,CAAA;AAJiB;AC5GnC,IAAA,iBAAA,SAAA,QAAA;AAA6B,YAAAQ,iBAAA,MAAA;AAG3B,WAAAA,gBAAY,OAAsB;AAAlC,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEZ,UAAK,OAAO,IAAIC,WAAc;;;AAGhC,EAAAD,gBAAA,UAAA,SAAA,WAAA;AACU,QAAA,WAAa,KAAK,MAAK;AAE/B,eACER;MAAC,kBAAkB;MAAQ,EAAC,OAAO,KAAK,KAAI;UAC1CA,4BAAC,eAAa,MACX,QAAQ;UAEXA,4BAAC,qBAAmB,EAAC,MAAK,OAAM,CAAA;IAAG;;AAI3C,SAAAQ;AAAA,EArB6BN,0BAAmB;AAuBhD,IAAaQ,cAAmD;AChCzD,IAAM,sBAAsB,SACjC,YACA,gBAAoE;AAApE,MAAA,mBAAA,QAAA;AAAA,qBAAA,SAAiB,YAAU;AAAI,aAAA,WAAW,IAAI,GAAA,OAAG,YAAU,QAAA,CAAQ;IAAC;EAAA;AAEpE,MAAM,sBAAsB,CAAA;AAE5B,MAAI;AACJ,MAAI,OAAO,UAAU,aAAa;AAChC,cAAU,IAAI,MAAM,CAAA,GAAI;MACtB,KAAG,SAAC,QAAQ,MAAI;AACd,YAAI,OAAO,SAAS;AAAU,iBAAO;AACrC,YAAM,SAAS,eAAe,IAAI;AAClC,4BAAoB,IAAI,IAAI;AAC5B,eAAO;;MAET,0BAAwB,SAAC,QAAQ,MAAI;AACnC,eAAO;UACL,cAAc;UACd,YAAY;UACZ,OAAO,KAAK,IAAK,QAAe,MAAM,MAAS;;;MAGnD,SAAO,WAAA;AACL,eAAO,WAAW,UAAU,QAAQ;;KAEvC;SACI;AACL,cAAU,WAAW,UAAU,QAAQ,EACpC,OAAO,SAAC,KAAK,YAAU;AACtB,aAAO,eAAe,KAAK,YAAY;QACrC,KAAK,WAAA;AACH,cAAM,SAAS,eAAe,UAAU;AACxC,8BAAoB,UAAU,IAAI;AAClC,iBAAO;;OAEV;AACD,aAAO;OACN,CAAA,CAAE;;AAGT,SAAO,EAAE,SAAS,oBAAmB;AACvC;AAGA,IAAa,+BAA+B,SAC1C,YACA,yBACA,gBAAoE;AAApE,MAAA,mBAAA,QAAA;AAAA,qBAAA,SAAiB,YAAU;AAAI,aAAA,WAAW,IAAI,GAAA,OAAG,YAAU,QAAA,CAAQ;IAAC;EAAA;AAEpE,MAAM,sBAAsB,OAAO,KAAK,uBAAuB,EAE5D,OAAO,SAAC,KAAK,YAAU;;AAAK,WAAA,OAAO,OAAO,MAAGN,MAAA,CAAA,GAC5CA,IAAC,UAAU,IAAG,eAAe,UAAU;KACrC,CAAA,CAAE;AAER,SAAO,CAAC,aAAa,yBAAyB,mBAAmB;AACnE;AAGO,IAAM,sBAAsB,SACjC,YACA,WAAwF;AAAxF,MAAA,cAAA,QAAA;AAAA,gBAAA,SAAY,YAAU;AAAI,aAAA,WAAW,QAAQ,GAAA,OAAG,YAAU,QAAA,CAAQ,EAAE,MAAK,EAAG,QAAO,EAAG,CAAC;IAAC;EAAA;AAExF,MAAI;AACJ,MAAI,OAAO,UAAU,aAAa;AAChC,cAAU,IAAI,MAAM,CAAA,GAAI;MACtB,KAAG,SAAC,QAAQ,MAAI;AACd,YAAI,OAAO,SAAS;AAAU,iBAAO;AACrC,eAAO,UAAU,IAAI;;MAEvB,0BAAwB,SAAC,QAAQ,MAAI;AACnC,eAAO;UACL,cAAc;UACd,YAAY;UACZ,OAAO,KAAK,IAAK,QAAe,MAAM,MAAS;;;MAGnD,SAAO,WAAA;AACL,eAAO,WAAW,UAAU,QAAQ;;KAEvC;SACI;AACL,cAAU,WAAW,UAAU,QAAQ,EACpC,OAAO,SAAC,KAAK,YAAU;AACtB,aAAO,eAAe,KAAK,YAAY;QACrC,KAAK,WAAA;AAAM,iBAAA,UAAU,UAAU;QAAC;OACjC;AACD,aAAO;OACN,CAAA,CAAE;;AAET,SAAO;AACT;AC3EA,IAAA,aAAA,SAAA,QAAA;AAAgC,YAAAO,aAAA,MAAA;AAI9B,WAAAA,YAAY,OAAK;;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEJ,QAA2E,KAAA,OAA3E,KAAC,qBAAsB,aAAU,GAAA,EAAA,GAAE,KAAC,kBAAmB,kBAAe,GAAA,EAAA;AACtE,QAAA,OAAS,MAAK;AAEtB,UAAK,UAAMP,MAAA;MACT,UAAU,WAAA;AAAM,eAAA,gBAAe;MAAE;OACjCA,IAAC,GAAA,OAAG,MAAI,QAAA,CAAQ,IAAG,SAAC,QAAM;AAChB,UAAA,SAAW,MAAK,MAAK;AACrB,UAAA,UAAY,oBAClB,YACA,SAAA,YAAU;AAAI,eAAA,WAAW,IAAI,GAAA,OAAG,YAAU,QAAA,GAAU,MAAK,MAAM;MAAC,CAAA,EACjE;AACD,UAAI,aAAa;AACjB,UAAM,UAAU,oBACd,YACA,SAAA,YAAU;AAAI,eAAC,eAAe,OAC1B,SAAC,WAAS;AAAO,uBAAa;QAAU,IACxC,WAAW,QAAQ,GAAA,OAAG,YAAU,QAAA,GAAU,MAAK,MAAM,EAAE,MAAK,EAAG,QAAO,EAAG,CAAC;MAAC,CAAC;AAElF,aAAO,QAAQ,SAAS,OAAO;AAC/B,UAAM,aAAa,WAAW,QAAQ,GAAA,OAAG,MAAI,QAAA,GAAU,MAAK,MAAM,EAAE,MAAK,EAAG,QAAO,EAAG,CAAC;AACvF,UAAI,YAAY;AACd,mBAAW,UAAU;;;AAK3B,eAAW,eAAe,MAAK,MAAM;AAErC,UAAK,mBAAmB;;;AAG1B,EAAAO,YAAA,UAAA,oBAAA,WAAA;AACE,QAAI,KAAK,kBAAkB;AACzB;;AAGM,QAAsCP,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AAEzC,eAAW,eAAe,KAAK,MAAM;AACrC,SAAK,mBAAmB;;AAG1B,EAAAO,YAAA,UAAA,uBAAA,WAAA;AACU,QAAsCP,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AAEzC,eAAW,iBAAiB,KAAK,MAAM;AACvC,SAAK,mBAAmB;;AAG1B,EAAAO,YAAA,UAAA,SAAA,WAAA;AACE,WAAO;;AAEX,SAAAA;AAAA,EA3DgCT,0BAAmB;IA6DtC,SAA2C,oBAAoB,UAAU;ACvDtF,IAAA,aAAA,SAAA,QAAA;AAAgC,YAAAU,aAAA,MAAA;AAI9B,WAAAA,YAAY,OAAK;;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEJ,QAA2E,KAAA,OAA3E,KAAC,qBAAsB,aAAU,GAAA,EAAA,GAAE,KAAC,kBAAmB,kBAAe,GAAA,EAAA;AACtE,QAAA,OAAS,MAAK;AAEtB,QAAI;AACJ,QAAI,0BAA0B,CAAA;AAC9B,QAAI;AAEJ,UAAK,UAAMR,MAAA;MACT,UAAU,WAAA;AAAM,eAAA,gBAAe;MAAE;OACjCA,IAAC,GAAA,OAAG,MAAI,QAAA,CAAQ,IAAG,SAAC,UAAQ;AACpB,UAAAA,MAAsB,MAAK,OAAzB,QAAKA,IAAA,OAAES,YAAQT,IAAA;AACvB,UAAIS,cAAa;AAAW,eAAO;AAEnC,UAAM,iBAAiB,SAAA,YAAU;AAAI,eAAE,eAAe,OAClD,WACA,WAAW,IAAI,GAAA,OAAG,YAAU,QAAA,GAAU,MAAK,MAAM;MAAC;AAEtD,UAAIA,cAAa,gBACZ,CAAC,6BAA6B,YAAY,yBAAyB,cAAc,GAAG;AACvF,eAAO;;AAGH,UAAAC,MAAmC,oBAAoB,YAAY,cAAc,GAA/E,UAAOA,IAAA,SAAE,sBAAmBA,IAAA;AACpC,UAAM,UAAU,oBAAoB,UAAU;AAE9C,qBAAeD;AACf,gCAA0B;AAC1B,mBAAaA,UAAS,SAAS,OAAO;AACtC,aAAO;;AAIX,eAAW,eAAe,MAAK,MAAM;AAErC,UAAK,mBAAmB;;;AAG1B,EAAAD,YAAA,UAAA,oBAAA,WAAA;AACE,QAAI,KAAK,kBAAkB;AACzB;;AAGM,QAAsCR,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AAEzC,eAAW,eAAe,KAAK,MAAM;AACrC,SAAK,mBAAmB;;AAG1B,EAAAQ,YAAA,UAAA,qBAAA,WAAA;AACU,QAAsCR,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AAEzC,eAAW,UAAU,uBAAuB;;AAG9C,EAAAQ,YAAA,UAAA,uBAAA,WAAA;AACU,QAAsCR,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AAEzC,eAAW,iBAAiB,KAAK,MAAM;AACvC,SAAK,mBAAmB;;AAG1B,EAAAQ,YAAA,UAAA,SAAA,WAAA;AACE,WAAO;;AAEX,SAAAA;AAAA,EAvEgCV,0BAAmB;IAyEtC,SAA2C,oBAAoB,UAAU;AC9EtF,IAAI,mBAAmB;AAEvB,IAAA,eAAA,SAAA,QAAA;AAAkC,YAAAa,eAAA,MAAA;AAMhC,WAAAA,cAAY,OAAK;;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEZ,UAAK,WAAW,WAAA;AAAM,aAAA;IAAM;AAE5B,wBAAoB;AACpB,UAAK,KAAK;AAEF,QAA2E,KAAA,OAA3E,KAAC,qBAAsB,aAAU,GAAA,EAAA,GAAE,KAAC,kBAAmB,kBAAe,GAAA,EAAA;AACtE,QAAA,OAAoB,MAAK,MAAnB,YAAc,MAAK;AAEjC,UAAK,UAAMX,MAAA;MACT,UAAU,WAAA;AAAM,eAAA,gBAAe;MAAE;OACjCA,IAAC,GAAA,OAAG,MAAI,UAAA,CAAU,IAAG;MACnB,IAAI,MAAK;MACT,WAAW,SAAA,QAAM;AAAI,eAAC,YAAY,UAAU,MAAM,IAAI;MAAI;MAC1D,UAAU,WAAA;AACA,YAAA,WAAa,MAAK,MAAK;AAC/B,eAAO;;;AAKb,eAAW,eAAe,MAAK,MAAM;AACrC,eAAW,UAAU,+BAA+B,IAAI;AAExD,UAAK,mBAAmB;;;AAG1B,EAAAW,cAAA,UAAA,oBAAA,WAAA;AACE,QAAI,KAAK,kBAAkB;AACzB;;AAGM,QAAsCX,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACjC,QAAA,OAAS,KAAK,MAAK;AAE3B,eAAW,eAAe,KAAK,MAAM;AACrC,eAAW,UAAU,+BAA+B,IAAI;AACxD,SAAK,mBAAmB;;AAG1B,EAAAW,cAAA,UAAA,qBAAA,WAAA;AACU,QAAsCX,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACzC,eAAW,UAAU,yBAAyB,KAAK,EAAE;;AAGvD,EAAAW,cAAA,UAAA,uBAAA,WAAA;AACU,QAAsCX,MAAA,KAAK,OAA3C,KAAC,qBAAsB,aAAUA,IAAA,EAAA;AACjC,QAAA,OAAS,KAAK,MAAK;AAC3B,eAAW,iBAAiB,KAAK,MAAM;AACvC,eAAW,UAAU,+BAA+B,IAAI;AACxD,SAAK,mBAAmB;;AAG1B,EAAAW,cAAA,UAAA,SAAA,WAAA;AACE,WAAO;;AAEX,SAAAA;AAAA,EAhEkCb,0BAAmB;IAqExC,WAA+C,oBAAoB,YAAY;ACxE5F,IAAA,wBAAA,SAAA,QAAA;AAAoC,YAAAc,wBAAA,MAAA;AAIlC,WAAAA,uBAAY,OAAO,SAAO;;AAA1B,QAAA,QACE,OAAA,KAAA,MAAM,OAAO,OAAO,KAAC;AAErB,UAAK,sBAAsB,CAAA;AAC3B,UAAK,gBAAYZ,MAAA,CAAA,GACfA,IAAC,uBAAuB,IAAG,WAAA;AAAM,aAAA,MAAK,iBAAgB;IAAE;;;AAI5D,EAAAY,uBAAA,UAAA,oBAAA,WAAA;AACE,QAAM,aAAa,KAAK;AACxB,eAAW,qBAAqB,KAAK,YAAY;;AAGnD,EAAAA,uBAAA,UAAA,uBAAA,WAAA;AACE,QAAM,aAAa,KAAK;AACxB,eAAW,uBAAuB,KAAK,YAAY;;AAGrD,EAAAA,uBAAA,UAAA,mBAAA,WAAA;AACE,QAAM,aAAa,KAAK;AAExB,QAAI,6BAA6B,YAAY,KAAK,mBAAmB,GAAG;AACtE,WAAK,YAAW;;;AAIpB,EAAAA,uBAAA,UAAA,SAAA,WAAA;AACE,QAAM,aAAa,KAAK;AAChB,QAAA,WAAa,KAAK,MAAK;AAEzB,QAAAZ,MAAmC,oBAAoB,UAAU,GAA/D,UAAOA,IAAA,SAAE,sBAAmBA,IAAA;AACpC,SAAK,sBAAsB;AAC3B,QAAM,UAAU,oBAAoB,UAAU;AAE9C,WAAO,SAAS,SAAS,OAAO;;AAEpC,SAAAY;AAAA,EAzCoCT,sBAAe;AA2CnD,sBAAsB,cAAc;AAGpC,IAAa,oBAAiE;ACjE9E,IAAM,UAAU;AAGhB,IAAA,gBAAA,WAAA;AAKE,WAAAU,eAAY,UAAQ;AAClB,SAAK,WAAW;AAChB,SAAK,oBAAoB;AACzB,SAAK,WAAW;;AAGlB,EAAAA,eAAA,UAAA,aAAA,WAAA;AACE,WAAO,KAAK;;AAGd,EAAAA,eAAA,UAAA,YAAA,WAAA;AACE,WAAO,CAAC,CAAC,KAAK;;AAGhB,EAAAA,eAAA,UAAA,gBAAA,WAAA;AACE,iBAAa,KAAK,iBAAiB;AACnC,SAAK,oBAAoB;;AAG3B,EAAAA,eAAA,UAAA,QAAA,SAAM,GAAC;AAAP,QAAA,QAAA;AACQ,QAAAb,MAA6B,EAAE,QAAQ,CAAC,GAA7B,IAACA,IAAA,SAAW,IAACA,IAAA;AAC9B,SAAK,oBAAoB,WAAW,WAAA;AAClC,YAAK,SAAS,QAAQ,EAAE,GAAG,EAAC,CAAE;AAC9B,YAAK,WAAW;OACf,OAAO;;AAGZ,EAAAa,eAAA,UAAA,OAAA,SAAK,GAAC;AACJ,SAAK,cAAa;AAClB,QAAI,KAAK,UAAU;AACX,UAAAb,MAAuB,EAAE,QAAQ,CAAC,GAAhC,UAAOA,IAAA,SAAE,UAAOA,IAAA;AACxB,QAAE,eAAc;AAChB,WAAK,SAAS,OAAO,EAAE,GAAG,SAAS,GAAG,QAAO,CAAE;;;AAInD,EAAAa,eAAA,UAAA,MAAA,SAAI,GAAC;AACH,SAAK,cAAa;AAClB,QAAI,KAAK,UAAU;AACX,UAAAb,MAAuB,EAAE,eAAe,CAAC,GAAvC,UAAOA,IAAA,SAAE,UAAOA,IAAA;AACxB,WAAK,SAAS,MAAM,EAAE,GAAG,SAAS,GAAG,QAAO,CAAE;;AAEhD,SAAK,WAAW;;AAEpB,SAAAa;AAAA,EAAC;IClDG;AAEG,IAAM,qBAAqB,SAAC,QAAQ,QAAO;AAChD,MAAI,QAA6B;IAC/B,eAAe,SAAS,QAAQ;;AAElC,MAAI,UAAU,QAAQ;AACpB,YAAK,SAAA,SAAA,CAAA,GACA,KAAK,GAAA,EACR,OAAM,CAAA;;AAGV,MAAI,CAAC,cAAc;AACjB,YAAK,SAAA,SAAA,CAAA,GACA,KAAK,GAAA,EACR,UAAU,SACV,KAAK,GACL,OAAO,GACP,MAAM,GACN,QAAQ,GACR,SAAS,GACT,QAAQ,WAAU,CAAA;AAGpB,mBAAe,SAAS,cAAc,KAAK;AAC3C,aAAS,KAAK,YAAY,YAAY;;AAExC,SAAO,KAAK,KAAK,EAAE,QAAQ,SAAC,KAAG;AAAO,iBAAa,MAAM,GAAG,IAAI,MAAM,GAAG;EAAE,CAAE;AAC/E;AC3BA,IAAa,QAAQ,WAAA;AACnB,MAAM,YAAY,OAAO,gBAAgB,OAAO,aAAY;AAE5D,MAAI,WAAW;AACb,QAAI,UAAU,OAAO;AACnB,gBAAU,MAAK;eACN,UAAU,iBAAiB;AACpC,gBAAU,gBAAe;;;AAG/B;ACRA,IAAM,WAAW;AACjB,IAAM,QAAQ,SAAC,OAAO,KAAK,KAAG;AAAK,SAAA,KAAK,IAAI,KAAK,IAAI,OAAO,GAAG,GAAG,GAAG;AAAC;AACtE,IAAM,kBAAkB,SACtBb,KAA8B,IAAQ;MAAjC,WAAQA,IAAA,GAAK,WAAQA,IAAA;MAAM,IAAC,GAAA,GAAE,IAAC,GAAA;AACjC,SAAA,MAAM,GAAG,WAAW,UAAU,WAAW,QAAQ,MAAM,KACvD,MAAM,GAAG,WAAW,UAAU,WAAW,QAAQ,MAAM;AADvD;AAIL,IAAA,gBAAA,WAAA;AAME,WAAAc,eAAY,UAAQ;AAClB,SAAK,WAAW;AAChB,SAAK,qBAAqB;AAC1B,SAAK,WAAW;;AAGlB,EAAAA,eAAA,UAAA,aAAA,WAAA;AACE,WAAO,KAAK;;AAGd,EAAAA,eAAA,UAAA,QAAA,SAAM,GAAC;AACG,QAAS,IAAkB,EAAC,SAAP,IAAM,EAAC;AACpC,SAAK,IAAI;AACT,SAAK,qBAAqB,EAAE,GAAG,EAAC;;AAGlC,EAAAA,eAAA,UAAA,OAAA,SAAK,GAAC;AACI,QAAS,IAAkB,EAAC,SAAP,IAAM,EAAC;AACpC,QAAI,cAAc;AAClB,QAAI,CAAC,KAAK,YAAY,KAAK,oBAAoB;AAC7C,UAAI,gBAAgB,KAAK,oBAAoB,EAAE,GAAG,EAAC,CAAE,GAAG;AACtD,aAAK,SAAS,QAAQ,KAAK,kBAAkB;AAC7C,cAAK;AACL,sBAAc;AACd,aAAK,WAAW;;;AAGpB,QAAI,KAAK,UAAU;AACjB,QAAE,eAAc;AAChB,WAAK,SAAS,OAAO,EAAE,GAAG,EAAC,CAAE;;AAE/B,QAAI,aAAa;AACf,UAAM,UAAU,SAAS,iBAAiB,GAAG,CAAC;AAC9C,UAAM,SAAS,UAAU,OAAO,iBAAiB,OAAO,EAAE,SAAS;AACnE,yBAAmB,MAAM,MAAM;;;AAInC,EAAAA,eAAA,UAAA,MAAA,SAAI,GAAC;AACH,QAAI,KAAK,UAAU;AACT,UAAS,IAAkB,EAAC,SAAP,IAAM,EAAC;AACpC,yBAAmB,KAAK;AACxB,WAAK,SAAS,MAAM,EAAE,GAAG,EAAC,CAAE;;AAE9B,SAAK,qBAAqB;AAC1B,SAAK,WAAW;;AAEpB,SAAAA;AAAA,EAAC;AChED,IAEI;AAEJ,IAAa,wBAAwB,WAAA;AACnC,MAAI,CAAC,cAAc;AACjB,mBAAe,IAAI,aAAY;AAE/B,KAAC,aAAa,WAAW,aAAa,YAAY,aAAa,EAC5D,QAAQ,SAAA,MAAI;AAAI,aAAA,OAAO,iBACtB,MAAM,SAAA,GAAC;AAAI,eAAA,aAAa,KAAK,CAAC,MAAM,CAAC,CAAC;MAAC,GAAE,EAAE,SAAS,MAAK,CAAE;IAC5D,CAAA;;AAEL,SAAO;AACT;ACbA,IAAa,gBAAYC,yBAAiB,SACxCf,KACA,KAAgE;;MAD9D,WAAQA,IAAA;AAGV,aAAOgB,6BAA0B,QAAQ,IACvC,OAAO,SAAS,SAAS,eACrBC,2BAAmB,UAAU,EAAE,IAAG,CAAE,QACpCA,2BAAmB,UAAU;IAC7B,gBAAc,KAAA,SAAS,WAAK,QAAA,OAAA,SAAA,SAAA,GAAE,gBAAe,SAAC,MAAI;AAChD,eAAS,MAAM,aAAa,IAAI;AAChC,UAAI,OAAO,QAAQ,YAAY;AAC7B,YAAI,IAAI;iBACC,KAAK;AACd,YAAI,UAAU;;QAEd;GAAK,QACbrB,4BACE,OACA,EAAE,KAAK,OAAO,EAAE,SAAS,WAAU,EAAE,GACrC,QAAQ;AAEd,CAAC;AChBD,IAAM,kBAAkB,OAAO,iBAAiB;;AAUjB,YAAAsB,YAAA,MAAA;AAO7B,WAAAA,WAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAJd,UAAA,cAAwD;AACxD,UAAA,mBAAwB;AAItB,QAAM,WAAW;MACf,SAAS,SAAClB,KAAQ;YAAN,IAACA,IAAA,GAAE,IAACA,IAAA;AACN,YAAA,UAAY,MAAK,MAAK;AAC9B,YAAI,CAAC;AAAS;AACd,sDAAwB,WAAA;AACtB,kBAAQ,EAAE,GAAG,EAAC,CAAE;SACjB;;MAEH,QAAQ,SAACA,KAAQ;YAAN,IAACA,IAAA,GAAE,IAACA,IAAA;AACL,YAAA,WAAa,MAAK,MAAK;AAC/B,YAAI,CAAC;AAAU;AACf,sDAAwB,WAAA;AACtB,mBAAS,EAAE,GAAG,EAAC,CAAE;SAClB;;MAEH,OAAO,SAACA,KAAQ;YAAN,IAACA,IAAA,GAAE,IAACA,IAAA;AACJ,YAAA,QAAU,MAAK,MAAK;AAC5B,YAAI,CAAC;AAAO;AACZ,sDAAwB,WAAA;AACtB,gBAAM,EAAE,GAAG,EAAC,CAAE;SACf;;;AAIL,UAAK,gBAAgB,IAAI,cAAc,QAAQ;AAC/C,UAAK,gBAAgB,IAAI,cAAc,QAAQ;AAC/C,UAAK,iBAAamB,wBAAe;AAEjC,UAAK,oBAAoB,MAAK,kBAAkB,KAAK,KAAI;AACzD,UAAK,qBAAqB,MAAK,mBAAmB,KAAK,KAAI;AAC3D,UAAK,iBAAiB,MAAK,eAAe,KAAK,KAAI;;;AAGrD,EAAAD,WAAA,UAAA,oBAAA,WAAA;AACE,0BAAqB,EAAG,UAAU,KAAK,cAAc;AACrD,SAAK,sBAAqB;;AAG5B,EAAAA,WAAA,UAAA,qBAAA,WAAA;AACE,SAAK,sBAAqB;;AAG5B,EAAAA,WAAA,UAAA,uBAAA,WAAA;;AACE,QAAI,KAAK,aAAa;AACd,UAAA,KAAsB,KAAK,aAAzB,eAAY,GAAA,cAAE,IAAC,GAAA;AACvB,UAAI,cAAc;AAChB,aAAK,cAAc,IAAI,CAAC;aACnB;AACL,aAAK,cAAc,IAAI,CAAC;;AAE1B,WAAK,cAAc;;AAErB,KAAAlB,MAAA,KAAK,sBAAgB,QAAAA,QAAA,SAAA,SAAAA,IAAA,KAAA,IAAA;AACrB,0BAAqB,EAAG,YAAY,KAAK,cAAc;;AAGzD,EAAAkB,WAAA,UAAA,wBAAA,WAAA;AAAA,QAAA,QAAA;;AACE,QAAM,OAAO,KAAK,WAAW;AAC7B,QAAI,CAAC;AAAM;AACX,KAAAlB,MAAA,KAAK,sBAAgB,QAAAA,QAAA,SAAA,SAAAA,IAAA,KAAA,IAAA;AACrB,SAAK,iBAAiB,aAAa,KAAK,iBAAiB;AACzD,SAAK,iBAAiB,cAAc,KAAK,oBAAoB,EAAE,SAAS,KAAI,CAAE;AAC9E,SAAK,mBAAmB,WAAA;AACtB,WAAK,oBAAoB,aAAa,MAAK,iBAAiB;AAC5D,WAAK,oBAAoB,cAAc,MAAK,kBAAkB;;;AAIlE,EAAAkB,WAAA,UAAA,oBAAA,SAAkB,GAAC;AACjB,QAAI,KAAK,cAAc,UAAS,KAAM,EAAE,eAAe;AAAG;AAC1D,MAAE,eAAc;AAChB,SAAK,cAAc,MAAM,CAAC;AAC1B,MAAE,eAAe,IAAI;;AAGvB,EAAAA,WAAA,UAAA,qBAAA,SAAmB,GAAC;AAClB,QAAI,EAAE,eAAe;AAAG;AACxB,SAAK,cAAc,MAAM,CAAC;AAC1B,MAAE,eAAe,IAAI;;AAGvB,EAAAA,WAAA,UAAA,YAAA,SAAU,GAAG,cAAY;AACvB,SAAK,cAAc;MACjB;MACA;;;AAIJ,EAAAA,WAAA,UAAA,iBAAA,SAAelB,KAAS;QAAT,KAAAL,QAAAK,KAAA,CAAA,GAAC,OAAI,GAAA,CAAA,GAAE,IAAC,GAAA,CAAA;AACrB,YAAQ,MAAI;MACV,KAAK;AACH,aAAK,UAAU,GAAG,IAAI;AACtB,aAAK,cAAc,KAAK,CAAC;AACzB;MACF,KAAK;AACH,aAAK,cAAc;AACnB,aAAK,cAAc,IAAI,CAAC;AACxB;MACF,KAAK,aAAa;AAChB,aAAK,UAAU,GAAG,KAAK;AACvB,aAAK,cAAc,KAAK,CAAC;AACzB;;MAEF,KAAK;MACL,KAAK,eAAe;AAClB,aAAK,cAAc;AACnB,aAAK,cAAc,IAAI,CAAC;AACxB;;;AAKJ,QAAI,KAAK,cAAc,WAAU,KAAM,KAAK,cAAc,WAAU,GAAI;AACtE,YAAK;;;AAIT,EAAAkB,WAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAlB,MAAyB,KAAK,OAA5B,WAAQA,IAAA,UAAE,WAAQA,IAAA;AAC1B,eAAOJ,4BAAC,WAAS,EACf,KAAK,SAAC,MAAoB;AACxB,YAAK,WAAW,UAAU;AAC1B,UAAI,OAAO,aAAa,YAAY;AAClC,iBAAS,IAAI;iBACJ,UAAU;AACnB,iBAAS,UAAU;;MAEtB,GAEA,QAAQ;;AAGf,SAAAsB;AAAA,EA7I+BpB,0BAAmB;ACd3C,IAAM,sBAAkBN,4BAAiD,IAAI;ACEpF,IAAA,uBAAA,WAAA;AAIE,WAAA4B,wBAAA;AACE,SAAK,UAAU;AACf,SAAK,cAAc,IAAI,aAAY;;AAGrC,EAAAA,sBAAA,UAAA,QAAA,SAAM,SAAS,cAAY;AACzB,SAAK,UAAU;AACf,SAAK,YAAY,KAAK,EAAE,cAAc,SAAS,KAAK,QAAO,CAAE;;AAG/D,EAAAA,sBAAA,UAAA,SAAA,SAAO,cAAY;AACjB,SAAK,YAAY,KAAK,EAAE,cAAc,SAAS,KAAK,QAAO,CAAE;;AAG/D,EAAAA,sBAAA,UAAA,MAAA,SAAI,cAAY;AACd,SAAK,YAAY,KAAK,EAAE,cAAc,SAAS,KAAK,SAAS,KAAK,KAAI,CAAE;AACxE,SAAK,UAAU;;AAEnB,SAAAA;AAAA,EAAC;IAEK,eAAe;EACnB,UAAU,SAACpB,KAAyB;QAAvB,UAAOA,IAAA,SAAE,eAAYA,IAAA;;;;AAOE,YAAAqB,mBAAA,MAAA;AAMpC,WAAAA,kBAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AACJ,QAAA,WAAa,MAAK,MAAK;AAE/B,UAAK,mBAAmB,IAAI,qBAAoB;AAEhD,UAAK,iBAAiB,YAAY,UAAU,SAACrB,KAA8B;UAA5B,UAAOA,IAAA,SAAE,eAAYA,IAAA,cAAE,MAAGA,IAAA;AACvE,eAAS;QACP,SAAS,MAAM,OAAO;QACtB,cAAc,MAAM,OAAO;OAC5B;KACF;;;AAGH,EAAAqB,kBAAA,UAAA,wBAAA,SAAsB,WAAS;AACrB,QAAA,WAAa,KAAK,MAAK;AAC/B,WAAO,UAAU,aAAa;;AAGhC,EAAAA,kBAAA,UAAA,SAAA,WAAA;AACU,QAAA,WAAa,KAAK,MAAK;AAC/B,eACEzB,4BAAC,gBAAgB,UAAQ,EAAC,OAAO,KAAK,iBAAgB,GACnD,QAAQ;;AA1BR,EAAAyB,kBAAA,eAAe;AA8BxB,SAAAA;EAjCsClB,sBAAe;AClCrD,IAAMmB,iBAAe;EACnB,SAAS,SAACtB,KAAgB;QAAd,eAAYA,IAAA;;EACxB,UAAU,SAACA,KAAgB;QAAd,eAAYA,IAAA;;EACzB,OAAO,SAACA,KAAgB;QAAd,eAAYA,IAAA;;;AASxB,IAAa,iBAAwCe,yBAAiB,SAACf,KAEpE,KAAG;MADJ,UAAOA,IAAA,SAAE,WAAQA,IAAA,UAAE,QAAKA,IAAA,OAAE,UAAOA,IAAA,SAAE,WAAQA,IAAA;AAE3C,MAAM,cAAUuB,yBAAiB,eAAe;AAChD,MAAM,mBAAmB;AAEzB,aACE3B,4BAAC,WAAS,EACR,SAAS,SAACI,KAAQ;QAAN,IAACA,IAAA,GAAE,IAACA,IAAA;AACd,yBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAkB,MAAM,SAAS,EAAE,GAAG,EAAC,CAAE;AACzC,gBAAO,QAAP,YAAO,SAAA,SAAP,QAAU,EAAE,cAAc,EAAE,GAAG,EAAC,EAAE,CAAE;KAEtC,UAAU,SAACA,KAAQ;QAAN,IAACA,IAAA,GAAE,IAACA,IAAA;AACf,yBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAkB,OAAO,EAAE,GAAG,EAAC,CAAE;AACjC,iBAAQ,QAAR,aAAQ,SAAA,SAAR,SAAW,EAAE,cAAc,EAAE,GAAG,EAAC,EAAE,CAAE;KAEvC,OAAO,SAACA,KAAQ;QAAN,IAACA,IAAA,GAAE,IAACA,IAAA;AACZ,yBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAkB,IAAI,EAAE,GAAG,EAAC,CAAE;AAC9B,cAAK,QAAL,UAAK,SAAA,SAAL,MAAQ,EAAE,cAAc,EAAE,GAAG,EAAC,EAAE,CAAE;KAEpC,UAAU,IAAG,GAEZ,QAAQ;AAGf,CAAC;AACD,WAAW,eAAesB;ACtC1B,IAAME,UAAQ,SAAC,OAAO,KAAK,KAAG;AAAK,SAAA,KAAK,IAAI,KAAK,IAAI,OAAO,GAAG,GAAG,GAAG;AAAC;AAEtE,IAAMF,iBAAe;EACnB,SAAS,SAAC,MAAI;EAAA;EACd,QAAQ,SAAC,MAAI;EAAA;EACb,SAAS,SAAC,MAAI;EAAA;EACd,QAAQ,SAAC,MAAI;EAAA;;;AAKiB,YAAAG,aAAA,MAAA;AAK9B,WAAAA,YAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEZ,UAAK,SAAS;AAEd,UAAK,aAAa,MAAK,WAAW,KAAK,KAAI;AAE3C,UAAK,iBAAaN,wBAAe;;;AAGnC,EAAAM,YAAA,UAAA,oBAAA,WAAA;AACU,QAAA,cAAgB,KAAK,QAAO;AACpC,gBAAY,UAAU,KAAK,UAAU;;AAGvC,EAAAA,YAAA,UAAA,wBAAA,SAAsB,WAAS;AACrB,QAAA,WAAa,KAAK,MAAK;AAC/B,WAAO,UAAU,aAAa;;AAGhC,EAAAA,YAAA,UAAA,uBAAA,WAAA;AACU,QAAA,cAAgB,KAAK,QAAO;AACpC,gBAAY,YAAY,KAAK,UAAU;;AAGzC,EAAAA,YAAA,UAAA,aAAA,SAAWzB,KAA8B;QAA5B,UAAOA,IAAA,SAAE,eAAYA,IAAA,cAAE,MAAGA,IAAA;AAC/B,QAAA,KAKF,KAAK,WAAW,QAAS,sBAAqB,GAJhD,OAAI,GAAA,MACJ,MAAG,GAAA,KACH,QAAK,GAAA,OACL,SAAM,GAAA;AAEF,QAAA,KAEF,KAAK,OADP,SAAM,GAAA,QAAE,UAAO,GAAA,SAAE,UAAO,GAAA,SAAE,SAAM,GAAA;AAElC,QAAM,SAAS,gBACVwB,QAAM,aAAa,GAAG,MAAM,KAAK,MAAM,aAAa,KACpDA,QAAM,aAAa,GAAG,KAAK,MAAM,MAAM,aAAa;AAEzD,QAAI,CAAC,KAAK,UAAU;AAAQ,cAAQ,EAAE,SAAS,aAAY,CAAE;AAC7D,QAAI,KAAK,UAAU;AAAQ,aAAO,EAAE,SAAS,aAAY,CAAE;AAC3D,QAAI,KAAK,UAAU,CAAC;AAAQ,cAAQ,EAAE,SAAS,aAAY,CAAE;AAC7D,QAAI,UAAU;AAAK,aAAO,EAAE,SAAS,aAAY,CAAE;AAEnD,SAAK,SAAS,UAAU,CAAC;;AAG3B,EAAAC,YAAA,UAAA,SAAA,WAAA;AACU,QAAA,WAAa,KAAK,MAAK;AAC/B,eAAO7B,4BAAC,WAAS,EAAC,KAAK,KAAK,WAAU,GAAGC,sBAAe,KAAK,QAAQ,CAAC;;AArDjE,EAAA4B,YAAA,eAAeH;AAuDxB,SAAAG;EAxDgCtB,sBAAe;AA0D/C,WAAW,cAAc;ACnEzB,IAAM,gBAAgB;AACtB,IAAM,SAA8C;EAClD,MAAM;IACJ,UAAU;;EAEZ,cAAc;IACZ,UAAU;IACV,KAAK;IACL,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;IACV,QAAQ;IACR,YAAY;IACZ,SAAS;;EAEX,eAAe;IACb,UAAU;IACV,KAAK;IACL,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;;EAEZ,iBAAiB;IACf,UAAU;IACV,KAAK;IACL,MAAM;IACN,QAAQ;IACR,OAAO;IACP,UAAU;IACV,WAAW;IACX,UAAU;;EAEZ,kBAAkB;IAChB,UAAU;IACV,KAAK;IACL,MAAM;IACN,OAAO;IACP,QAAQ;IACR,WAAW;IACX,UAAU;;;;AAKa,YAAAuB,QAAA,MAAA;AAczB,WAAAA,OAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAkDd,UAAA,UAAU,WAAA;AAAY,aAAC;QACrB,QAAQ,MAAK,SAAS;QACtB,OAAO,MAAK,SAAS;;IACtB;AAnDC,UAAK,iBAAiB,MAAK,eAAe,KAAK,KAAI;AACnD,UAAK,kBAAkB,MAAK,gBAAgB,KAAK,KAAI;AACrD,UAAK,cAAUP,wBAAe;;;AAGhC,EAAAO,OAAA,UAAA,oBAAA,WAAA;AACE,SAAK,WAAW,KAAK,QAAQ;AAC7B,SAAK,gBAAe;AAEpB,SAAK,cAAc,iBAAiB,UAAU,KAAK,cAAc;AACjE,SAAK,gBAAgB,iBAAiB,UAAU,KAAK,cAAc;AACnE,SAAK,eAAc;;AAGrB,EAAAA,OAAA,UAAA,wBAAA,SAAsB,WAAS;AAC7B,QAAI,UAAU,cAAc,KAAK,MAAM,aACrC,UAAU,eAAe,KAAK,MAAM,cACnC,UAAU,SAAS,KAAK,MAAM,SAC7B,CAAC,aAAa,UAAU,OAAO,KAAK,MAAM,KAAK,KAC9C,UAAU,SAAS,CAAC,KAAK,MAAM,SAChC,UAAU,aAAa,KAAK,MAAM,UAAU;AAC9C,aAAO;;AAET,WAAO;;AAGT,EAAAA,OAAA,UAAA,qBAAA,WAAA;AAIQ,QAAA1B,MAA4B,KAAK,OAA/B,YAASA,IAAA,WAAE,aAAUA,IAAA;AAC7B,QAAI,cAAc,UAAa,YAAY,IAAI;AAC7C,WAAK,SAAS,YAAY;;AAE5B,QAAI,eAAe,UAAa,aAAa,IAAI;AAC/C,WAAK,SAAS,aAAa;;AAE7B,SAAK,gBAAgB,KAAK,QAAO,CAAE;;AAMrC,EAAA0B,OAAA,UAAA,uBAAA,WAAA;AACE,SAAK,cAAc,oBAAoB,UAAU,KAAK,cAAc;AACpE,SAAK,gBAAgB,oBAAoB,UAAU,KAAK,cAAc;;AAQxE,EAAAA,OAAA,UAAA,iBAAA,WAAA;AACE,QAAM,OAAO,KAAK,QAAO;AACjB,QAAA,QAAkB,KAAI,OAAf,SAAW,KAAI;AAE9B,SAAK,eAAe,MAAM,QAAQ,GAAA,OAAG,QAAQ,eAAa,IAAA;AAC1D,SAAK,eAAe,MAAM,SAAS,GAAA,OAAG,SAAS,eAAa,IAAA;AAE5D,SAAK,gBAAgB,IAAI;AAEjB,QAAA,eAAiB,KAAK,MAAK;AACnC,iBAAa,IAAI;;AAGnB,EAAAA,OAAA,UAAA,kBAAA,WAAA;AACE,SAAK,eAAe,SAAS,cAAc,KAAK;AAChD,WAAO,OAAO,KAAK,aAAa,OAAO,OAAO,YAAY;AAC1D,SAAK,SAAU,YAAY,KAAK,YAAY;AAE5C,SAAK,gBAAgB,SAAS,cAAc,KAAK;AACjD,WAAO,OAAO,KAAK,cAAc,OAAO,OAAO,aAAa;AAC5D,SAAK,cAAc,iBAAiB,UAAU,KAAK,cAAc;AACjE,SAAK,aAAa,YAAY,KAAK,aAAa;AAEhD,SAAK,iBAAiB,SAAS,cAAc,KAAK;AAClD,SAAK,cAAc,YAAY,KAAK,cAAc;AAElD,SAAK,kBAAkB,SAAS,cAAc,KAAK;AACnD,WAAO,OAAO,KAAK,gBAAgB,OAAO,OAAO,eAAe;AAChE,SAAK,gBAAgB,iBAAiB,UAAU,KAAK,cAAc;AACnE,SAAK,aAAa,YAAY,KAAK,eAAe;AAElD,SAAK,mBAAmB,SAAS,cAAc,KAAK;AACpD,WAAO,OAAO,KAAK,iBAAiB,OAAO,OAAO,gBAAgB;AAClE,SAAK,gBAAgB,YAAY,KAAK,gBAAgB;;AAGxD,EAAAA,OAAA,UAAA,kBAAA,SAAgB,MAAI;AACV,QAAA,QAAkB,KAAI,OAAf,SAAW,KAAI;AAC9B,SAAK,gBAAgB,YAAY;AACjC,SAAK,gBAAgB,aAAa;AAClC,SAAK,cAAc,YAAY;AAC/B,SAAK,cAAc,aAAa;;AAGlC,EAAAA,OAAA,UAAA,SAAA,WAAA;AACE,QAAM1B,MAOF,KAAK,OANP,eAAYA,IAAA,cACQ,YAASA,IAAA,oBAC7B,QAAKA,IAAA,OACL,YAASA,IAAA,WACT,aAAUA,IAAA,YACP,YAAS,OAAAA,KANR,CAAA,gBAAA,sBAAA,SAAA,aAAA,YAAA,CAOL;AAED,eACEJ;MAAC;iBACC,cAAc,KAAK,SACnB,OAAO,QAAK,SAAA,SAAA,CAAA,GAAQ,OAAO,IAAI,GAAK,KAAK,IAAK,OAAO,KAAI,GACrD,SAAS;IAAA;;AA/HZ,EAAA8B,OAAA,eAAe;IACpB,oBAAoB;;AAkIxB,SAAAA;EApI2BvB,sBAAe;IEjD7B,oBAAyC,SACpD,WAAW,2BAA8B;AAA9B,MAAA,8BAAA,QAAA;AAAA,gCAAA,CAAA;EAA8B;AAEzC,MAAM,oBAAoB,SAAC,WAAW,OAAK;AACzC,WAAO,KAAK,yBAAyB,EAAE,QAAQ,SAAC,cAAY;AAC1D,UAAM,cAAc,0BAA0B,YAAY,EAAC;AAC3D,UAAI,eAAe,UAAU,YAAY,MAAM,MAAM,YAAY,GAAG;AAClE,oBAAY,UAAU,YAAY,CAAC;;KAEtC;;AAGH,MAAI;AACJ,MAAI,eAAe;AACnB,MAAI,mBAAmB;AACvB,MAAI,WAAW;AACf,MAAI,eAAe;AAEnB,MAAM,eAAe,SAAC,QAAQ,SAAU,UAAS;AAC/C,QAAM,eAAe,SAAC,WAAS;AAC7B,UAAI,iBAAiB,MAAM;AACzB,uBAAe;;AAEjB,UAAM,cAAc,OAAM,SAAA,CAAA,GAAM,SAAS,GAAI,OAAO;AACpD,UAAM,QAAK,SAAA,SAAA,CAAA,GAAQ,SAAS,GAAK,WAAW;AAE5C,UAAI,OAAO,aAAa,YAAY;AAClC,iBAAS,OAAO,SAAS;;AAE3B,UAAI,iBAAiB,kBAAkB;AACrC,YAAI,qBAAqB,cAAc;AACrC,qBAAW;AACX,cAAI,CAAC,cAAc;AACjB,+BAAmB;AACnB,2BAAe;;;AAGnB,uBAAe;;AAGjB,aAAO;;AAET,uBAAmB;AAEnB,cAAU,SAAS,cAAc,WAAA;AAC/B,UAAI,cAAc;AAChB,0BAAkB,UAAU,gBAAgB;AAC5C,uBAAe;;KAElB;;AAEH,MAAM,oBAAoB,SAAC,OAAO,QAAQ,SAAO;AAC/C,iBAAa,SAAA,OAAK;;AAAI,aAAAwB,MAAA,CAAA,GACpBA,IAAC,KAAK,IAAG,OAAO,MAAM,KAAK,GAAG,OAAO;KACrC;;AAGJ,SAAO;IACL;IACA;;AAEJ;AC9DA,IAAM,qBAAqB,SAAC,QAAQ,YAAY,SAAe;AAC7D,MAAAC,aAAA,SAAA,QAAA;AAAwB,cAAAA,YAAA,MAAA;AAAxB,aAAAA,aAAA;;;AAGE,IAAAA,WAAA,UAAA,SAAA,WAAA;AACE,iBAAOC,4BAAC,QAAM,SAAA,CAAA,GAAK,YAAgB,KAAK,KAAK,CAAA;;AAEjD,WAAAD;IANwBE,0BAAmB;AAO3C,EAAAF,WAAU,aAAa,OAAO;AAC9B,SAAO,OAAOA,YAAW,OAAO;AAChC,SAAOA;AACT;AASA,IAAa,iBAAiB,SAAA,YAAU;AAAI,SAAA,SAAC,QAAM;AACjD,QAAM,QAAQ,CAAA;AACd,QAAM,UAAU,CAAA;AAChB,QAAM,mBAAoB,OAA4B;AAEtD,WAAO,QAAQ,gBAAgB,EAAE,QAAQ,SAACD,KAA4C;UAA5C,KAAAI,QAAAJ,KAAA,CAAA,GAAC,YAAS,GAAA,CAAA,GAAE,gBAAa,GAAA,CAAA;AACjE,UAAM,YAAY,WAAW,aAAa;AAC1C,UAAI,aAAa,cAAc,OAAO,aAAa,GAAG;AACpD,cAAM,SAAS,IAAI;;AAErB,cAAQ,aAAa,IAAI,aAAa,OAAO,aAAa;KAC3D;AAED,WAAO,OAAO,KAAK,KAAK,EAAE,SAAS,IAC/B,mBAAmB,QAAQ,OAAO,OAAO,IAAI;EACnD;AAAC;IChCY,UAAU,kBAAAK,QAAU,MAAM;EACrC,SAAS,kBAAAA,QAAU,WAAY,OAAO,YAAY,cAAe,UAAU,MAAM;CAClF;;;ACFM,IAAM,eAA6B;EACxC;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF,IAAA;;EAAA,WAAA;AAIE,aAAAC,SAAY,SAAiB,GAAU;AACrC,UAAI,MAAM;AAAG,cAAM,IAAI,MAAM,kCAAkC;AAC/D,WAAK,UAAU;AACf,WAAK,IAAI;IACX;AAEO,IAAAA,SAAA,UAAP,SAAe,KAAe;AAC5B,aAAO,IAAIA,SAAQ,aAAa,QAAQ,GAAG,CAAC;IAC9C;AAIA,IAAAA,SAAA,UAAA,MAAA,SAAI,GAAS;AACX,aAAO,KAAK,MAAM,IAAI,OAAO,IAAIA,SAAQ,KAAK,SAAS,CAAC;IAC1D;AAGA,IAAAA,SAAA,UAAA,SAAA,SAAO,OAAc;AACnB,aAAO,KAAK,YAAY,MAAM,WAAW,KAAK,MAAM,MAAM;IAC5D;AAGA,IAAAA,SAAA,UAAA,WAAA,WAAA;AACE,UAAI,IAAY,aAAa,KAAK,OAAO;AACzC,UAAI,KAAK;AAAG,aAAK,KAAK,IAAI,IAAI,MAAM,MAAM,OAAO,KAAK,CAAC,IAAI;AAC3D,aAAO;IACT;AAEA,IAAAA,SAAA,UAAA,eAAA,WAAA;AACE,aAAO,KAAK,YAAY,IAAI,IAAI,KAAK,UAAU;IACjD;AACF,WAAAA;EAAA,EAnCA;;;;ACTO,IAAM,YAAY,SACvB,OAA4B;AAE5B,SAAO,UAAU,QAAQ,UAAU;AACrC;AAEO,IAAM,WAAW,SAAU,OAAc;AAC9C,SAAO,OAAO,UAAU;AAC1B;AAEO,IAAM,eAAe,SAAU,OAAc;AAClD,SAAO,OAAO,UAAU,YAAY,aAAa,SAAS,KAAmB;AAC/E;AAEO,IAAM,UAAU,MAAM;AAKtB,IAAM,QAAQ,SAAU,OAAe,KAAmB;AAAnB,MAAA,QAAA,QAAA;AAAA,UAAA;EAAmB;AAC/D,MAAI,UAAU,WAAW,GAAG;AAC1B,UAAM;AACN,YAAQ;;AAEV,MAAM,OAAO,CAAA;AACb,WAAS,IAAI,OAAO,IAAI,KAAK;AAAK,SAAK,KAAK,CAAC;AAC7C,SAAO;AACT;AAMO,IAAM,SAAS,SAAa,OAAgB,OAAa;AAC9D,MAAI,IAAI;AACR,MAAM,QAAqB,CAAA;AAE3B,MAAI,QAAQ,KAAK,GAAG;AAClB,WAAO,IAAI,OAAO;AAAK,YAAM,CAAC,IAAK,CAAA,EAAW,OAAO,KAAK;SACrD;AACL,WAAO,IAAI,OAAO;AAAK,YAAM,CAAC,IAAI;;AAEpC,SAAO;AACT;AAEO,IAAM,UAAU,SAAa,MAAa;AAC/C,MAAI,QAAQ,IAAI,GAAG;AACjB,WAAO;;AAGT,SAAO,CAAC,IAAI;AACd;AAEM,SAAU,SACd,MACA,cACA,WAAe;AAAf,MAAA,cAAA,QAAA;AAAA,gBAAA;EAAe;AAEf,MAAM,MAAM,OAAO,IAAI;AACvB,iBAAe,gBAAgB;AAC/B,MAAI,IAAI,SAAS,cAAc;AAC7B,WAAO,OAAO,GAAG;;AAGnB,iBAAe,eAAe,IAAI;AAClC,MAAI,eAAe,UAAU,QAAQ;AACnC,iBAAa,OAAO,WAAW,eAAe,UAAU,MAAM;;AAGhE,SAAO,UAAU,MAAM,GAAG,YAAY,IAAI,OAAO,GAAG;AACtD;AAKO,IAAM,QAAQ,SAAU,KAAa,KAAa,KAAW;AAClE,MAAM,SAAS,IAAI,MAAM,GAAG;AAC5B,SAAO,MACH,OAAO,MAAM,GAAG,GAAG,EAAE,OAAO,CAAC,OAAO,MAAM,GAAG,EAAE,KAAK,GAAG,CAAC,CAAC,IACzD;AACN;AAiBO,IAAM,QAAQ,SAAU,GAAW,GAAS;AACjD,MAAM,IAAI,IAAI;AAEd,SAAO,IAAI,IAAI,IAAI,IAAI,IAAI;AAC7B;AAKO,IAAM,SAAS,SAAU,GAAW,GAAS;AAClD,SAAO,EAAE,KAAK,KAAK,MAAM,IAAI,CAAC,GAAG,KAAK,MAAM,GAAG,CAAC,EAAC;AACnD;AAEO,IAAM,QAAQ,SAAa,KAA2B;AAC3D,SAAO,CAAC,UAAU,GAAG,KAAK,IAAI,WAAW;AAC3C;AASO,IAAM,WAAW,SAAa,KAA2B;AAC9D,SAAO,CAAC,MAAM,GAAG;AACnB;AAKO,IAAM,WAAW,SAAa,KAA6B,KAAM;AACtE,SAAO,SAAS,GAAG,KAAK,IAAI,QAAQ,GAAG,MAAM;AAC/C;;;AC7HM,IAAW;CAAjB,SAAiBC,WAAQ;AACV,EAAAA,UAAA,aAAa,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AAK5D,EAAAA,UAAA,UAAU,MAAO,KAAK,KAAK;AAK3B,EAAAA,UAAA,UAAU;AAOV,EAAAA,UAAA,eAAe,IAAI,KAAK,KAAK,IAAI,MAAM,GAAG,CAAC,CAAC;AAM5C,EAAAA,UAAA,cAAc,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AAKlC,EAAAA,UAAA,aAAa,SAAU,MAAU;AAC5C,QAAM,aAAa,IAAI,KACrB,KAAK,eAAc,GACnB,KAAK,YAAW,GAChB,KAAK,WAAU,CAAE;AAEnB,WACE,KAAK,MACF,WAAW,QAAO,IACjB,IAAI,KAAK,KAAK,eAAc,GAAI,GAAG,CAAC,EAAE,QAAO,KAC7CA,UAAA,OAAO,IACP;EAER;AAEa,EAAAA,UAAA,aAAa,SAAU,MAAY;AAC9C,WAAQ,OAAO,MAAM,KAAK,OAAO,QAAQ,KAAM,OAAO,QAAQ;EAChE;AAEa,EAAAA,UAAA,SAAS,SAAU,OAAc;AAC5C,WAAO,iBAAiB;EAC1B;AAEa,EAAAA,UAAA,cAAc,SAAU,OAAc;AACjD,WAAOA,UAAA,OAAO,KAAK,KAAK,CAAC,MAAM,MAAM,QAAO,CAAE;EAChD;AAKa,EAAAA,UAAA,WAAW,SAAU,MAAU;AAC1C,WAAO,KAAK,kBAAiB,IAAK,KAAK;EACzC;AAKa,EAAAA,UAAA,cAAc,SAAU,OAAa,OAAW;AAG3D,QAAM,UAAU,MAAM,QAAO,IAAKA,UAAA,SAAS,KAAK;AAChD,QAAM,UAAU,MAAM,QAAO,IAAKA,UAAA,SAAS,KAAK;AAEhD,QAAM,eAAe,UAAU;AAE/B,WAAO,KAAK,MAAM,eAAeA,UAAA,OAAO;EAC1C;AAKa,EAAAA,UAAA,YAAY,SAAU,MAAU;AAC3C,WAAOA,UAAA,YAAY,MAAMA,UAAA,YAAY;EACvC;AAKa,EAAAA,UAAA,cAAc,SAAU,SAAe;AAClD,WAAO,IAAI,KAAKA,UAAA,aAAa,QAAO,IAAK,UAAUA,UAAA,OAAO;EAC5D;AAEa,EAAAA,UAAA,eAAe,SAAU,MAAU;AAC9C,QAAM,QAAQ,KAAK,YAAW;AAC9B,WAAO,UAAU,KAAKA,UAAA,WAAW,KAAK,eAAc,CAAE,IAClD,KACAA,UAAA,WAAW,KAAK;EACtB;AAKa,EAAAA,UAAA,aAAa,SAAU,MAAU;AAC5C,WAAOA,UAAA,YAAY,KAAK,UAAS,CAAE;EACrC;AAKa,EAAAA,UAAA,aAAa,SAAU,MAAc,OAAa;AAC7D,QAAM,OAAO,IAAI,KAAK,KAAK,IAAI,MAAM,OAAO,CAAC,CAAC;AAC9C,WAAO,CAACA,UAAA,WAAW,IAAI,GAAGA,UAAA,aAAa,IAAI,CAAC;EAC9C;AAKa,EAAAA,UAAA,UAAU,SAAU,MAAY,MAAiB;AAC5D,WAAO,QAAQ;AACf,WAAO,IAAI,KACT,KAAK,IACH,KAAK,eAAc,GACnB,KAAK,YAAW,GAChB,KAAK,WAAU,GACf,KAAK,SAAQ,GACb,KAAK,WAAU,GACf,KAAK,WAAU,GACf,KAAK,gBAAe,CAAE,CACvB;EAEL;AAEa,EAAAA,UAAA,QAAQ,SAAU,MAAiB;AAC9C,QAAM,QAAQ,IAAI,KAAK,KAAK,QAAO,CAAE;AACrC,WAAO;EACT;AAEa,EAAAA,UAAA,aAAa,SAAU,OAAsB;AACxD,QAAM,SAAS,CAAA;AACf,aAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,aAAO,KAAKA,UAAA,MAAM,MAAM,CAAC,CAAC,CAAC;;AAE7B,WAAO;EACT;AAKa,EAAAA,UAAA,OAAO,SAA8B,OAAU;AAC1D,UAAM,KAAK,SAAU,GAAG,GAAC;AACvB,aAAO,EAAE,QAAO,IAAK,EAAE,QAAO;IAChC,CAAC;EACH;AAEa,EAAAA,UAAA,oBAAoB,SAAU,MAAc,KAAU;AAAV,QAAA,QAAA,QAAA;AAAA,YAAA;IAAU;AACjE,QAAM,OAAO,IAAI,KAAK,IAAI;AAC1B,WAAO;MACL,SAAS,KAAK,eAAc,EAAG,SAAQ,GAAI,GAAG,GAAG;MACjD,SAAS,KAAK,YAAW,IAAK,GAAG,GAAG,GAAG;MACvC,SAAS,KAAK,WAAU,GAAI,GAAG,GAAG;MAClC;MACA,SAAS,KAAK,YAAW,GAAI,GAAG,GAAG;MACnC,SAAS,KAAK,cAAa,GAAI,GAAG,GAAG;MACrC,SAAS,KAAK,cAAa,GAAI,GAAG,GAAG;MACrC,MAAM,MAAM;MACZ,KAAK,EAAE;EACX;AAEa,EAAAA,UAAA,oBAAoB,SAAU,OAAa;AACtD,QAAM,KAAK;AACX,QAAM,OAAO,GAAG,KAAK,KAAK;AAE1B,QAAI,CAAC;AAAM,YAAM,IAAI,MAAM,wBAAA,OAAwB,KAAK,CAAE;AAE1D,WAAO,IAAI,KACT,KAAK,IACH,SAAS,KAAK,CAAC,GAAG,EAAE,GACpB,SAAS,KAAK,CAAC,GAAG,EAAE,IAAI,GACxB,SAAS,KAAK,CAAC,GAAG,EAAE,GACpB,SAAS,KAAK,CAAC,GAAG,EAAE,KAAK,GACzB,SAAS,KAAK,CAAC,GAAG,EAAE,KAAK,GACzB,SAAS,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAC3B;EAEL;AACF,GAxLiB,aAAA,WAAQ,CAAA,EAAA;AA0LzB,IAAA,mBAAe;;;ACpLf,IAAA;;EAAA,WAAA;AAQE,aAAAC,YAAY,QAAW,MAAuB;AAL9B,WAAA,UAAuB;AACvB,WAAA,UAAuB;AAChC,WAAA,UAAkB,CAAA;AAClB,WAAA,QAAQ;AAGb,WAAK,SAAS;AACd,WAAK,OAAO;AAEZ,UAAI,WAAW,WAAW;AACxB,aAAK,UAAU,KAAK,MAChB,KAAK,SACL,IAAI,KAAK,KAAK,OAAO,QAAO,IAAK,CAAC;AACtC,aAAK,UAAU,KAAK,MAAM,KAAK,QAAQ,IAAI,KAAK,KAAK,MAAM,QAAO,IAAK,CAAC;iBAC/D,WAAW,UAAU;AAC9B,aAAK,UAAU,KAAK,MAAM,KAAK,KAAK,IAAI,KAAK,KAAK,GAAG,QAAO,IAAK,CAAC;iBACzD,WAAW,SAAS;AAC7B,aAAK,UAAU,KAAK,MAAM,KAAK,KAAK,IAAI,KAAK,KAAK,GAAG,QAAO,IAAK,CAAC;;IAEtE;AAUA,IAAAA,YAAA,UAAA,SAAA,SAAO,MAAU;AACf,QAAE,KAAK;AACP,UAAM,WAAW,KAAK,WAAW,OAAO,KAAK;AAC7C,UAAM,UAAU,KAAK,WAAW,OAAO,KAAK;AAE5C,UAAI,KAAK,WAAW,WAAW;AAC7B,YAAI;AAAU,iBAAO;AACrB,YAAI;AAAS,iBAAO;iBACX,KAAK,WAAW,UAAU;AACnC,YAAI;AAAS,iBAAO;iBACX,KAAK,WAAW,SAAS;AAClC,YAAI;AAAU,iBAAO;AACrB,aAAK,IAAI,IAAI;AACb,eAAO;;AAGT,aAAO,KAAK,IAAI,IAAI;IACtB;AAOA,IAAAA,YAAA,UAAA,MAAA,SAAI,MAAU;AACZ,WAAK,QAAQ,KAAK,IAAI;AACtB,aAAO;IACT;AAQA,IAAAA,YAAA,UAAA,WAAA,WAAA;AACE,UAAM,MAAM,KAAK;AACjB,cAAQ,KAAK,QAAQ;QACnB,KAAK;QACL,KAAK;AACH,iBAAO;QACT,KAAK;QACL,KAAK;QACL;AACE,iBAAQ,IAAI,SAAS,IAAI,IAAI,SAAS,CAAC,IAAI;;IAEjD;AAEA,IAAAA,YAAA,UAAA,QAAA,WAAA;AACE,aAAO,IAAIA,YAAW,KAAK,QAAQ,KAAK,IAAI;IAC9C;AACF,WAAAA;EAAA,EAnFA;;;;;ACDA,IAAIC,iBAAgB,SAAS,GAAG,GAAG;AACjC,EAAAA,iBAAgB,OAAO,kBAClB,EAAE,WAAW,CAAC,EAAE,aAAa,SAAS,SAAUC,IAAGC,IAAG;AAAE,IAAAD,GAAE,YAAYC;AAAA,EAAG,KAC1E,SAAUD,IAAGC,IAAG;AAAE,aAAS,KAAKA,GAAG,KAAI,OAAO,UAAU,eAAe,KAAKA,IAAG,CAAC,EAAG,CAAAD,GAAE,CAAC,IAAIC,GAAE,CAAC;AAAA,EAAG;AACpG,SAAOF,eAAc,GAAG,CAAC;AAC3B;AAEO,SAASG,WAAU,GAAG,GAAG;AAC9B,MAAI,OAAO,MAAM,cAAc,MAAM;AACjC,UAAM,IAAI,UAAU,yBAAyB,OAAO,CAAC,IAAI,+BAA+B;AAC5F,EAAAH,eAAc,GAAG,CAAC;AAClB,WAAS,KAAK;AAAE,SAAK,cAAc;AAAA,EAAG;AACtC,IAAE,YAAY,MAAM,OAAO,OAAO,OAAO,CAAC,KAAK,GAAG,YAAY,EAAE,WAAW,IAAI,GAAG;AACpF;AAEO,IAAII,YAAW,WAAW;AAC/B,EAAAA,YAAW,OAAO,UAAU,SAASA,UAAS,GAAG;AAC7C,aAAS,GAAG,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AACjD,UAAI,UAAU,CAAC;AACf,eAAS,KAAK,EAAG,KAAI,OAAO,UAAU,eAAe,KAAK,GAAG,CAAC,EAAG,GAAE,CAAC,IAAI,EAAE,CAAC;AAAA,IAC/E;AACA,WAAO;AAAA,EACX;AACA,SAAOA,UAAS,MAAM,MAAM,SAAS;AACvC;AA6KO,SAASC,eAAc,IAAI,MAAM,MAAM;AAC5C,MAAI,QAAQ,UAAU,WAAW,EAAG,UAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,IAAI,GAAG,KAAK;AACjF,QAAI,MAAM,EAAE,KAAK,OAAO;AACpB,UAAI,CAAC,GAAI,MAAK,MAAM,UAAU,MAAM,KAAK,MAAM,GAAG,CAAC;AACnD,SAAG,CAAC,IAAI,KAAK,CAAC;AAAA,IAClB;AAAA,EACJ;AACA,SAAO,GAAG,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC;AACzD;;;ACrNA,IAAA;;EAAA,SAAA,QAAA;AAAgD,IAAAC,WAAAC,qBAAA,MAAA;AAG9C,aAAAA,oBACE,QACA,MACA,UAAkB;AAHpB,UAAA,QAKE,OAAA,KAAA,MAAM,QAAQ,IAAI,KAAC;AAEnB,YAAK,WAAW;;IAClB;AAEA,IAAAA,oBAAA,UAAA,MAAA,SAAI,MAAU;AACZ,UAAI,KAAK,SAAS,MAAM,KAAK,QAAQ,MAAM,GAAG;AAC5C,aAAK,QAAQ,KAAK,IAAI;AACtB,eAAO;;AAET,aAAO;IACT;AACF,WAAAA;EAAA,EApBgD,kBAAU;;;;;ACI1D,IAAM,UAAoB;EACxB,UAAU;IACR;IACA;IACA;IACA;IACA;IACA;IACA;;EAEF,YAAY;IACV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EAEF,QAAQ;IACN,MAAM;IACN,QAAQ;IACR,cAAc;IACd,OAAO;IACP,UAAU;IACV,cAAc;IACd,WAAW;IACX,WAAW;IACX,aAAa;IACb,YAAY;IACZ,WAAW;IACX,IAAI;IACJ,IAAI;IACJ,KAAK;IACL,OAAO;IACP,QAAQ;IACR,OAAO;IACP,KAAK;IACL,MAAM;IACN,KAAK;IACL,WAAW;IACX,OAAO;IACP,QAAQ;IACR,SAAS;IACT,WAAW;IACX,UAAU;IACV,QAAQ;IACR,UAAU;IACV,QAAQ;IACR,SAAS;IACT,UAAU;IACV,OAAO;IACP,OAAO;IACP,KAAK;IACL,MAAM;IACN,MAAM;IACN,QAAQ;IACR,WAAW;IACX,SAAS;IACT,UAAU;IACV,UAAU;IACV,OAAO;;;AAIX,IAAA,eAAe;;;ACrEf,IAAM,WAAW,SAAU,KAAe,KAAW;AACnD,SAAO,IAAI,QAAQ,GAAG,MAAM;AAC9B;AAQA,IAAM,iBAA0B,SAAC,IAAE;AAAK,SAAA,GAAG,SAAQ;AAAX;AAIxC,IAAM,uBAAsC,SAC1C,MACA,OACA,KAAW;AACR,SAAA,GAAA,OAAG,OAAK,GAAA,EAAA,OAAI,KAAG,IAAA,EAAA,OAAK,IAAI;AAAxB;AAUL,IAAA;;EAAA,WAAA;AAiBE,aAAAC,QACE,OACA,SACA,UACA,eAAmD;AAFnD,UAAA,YAAA,QAAA;AAAA,kBAAA;MAAiC;AACjC,UAAA,aAAA,QAAA;AAAA,mBAAA;MAA4B;AAC5B,UAAA,kBAAA,QAAA;AAAA,wBAAA;MAAmD;AAEnD,WAAK,OAAO,CAAA;AACZ,WAAK,WAAW,YAAY;AAC5B,WAAK,UAAU;AACf,WAAK,gBAAgB;AACrB,WAAK,QAAQ;AACb,WAAK,UAAU,MAAM;AACrB,WAAK,cAAc,MAAM;AAEzB,UAAI,KAAK,YAAY,YAAY;AAC/B,YAAM,aAAc,CAAA,EAAgB,OAAO,KAAK,QAAQ,UAAU;AAClE,YAAM,cAAe,CAAA,EAAgB,OAAO,KAAK,QAAQ,WAAW;AAEpE,mBAAW,KAAK,SAAC,GAAG,GAAC;AAAK,iBAAA,IAAI;QAAJ,CAAK;AAC/B,oBAAY,KAAK,SAAC,GAAG,GAAC;AAAK,iBAAA,IAAI;QAAJ,CAAK;AAEhC,aAAK,aAAa,WAAW,OAAO,WAAW;AAC/C,YAAI,CAAC,KAAK,WAAW;AAAQ,eAAK,aAAa;;AAGjD,UAAI,UAAU,KAAK,YAAY,SAAS,GAAG;AACzC,YAAM,YAAY,CAAC,QAAQ,KAAK,YAAY,SAAS,IACjD,CAAC,KAAK,YAAY,SAAS,IAC3B,KAAK,YAAY;AACrB,YAAM,OAAO,OAAO,SAAS;AAE7B,aAAK,YAAY;UACf,UAAU,UAAU,OAAO,SAAU,SAAgB;AACnD,mBAAO,CAAC,QAAQ;UAClB,CAAC;UACD,WAAW,UAAU,OAAO,SAAU,SAAgB;AACpD,mBAAO,QAAQ,QAAQ,CAAC;UAC1B,CAAC;UACD,YACE,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM;UACzB,YACE,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM,MACvB,KAAK,QAAQ,IAAI,MAAM;;AAG3B,YAAM,eAAe,SAAU,GAAY,GAAU;AACnD,iBAAO,EAAE,UAAU,EAAE;QACvB;AAEA,aAAK,UAAU,SAAS,KAAK,YAAY;AACzC,aAAK,UAAU,UAAU,KAAK,YAAY;AAE1C,YAAI,CAAC,KAAK,UAAU,SAAS;AAAQ,eAAK,UAAU,WAAW;AAC/D,YAAI,CAAC,KAAK,UAAU,UAAU;AAAQ,eAAK,UAAU,YAAY;aAC5D;AACL,aAAK,YAAY;;IAErB;AAQO,IAAAA,QAAA,qBAAP,SAA0B,OAAY;AACpC,UAAM,aAAa;AAEnB,UAAI,EAAE,MAAM,QAAQ,QAAQA,QAAO;AAAc,eAAO;AACxD,UAAI,MAAM,YAAY,SAAS,MAAM,YAAY;AAAO,eAAO;AAE/D,eAAW,OAAO,MAAM,aAAa;AACnC,YAAI,SAAS,CAAC,WAAW,QAAQ,MAAM,GAAG,GAAG;AAAG,iBAAO;AACvD,YAAI,CAAC,SAASA,QAAO,YAAY,MAAM,QAAQ,IAAI,GAAG,GAAG;AAAG,iBAAO;;AAGrE,aAAO;IACT;AAEA,IAAAA,QAAA,UAAA,qBAAA,WAAA;AACE,aAAOA,QAAO,mBAAmB,KAAK,KAAK;IAC7C;AASA,IAAAA,QAAA,UAAA,WAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,EAAE,KAAK,QAAQ,QAAQA,QAAO,cAAc;AAC9C,eAAO,QAAQ,yDAAyD;;AAG1E,WAAK,OAAO,CAAC,QAAQ,OAAO,CAAC;AAG7B,WAAK,MAAM,YAAY,KAAK,QAAQ,IAAI,CAAC,EAAC;AAE1C,UAAI,KAAK,QAAQ,OAAO;AACtB,aAAK,IAAI,QAAQ,OAAO,CAAC;AACzB,YAAM,QAAQ,KAAK,QAAQ;AAC3B,aAAK,IACH,KAAK,cACH,MAAM,eAAc,GACpB,KAAK,SAAS,WAAW,MAAM,YAAW,CAAE,GAC5C,MAAM,WAAU,CAAE,CACnB;iBAEM,KAAK,QAAQ,OAAO;AAC7B,aAAK,IAAI,QAAQ,KAAK,CAAC,EACpB,IAAI,KAAK,QAAQ,MAAM,SAAQ,CAAE,EACjC,IACC,KAAK,OAAO,KAAK,QAAQ,KAAK,IAAI,QAAQ,OAAO,IAAI,QAAQ,MAAM,CAAC;;AAI1E,UAAI,CAAC,KAAK,mBAAkB;AAAI,aAAK,IAAI,QAAQ,iBAAiB,CAAC;AAEnE,aAAO,KAAK,KAAK,KAAK,EAAE;IAC1B;AAEA,IAAAA,QAAA,UAAA,SAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,KAAK,QAAQ,aAAa;AAAG,aAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE;AAE1E,WAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAAI,QAAQ,OAAO,IAAI,QAAQ,MAAM,CAAC;IAE3E;AAEA,IAAAA,QAAA,UAAA,WAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,KAAK,QAAQ,aAAa;AAAG,aAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE;AAE1E,WAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAC7B,QAAQ,SAAS,IACjB,QAAQ,QAAQ,CAAC;IAEzB;AAEA,IAAAA,QAAA,UAAA,QAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,KAAK,QAAQ,aAAa;AAAG,aAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE;AAE1E,UAAI,KAAK,aAAa,KAAK,UAAU,YAAY;AAC/C,aAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAC7B,QAAQ,UAAU,IAClB,QAAQ,SAAS,CAAC;aAEnB;AACL,aAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAAI,QAAQ,MAAM,IAAI,QAAQ,KAAK,CAAC;;AAIzE,UAAI,KAAK,YAAY,SAAS;AAC5B,aAAK,IAAI,QAAQ,IAAI,CAAC;AACtB,aAAK,SAAQ;;AAGf,UAAI,KAAK,YAAY;AACnB,aAAK,YAAW;iBACP,KAAK,WAAW;AACzB,aAAK,WAAU;iBACN,KAAK,YAAY,QAAQ;AAClC,aAAK,QAAO;;IAEhB;AAEA,IAAAA,QAAA,UAAA,SAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,KAAK,QAAQ,aAAa,GAAG;AAC/B,aAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE,EAAE,IACzC,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAAI,QAAQ,OAAO,IAAI,QAAQ,MAAM,CAAC;;AAI3E,UAAI,KAAK,aAAa,KAAK,UAAU,YAAY;AAC/C,YAAI,KAAK,QAAQ,aAAa,GAAG;AAC/B,eAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAC7B,QAAQ,UAAU,IAClB,QAAQ,SAAS,CAAC;eAEnB;AACL,eAAK,IAAI,QAAQ,IAAI,CAAC,EAAE,IAAI,QAAQ,UAAU,CAAC;;iBAExC,KAAK,aAAa,KAAK,UAAU,YAAY;AACtD,aAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAAI,QAAQ,MAAM,IAAI,QAAQ,KAAK,CAAC;aAElE;AACL,YAAI,KAAK,QAAQ,aAAa;AAAG,eAAK,IAAI,QAAQ,MAAM,CAAC;AAEzD,YAAI,KAAK,YAAY,SAAS;AAC5B,eAAK,IAAI,QAAQ,IAAI,CAAC;AACtB,eAAK,SAAQ;;AAGf,YAAI,KAAK,YAAY;AACnB,eAAK,YAAW;mBACP,KAAK,WAAW;AACzB,eAAK,WAAU;;;IAGrB;AAEA,IAAAA,QAAA,UAAA,UAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,KAAK,YAAY,SAAS;AAC5B,YAAI,KAAK,QAAQ,aAAa,GAAG;AAC/B,eAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE,EAAE,IAAI,QAAQ,QAAQ,CAAC;AAChE,cAAI,KAAK,OAAO,KAAK,QAAQ,QAAQ;AAAG,iBAAK,IAAI,QAAQ,IAAI,CAAC;eACzD;;AAGP,aAAK,SAAQ;aACR;AACL,YAAI,KAAK,QAAQ,aAAa,GAAG;AAC/B,eAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE;;AAE3C,aAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAC7B,QAAQ,QAAQ,IAChB,QAAQ,OAAO,CAAC;;AAGxB,UAAI,KAAK,YAAY;AACnB,aAAK,YAAW;iBACP,KAAK,aAAa,KAAK,UAAU,YAAY;AACtD,aAAK,IAAI,QAAQ,IAAI,CAAC,EAAE,IAAI,QAAQ,UAAU,CAAC;iBACtC,KAAK,WAAW;AACzB,aAAK,WAAU;;IAEnB;AAEA,IAAAA,QAAA,UAAA,SAAA,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,UAAI,KAAK,YAAY,SAAS;AAC5B,YAAI,KAAK,QAAQ,aAAa,GAAG;AAC/B,eAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE;AACzC,eAAK,IAAI,QAAQ,OAAO,CAAC;eACpB;;AAGP,aAAK,SAAQ;aACR;AACL,YAAI,KAAK,QAAQ,aAAa,GAAG;AAC/B,eAAK,IAAI,KAAK,QAAQ,SAAS,SAAQ,CAAE;;AAE3C,aAAK,IACH,KAAK,OAAO,KAAK,QAAQ,QAAQ,IAAI,QAAQ,OAAO,IAAI,QAAQ,MAAM,CAAC;;AAI3E,UAAI,KAAK,YAAY;AACnB,aAAK,YAAW;iBACP,KAAK,WAAW;AACzB,aAAK,WAAU;;AAGjB,UAAI,KAAK,QAAQ,WAAW;AAC1B,aAAK,IAAI,QAAQ,QAAQ,CAAC,EACvB,IAAI,KAAK,KAAK,KAAK,QAAQ,WAAW,KAAK,KAAK,QAAQ,KAAK,CAAC,CAAC,EAC/D,IAAI,QAAQ,KAAK,CAAC;;AAGvB,UAAI,KAAK,QAAQ,UAAU;AACzB,aAAK,IAAI,QAAQ,IAAI,CAAC,EACnB,IACC,KAAK,OAAQ,KAAK,QAAQ,SAAsB,MAAM,IAClD,QAAQ,OAAO,IACf,QAAQ,MAAM,CAAC,EAEpB,IAAI,KAAK,KAAK,KAAK,QAAQ,UAAU,QAAW,QAAQ,KAAK,CAAC,CAAC;;IAEtE;AAEQ,IAAAA,QAAA,UAAA,cAAR,WAAA;AACE,UAAM,UAAU,KAAK;AACrB,UAAI,KAAK,aAAa,KAAK,UAAU,UAAU;AAC7C,aAAK,IAAI,QAAQ,IAAI,CAAC,EACnB,IACC,KAAK,KAAK,KAAK,UAAU,UAAU,KAAK,aAAa,QAAQ,IAAI,CAAC,CAAC,EAEpE,IAAI,QAAQ,KAAK,CAAC,EAClB,IAAI,KAAK,KAAK,KAAK,YAAY,KAAK,KAAK,QAAQ,IAAI,CAAC,CAAC;aACrD;AACL,aAAK,IAAI,QAAQ,QAAQ,CAAC,EAAE,IAC1B,KAAK,KAAK,KAAK,YAAY,KAAK,KAAK,QAAQ,KAAK,CAAC,CAAC;;IAI1D;AAEQ,IAAAA,QAAA,UAAA,aAAR,WAAA;AACE,UAAM,UAAU,KAAK;AACrB,UAAI,KAAK,UAAU,YAAY,CAAC,KAAK,UAAU,YAAY;AACzD,aAAK,IAAI,QAAQ,IAAI,CAAC,EAAE,IACtB,KAAK,KAAK,KAAK,UAAU,UAAU,KAAK,WAAW,CAAC;;AAIxD,UAAI,KAAK,UAAU,WAAW;AAC5B,YAAI,KAAK,UAAU;AAAU,eAAK,IAAI,QAAQ,KAAK,CAAC;AAEpD,aAAK,IAAI,QAAQ,QAAQ,CAAC,EAAE,IAC1B,KAAK,KAAK,KAAK,UAAU,WAAW,KAAK,aAAa,QAAQ,KAAK,CAAC,CAAC;;IAG3E;AAEQ,IAAAA,QAAA,UAAA,UAAR,WAAA;AACE,UAAM,UAAU,KAAK;AAErB,WAAK,IAAI,QAAQ,IAAI,CAAC,EAAE,IACtB,KAAK,KAAK,KAAK,YAAY,QAAQ,QAAW,QAAQ,KAAK,CAAC,CAAC;IAEjE;AAEQ,IAAAA,QAAA,UAAA,WAAR,WAAA;AACE,WAAK,IACH,KAAK,KAAK,KAAK,QAAQ,SAAS,KAAK,WAAW,KAAK,QAAQ,KAAK,CAAC,CAAC;IAExE;AAEA,IAAAA,QAAA,UAAA,MAAA,SAAI,GAAkB;AACpB,UAAI,SAAS,EAAE,SAAQ,GAAI,EAAE;AAC7B,UAAI;AACJ,UAAM,UAAU,KAAK;AAErB,UAAI,MAAM;AAAI,eAAO,QAAQ,MAAM;AAEnC,UAAM,OAAO,KAAK,IAAI,CAAC;AACvB,cAAQ,MAAM;QACZ,KAAK;QACL,KAAK;QACL,KAAK;AACH,gBAAM,OAAO,QAAQ,IAAI;AACzB;QACF,KAAK;QACL,KAAK;AACH,gBAAM,OAAO,QAAQ,IAAI;AACzB;QACF,KAAK;QACL,KAAK;AACH,gBAAM,OAAO,QAAQ,IAAI;AACzB;QACF;AACE,gBAAM,OAAO,QAAQ,IAAI;;AAG7B,aAAO,IAAI,IAAI,MAAM,MAAM,QAAQ,MAAM,IAAI;IAC/C;AAEA,IAAAA,QAAA,UAAA,YAAA,SAAU,GAAS;AACjB,aAAO,KAAK,SAAS,WAAW,IAAI,CAAC;IACvC;AAEA,IAAAA,QAAA,UAAA,cAAA,SAAY,MAAsB;AAChC,UAAM,UAAU,SAAS,IAAI,KAAK,OAAO,KAAK,IAAI,KAAK,aAAY;AACnE,cACI,KAAiB,IAAI,KAAK,IAAK,KAAiB,CAAC,IAAI,MAAM,MAC7D,KAAK,SAAS,SAAS,OAAO;IAElC;AAEA,IAAAA,QAAA,UAAA,SAAA,SAAO,GAAS;AACd,aAAO,IAAI,QAAQ;IACrB;AAEA,IAAAA,QAAA,UAAA,MAAA,SAAI,GAAS;AACX,WAAK,KAAK,KAAK,GAAG;AAClB,WAAK,KAAK,KAAK,CAAC;AAChB,aAAO;IACT;AAEA,IAAAA,QAAA,UAAA,OAAA,SACE,KACA,UACA,YACA,OAAW;AAJb,UAAA,QAAA;AAIE,UAAA,UAAA,QAAA;AAAA,gBAAA;MAAW;AAEX,UAAI,CAAC,QAAQ,GAAG,GAAG;AACjB,cAAM,CAAC,GAAG;;AAEZ,UAAM,YAAY,SAChB,OACA,WACA,gBAAsB;AAEtB,YAAI,OAAO;AAEX,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,cAAI,MAAM,GAAG;AACX,gBAAI,MAAM,MAAM,SAAS,GAAG;AAC1B,sBAAQ,MAAM,iBAAiB;mBAC1B;AACL,sBAAQ,YAAY;;;AAGxB,kBAAQ,MAAM,CAAC;;AAEjB,eAAO;MACT;AAEA,iBACE,YACA,SAAU,GAAC;AACT,eAAO,EAAE,SAAQ;MACnB;AAEF,UAAM,eAAe,SAAC,KAAc;AAClC,eAAO,YAAY,SAAS,KAAK,OAAM,GAAG;MAC5C;AAEA,UAAI,YAAY;AACd,eAAO,UAAU,IAAI,IAAI,YAAY,GAAG,OAAO,UAAU;aACpD;AACL,eAAO,IAAI,IAAI,YAAY,EAAE,KAAK,QAAQ,GAAG;;IAEjD;AACF,WAAAA;EAAA,EA9cA;;;;;AChCA,IAAA;;EAAA,WAAA;AAOE,aAAAC,QAAY,OAA8B;AAFlC,WAAA,OAAO;AAGb,WAAK,QAAQ;IACf;AAEA,IAAAA,QAAA,UAAA,QAAA,SAAM,MAAY;AAChB,WAAK,OAAO;AACZ,WAAK,OAAO;AACZ,aAAO,KAAK,WAAU;IACxB;AAEA,IAAAA,QAAA,UAAA,SAAA,WAAA;AACE,aAAO,KAAK,QAAQ,KAAK,WAAW;IACtC;AAEA,IAAAA,QAAA,UAAA,aAAA,WAAA;AACE,UAAI;AACJ,UAAI;AAEJ,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,SAAG;AACD,YAAI,KAAK;AAAM,iBAAO;AAEtB,YAAI,OAAI;AACR,eAAO;AACP,iBAAW,UAAQ,KAAK,OAAO;AAC7B,iBAAO,KAAK,MAAM,MAAI;AACtB,cAAM,QAAQ,KAAK,KAAK,KAAK,IAAI;AACjC,cAAI,OAAO;AACT,gBAAI,SAAS,QAAQ,MAAM,CAAC,EAAE,SAAS,KAAK,CAAC,EAAE,QAAQ;AACrD,qBAAO;AACP,2BAAa;;;;AAKnB,YAAI,QAAQ,MAAM;AAChB,eAAK,OAAO,KAAK,KAAK,OAAO,KAAK,CAAC,EAAE,MAAM;AAE3C,cAAI,KAAK,SAAS;AAAI,iBAAK,OAAO;;AAGpC,YAAI,QAAQ,MAAM;AAChB,eAAK,OAAO;AACZ,eAAK,SAAS;AACd,eAAK,QAAQ;AACb;;eAEK,eAAe;AAExB,WAAK,SAAS;AACd,WAAK,QAAQ;AACb,aAAO;IACT;AAEA,IAAAA,QAAA,UAAA,SAAA,SAAO,MAAY;AACjB,UAAI,KAAK,WAAW,MAAM;AACxB,YAAI,KAAK,OAAO;AACd,cAAM,IAAI,KAAK;AACf,eAAK,WAAU;AACf,iBAAO;;AAGT,aAAK,WAAU;AACf,eAAO;;AAGT,aAAO;IACT;AAEA,IAAAA,QAAA,UAAA,eAAA,WAAA;AACE,aAAO,KAAK,OAAO,QAAQ;IAC7B;AAEA,IAAAA,QAAA,UAAA,SAAA,SAAO,MAAY;AACjB,UAAI,KAAK,OAAO,IAAI;AAAG,eAAO;AAE9B,YAAM,IAAI,MAAM,cAAc,OAAO,gBAAgB,KAAK,MAAM;IAClE;AACF,WAAAA;EAAA,EAtFA;;AAwFc,SAAP,UAA2B,MAAc,UAA4B;AAA5B,MAAA,aAAA,QAAA;AAAA,eAAA;EAA4B;AAC1E,MAAM,UAA4B,CAAA;AAClC,MAAM,MAAM,IAAI,OAAO,SAAS,MAAM;AAEtC,MAAI,CAAC,IAAI,MAAM,IAAI;AAAG,WAAO;AAE7B,IAAC;AACD,SAAO;AAEP,WAAS,IAAC;AAER,QAAI,OAAO,OAAO;AAClB,QAAM,IAAI,IAAI,aAAY;AAC1B,QAAI;AAAG,cAAQ,WAAW,SAAS,EAAE,CAAC,GAAG,EAAE;AAC3C,QAAI,IAAI,OAAM;AAAI,YAAM,IAAI,MAAM,gBAAgB;AAElD,YAAQ,IAAI,QAAQ;MAClB,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAI,IAAI,WAAU,GAAI;AACpB,aAAE;AACF,YAAC;;AAEH;MAIF,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,gBAAQ,YAAY,CAAC,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,EAAE;AACrE,YAAI,WAAU;AACd,UAAC;AACD;MAEF,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAI,IAAI,WAAU,GAAI;AACpB,aAAE;AACF,YAAC;;AAEH;MAEF,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAI,IAAI,WAAU,GAAI;AACpB,aAAE;AACF,YAAC;;AAEH;MAEF,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAI,IAAI,WAAU,GAAI;AACpB,aAAE;AACF,YAAC;;AAEH;MAEF,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAI,IAAI,WAAU,GAAI;AACpB,aAAE;AACF,YAAC;;AAEH;MAEF,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAI,IAAI,WAAU,GAAI;AACpB,aAAE;AACF,YAAC;;AAEH;MAEF,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,YAAM,MAAkB,IAAI,OACzB,OAAO,GAAG,CAAC,EACX,YAAW;AACd,gBAAQ,YAAY,CAAC,MAAM,GAAG,CAAC;AAE/B,YAAI,CAAC,IAAI,WAAU;AAAI;AAGvB,eAAO,IAAI,OAAO,OAAO,GAAG;AAC1B,cAAI,IAAI,OAAM;AAAI,kBAAM,IAAI,MAAM,gBAAgB;AAElD,cAAM,MAAM,UAAS;AACrB,cAAI,CAAC,KAAK;AACR,kBAAM,IAAI,MACR,uBAAuB,IAAI,SAAS,oBAAoB;;AAI5D,kBAAQ,UAAU,KAAK,MAAM,GAAG,CAAc;AAC9C,cAAI,WAAU;;AAEhB,cAAK;AACL,UAAC;AACD;MAEF,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;AACH,gBAAQ,OAAO,MAAM;AACrB,gBAAQ,UAAU,CAAC,QAAO,CAAY;AAEtC,YAAI,CAAC,IAAI,WAAU;AAAI;AAGvB,eAAO,IAAI,OAAO,OAAO,GAAG;AAC1B,cAAI,IAAI,OAAM;AAAI,kBAAM,IAAI,MAAM,gBAAgB;AAElD,cAAM,IAAI,QAAO;AACjB,cAAI,CAAC,GAAG;AACN,kBAAM,IAAI,MACR,uBAAuB,IAAI,SAAS,kBAAkB;;AAI1D,kBAAQ,QAAQ,KAAK,CAAC;AACtB,cAAI,WAAU;;AAGhB,WAAE;AACF,UAAC;AACD;MAEF;AACE,cAAM,IAAI,MAAM,gBAAgB;;EAEtC;AAEA,WAAS,KAAE;AACT,QAAM,KAAK,IAAI,OAAO,IAAI;AAC1B,QAAM,MAAM,IAAI,OAAO,KAAK;AAC5B,QAAI,EAAE,MAAM;AAAM;AAElB,OAAG;AACD,UAAM,MAAM,UAAS;AACrB,UAAM,MAAM,UAAS;AACrB,UAAM,IAAI,QAAO;AAGjB,UAAI,KAAK;AAGP,YAAI,KAAK;AACP,cAAI,WAAU;AACd,cAAI,CAAC,QAAQ;AAAW,oBAAQ,YAAY,CAAA;AAC1C,kBAAQ,UAA0B,KAClC,MAAM,GAAiB,EAAE,IAAI,GAAG,CAAC;eAE9B;AACL,cAAI,CAAC,QAAQ;AAAY,oBAAQ,aAAa,CAAA;AAC5C,kBAAQ,WAAwB,KAAK,GAAG;AAC1C,cAAI,OAAO,QAAQ;;iBAGZ,KAAK;AACd,YAAI,WAAU;AACd,YAAI,CAAC,QAAQ;AAAW,kBAAQ,YAAY,CAAA;AAC1C,gBAAQ,UAA0B,KAAK,MAAM,GAAiB,CAAC;iBACxD,IAAI,WAAW,cAAc;AACtC,YAAI,WAAU;AACd,YAAI,CAAC,QAAQ,WAAW;AACtB,kBAAQ,YAAY,CAAC,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,EAAE;;iBAE9D,IAAI,WAAW,WAAW;AACnC,YAAI,WAAU;AACd,YAAI,IAAI,IAAI,aAAY;AACxB,YAAI,CAAC,GAAG;AACN,gBAAM,IAAI,MACR,uBAAuB,IAAI,SAAS,wBAAwB;;AAGhE,gBAAQ,WAAW,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,CAAC;AACtC,eAAO,IAAI,OAAO,OAAO,GAAG;AAC1B,cAAI,IAAI,aAAY;AACpB,cAAI,CAAC,GAAG;AACN,kBAAM,IAAI,MACR,uBAAuB,IAAI,SAAS,qBAAqB;;AAG7D,kBAAQ,SAAS,KAAK,SAAS,EAAE,CAAC,GAAG,EAAE,CAAC;;iBAEjC,GAAG;AACZ,YAAI,WAAU;AACd,YAAI,CAAC,QAAQ;AAAS,kBAAQ,UAAU,CAAA;AACtC,gBAAQ,QAAqB,KAAK,CAAC;aAChC;AACL;;aAEK,IAAI,OAAO,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,IAAI,OAAO,IAAI;EACtE;AAEA,WAAS,KAAE;AACT,QAAM,KAAK,IAAI,OAAO,IAAI;AAC1B,QAAI,CAAC;AAAI;AAET,OAAG;AACD,UAAI,IAAI,IAAI,aAAY;AACxB,UAAI,CAAC,GAAG;AACN,cAAM,IAAI,MAAM,uBAAuB,IAAI,SAAS,iBAAiB;;AAEvE,cAAQ,SAAS,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,CAAC;AACpC,aAAO,IAAI,OAAO,OAAO,GAAG;AAC1B,YAAI,IAAI,aAAY;AACpB,YAAI,CAAC,GAAG;AACN,gBAAM,IAAI,MAAM,uBAAuB,IAAI,SAAS,iBAAiB;;AAEvE,gBAAQ,OAAO,KAAK,SAAS,EAAE,CAAC,GAAG,EAAE,CAAC;;aAEjC,IAAI,OAAO,OAAO,KAAK,IAAI,OAAO,IAAI;EACjD;AAEA,WAAS,UAAO;AACd,YAAQ,IAAI,QAAQ;MAClB,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT;AACE,eAAO;;EAEb;AAEA,WAAS,YAAS;AAChB,YAAQ,IAAI,QAAQ;MAClB,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;AACH,eAAO,IAAI,OAAO,OAAO,GAAG,CAAC,EAAE,YAAW;MAC5C;AACE,eAAO;;EAEb;AAEA,WAAS,YAAS;AAChB,YAAQ,IAAI,QAAQ;MAClB,KAAK;AACH,YAAI,WAAU;AACd,eAAO;MACT,KAAK;AACH,YAAI,WAAU;AACd,eAAO;MACT,KAAK;AACH,YAAI,WAAU;AACd,eAAO,IAAI,OAAO,MAAM,IAAI,KAAK;MACnC,KAAK;AACH,YAAI,WAAU;AACd,eAAO,IAAI,OAAO,MAAM,IAAI,KAAK;MACnC,KAAK;AACH,YAAM,IAAI,SAAS,IAAI,MAAM,CAAC,GAAG,EAAE;AACnC,YAAI,IAAI,QAAQ,IAAI;AAAK,gBAAM,IAAI,MAAM,uBAAuB,CAAC;AAEjE,YAAI,WAAU;AACd,eAAO,IAAI,OAAO,MAAM,IAAI,CAAC,IAAI;MAEnC;AACE,eAAO;;EAEb;AAEA,WAAS,QAAK;AACZ,QAAI,OAAO,IAAI;AACf,QAAI,OAAO,KAAK;AAEhB,QAAI,MAAM,UAAS;AACnB,QAAI,CAAC;AAAK;AAEV,YAAQ,aAAa,CAAC,GAAG;AACzB,QAAI,WAAU;AAEd,WAAO,IAAI,OAAO,OAAO,GAAG;AAC1B,YAAM,UAAS;AACf,UAAI,CAAC,KAAK;AACR,cAAM,IAAI,MACR,uBAAuB,IAAI,SAAS,qBAAqB;;AAI7D,cAAQ,WAAW,KAAK,GAAG;AAC3B,UAAI,WAAU;;EAElB;AAEA,WAAS,IAAC;AACR,QAAI,IAAI,WAAW,SAAS;AAC1B,UAAM,OAAO,KAAK,MAAM,IAAI,IAAI;AAEhC,UAAI,CAAC;AAAM,cAAM,IAAI,MAAM,6BAA6B,IAAI,IAAI;AAChE,cAAQ,QAAQ,IAAI,KAAK,IAAI;eACpB,IAAI,OAAO,KAAK,GAAG;AAC5B,cAAQ,QAAQ,SAAS,IAAI,MAAM,CAAC,GAAG,EAAE;AACzC,UAAI,OAAO,QAAQ;;EAGvB;AACF;;;ACnaA,IAAY;CAAZ,SAAYC,YAAS;AACnB,EAAAA,WAAAA,WAAA,QAAA,IAAA,CAAA,IAAA;AACA,EAAAA,WAAAA,WAAA,SAAA,IAAA,CAAA,IAAA;AACA,EAAAA,WAAAA,WAAA,QAAA,IAAA,CAAA,IAAA;AACA,EAAAA,WAAAA,WAAA,OAAA,IAAA,CAAA,IAAA;AACA,EAAAA,WAAAA,WAAA,QAAA,IAAA,CAAA,IAAA;AACA,EAAAA,WAAAA,WAAA,UAAA,IAAA,CAAA,IAAA;AACA,EAAAA,WAAAA,WAAA,UAAA,IAAA,CAAA,IAAA;AACF,GARY,cAAA,YAAS,CAAA,EAAA;AAUf,SAAU,qBACd,MAAe;AAMf,SAAO,OAAO,UAAU;AAC1B;;;AC+DA,IAAM,WAAW,SAAU,MAAc,UAA4B;AAA5B,MAAA,aAAA,QAAA;AAAA,eAAA;EAA4B;AACnE,SAAO,IAAI,MAAM,UAAU,MAAM,QAAQ,KAAK,MAAS;AACzD;AAEA,IAAM,SAAS;EACb;EACA;EACA;EACA;EACA;EACA;;AAGF,eAAO,cAAc,CAAA;AACrB,eAAO,YAAY,UAAU,MAAM,IAAI;AACvC,eAAO,YAAY,UAAU,QAAQ,IAAI;AACzC,eAAO,YAAY,UAAU,KAAK,IAAI,CAAC,QAAQ,EAAE,OAAO,MAAM;AAC9D,eAAO,YAAY,UAAU,MAAM,IAAI;AACvC,eAAO,YAAY,UAAU,OAAO,IAAI;AACxC,eAAO,YAAY,UAAU,MAAM,IAAI,CAAC,YAAY,WAAW,EAAE,OAAO,MAAM;AAM9E,IAAM,SAAS,SACb,OACA,SACA,UACA,eAA6B;AAE7B,SAAO,IAAI,eAAO,OAAO,SAAS,UAAU,aAAa,EAAE,SAAQ;AACrE;AAEQ,IAAA,qBAAuB,eAAM;;;AC/HrC,IAAA;;EAAA,WAAA;AAME,aAAAC,MACE,MACA,QACA,QACA,aAAmB;AAEnB,WAAK,OAAO;AACZ,WAAK,SAAS;AACd,WAAK,SAAS;AACd,WAAK,cAAc,eAAe;IACpC;AAEA,IAAAA,MAAA,UAAA,WAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEA,IAAAA,MAAA,UAAA,aAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEA,IAAAA,MAAA,UAAA,aAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEA,IAAAA,MAAA,UAAA,kBAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEA,IAAAA,MAAA,UAAA,UAAA,WAAA;AACE,cACG,KAAK,OAAO,KAAK,KAAK,KAAK,SAAS,KAAK,KAAK,UAAU,MACzD,KAAK;IAET;AACF,WAAAA;EAAA,EAxCA;;AA0CA,IAAA;;EAAA,SAAA,QAAA;AAA8B,IAAAC,WAAAC,WAAA,MAAA;AAiB5B,aAAAA,UACE,MACA,OACA,KACA,MACA,QACA,QACA,aAAmB;AAPrB,UAAA,QASE,OAAA,KAAA,MAAM,MAAM,QAAQ,QAAQ,WAAW,KAAC;AACxC,YAAK,OAAO;AACZ,YAAK,QAAQ;AACb,YAAK,MAAM;;IACb;AAzBO,IAAAA,UAAA,WAAP,SAAgB,MAAU;AACxB,aAAO,IAAI,KACT,KAAK,eAAc,GACnB,KAAK,YAAW,IAAK,GACrB,KAAK,WAAU,GACf,KAAK,YAAW,GAChB,KAAK,cAAa,GAClB,KAAK,cAAa,GAClB,KAAK,QAAO,IAAK,GAAI;IAEzB;AAiBA,IAAAA,UAAA,UAAA,aAAA,WAAA;AACE,aAAO,SAAS,WAAW,IAAI,KAAK,KAAK,QAAO,CAAE,CAAC;IACrD;AAEA,IAAAA,UAAA,UAAA,UAAA,WAAA;AACE,aAAO,IAAI,KACT,KAAK,IACH,KAAK,MACL,KAAK,QAAQ,GACb,KAAK,KACL,KAAK,MACL,KAAK,QACL,KAAK,QACL,KAAK,WAAW,CACjB,EACD,QAAO;IACX;AAEA,IAAAA,UAAA,UAAA,SAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEA,IAAAA,UAAA,UAAA,WAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEA,IAAAA,UAAA,UAAA,UAAA,WAAA;AACE,aAAO,KAAK;IACd;AAEO,IAAAA,UAAA,UAAA,WAAP,SAAgB,OAAa;AAC3B,WAAK,QAAQ;IACf;AAEO,IAAAA,UAAA,UAAA,YAAP,SAAiB,QAAc;AAC7B,WAAK,SAAS;AACd,UAAI,KAAK,QAAQ,IAAI;AACnB,YAAM,UAAU,KAAK,MAAM,KAAK,QAAQ,EAAE;AAC1C,YAAM,WAAW,MAAM,KAAK,OAAO,EAAE;AACrC,aAAK,QAAQ;AACb,aAAK,QAAQ;AACb,YAAI,KAAK,UAAU,GAAG;AACpB,eAAK,QAAQ;AACb,YAAE,KAAK;;;IAGb;AAEO,IAAAA,UAAA,UAAA,YAAP,SAAiB,MAAc,MAAY;AACzC,UAAI,OAAO,KAAK,WAAU,GAAI;AAC5B,aAAK,OAAO,EAAE,KAAK,WAAU,IAAK,KAAK,IAAI,SAAS,OAAO;aACtD;AACL,aAAK,OAAO,EAAE,KAAK,WAAU,IAAK,QAAQ,OAAO;;AAGnD,WAAK,OAAM;IACb;AAEO,IAAAA,UAAA,UAAA,WAAP,SAAgB,MAAY;AAC1B,WAAK,OAAO;AACZ,WAAK,OAAM;IACb;AAEO,IAAAA,UAAA,UAAA,WAAP,SAAgB,OAAe,UAAmB,QAAgB;AAChE,UAAI,UAAU;AAEZ,aAAK,QAAQ,KAAK,OAAO,KAAK,KAAK,QAAQ,KAAK,IAAI;;AAGtD,iBAAS;AACP,aAAK,QAAQ;AACP,YAAAC,MAAgC,OAAO,KAAK,MAAM,EAAE,GAA7C,SAAMA,IAAA,KAAO,UAAOA,IAAA;AACjC,YAAI,QAAQ;AACV,eAAK,OAAO;AACZ,eAAK,SAAS,MAAM;;AAGtB,YAAI,MAAM,MAAM,KAAK,SAAS,QAAQ,KAAK,IAAI;AAAG;;IAEtD;AAEO,IAAAD,UAAA,UAAA,aAAP,SACE,SACA,UACA,QACA,UAAkB;AAElB,UAAI,UAAU;AAEZ,aAAK,UACH,KAAK,OAAO,QAAQ,KAAK,OAAO,KAAK,KAAK,WAAW,OAAO,IAAI;;AAGpE,iBAAS;AACP,aAAK,UAAU;AACT,YAAAC,MAAmC,OAAO,KAAK,QAAQ,EAAE,GAAlD,UAAOA,IAAA,KAAO,YAASA,IAAA;AACpC,YAAI,SAAS;AACX,eAAK,SAAS;AACd,eAAK,SAAS,SAAS,OAAO,MAAM;;AAGtC,aACG,MAAM,MAAM,KAAK,SAAS,QAAQ,KAAK,IAAI,OAC3C,MAAM,QAAQ,KAAK,SAAS,UAAU,KAAK,MAAM,IAClD;AACA;;;IAGN;AAEO,IAAAD,UAAA,UAAA,aAAP,SACE,SACA,UACA,QACA,UACA,UAAkB;AAElB,UAAI,UAAU;AAEZ,aAAK,UACH,KAAK,OACF,SAAS,KAAK,OAAO,OAAO,KAAK,SAAS,KAAK,KAAK,WACnD,OAAO,IACP;;AAGR,iBAAS;AACP,aAAK,UAAU;AACT,YAAAC,MAAqC,OAAO,KAAK,QAAQ,EAAE,GAApD,YAASA,IAAA,KAAO,YAASA,IAAA;AACtC,YAAI,WAAW;AACb,eAAK,SAAS;AACd,eAAK,WAAW,WAAW,OAAO,QAAQ,QAAQ;;AAGpD,aACG,MAAM,MAAM,KAAK,SAAS,QAAQ,KAAK,IAAI,OAC3C,MAAM,QAAQ,KAAK,SAAS,UAAU,KAAK,MAAM,OACjD,MAAM,QAAQ,KAAK,SAAS,UAAU,KAAK,MAAM,IAClD;AACA;;;IAGN;AAEO,IAAAD,UAAA,UAAA,SAAP,WAAA;AACE,UAAI,KAAK,OAAO,IAAI;AAClB;;AAGF,UAAI,cAAc,SAAS,WAAW,KAAK,MAAM,KAAK,QAAQ,CAAC,EAAE,CAAC;AAClE,UAAI,KAAK,OAAO,aAAa;AAC3B;;AAGF,aAAO,KAAK,MAAM,aAAa;AAC7B,aAAK,OAAO;AACZ,UAAE,KAAK;AACP,YAAI,KAAK,UAAU,IAAI;AACrB,eAAK,QAAQ;AACb,YAAE,KAAK;AACP,cAAI,KAAK,OAAO,SAAS,SAAS;AAChC;;;AAIJ,sBAAc,SAAS,WAAW,KAAK,MAAM,KAAK,QAAQ,CAAC,EAAE,CAAC;;IAElE;AAEO,IAAAA,UAAA,UAAA,MAAP,SAAW,SAAwB,UAAiB;AAC1C,UAAA,OAAqD,QAAO,MAAtD,WAA+C,QAAO,UAA5C,OAAqC,QAAO,MAAtC,SAA+B,QAAO,QAA9B,WAAuB,QAAO,UAApB,WAAa,QAAO;AAEpE,cAAQ,MAAM;QACZ,KAAK,UAAU;AACb,iBAAO,KAAK,SAAS,QAAQ;QAC/B,KAAK,UAAU;AACb,iBAAO,KAAK,UAAU,QAAQ;QAChC,KAAK,UAAU;AACb,iBAAO,KAAK,UAAU,UAAU,IAAI;QACtC,KAAK,UAAU;AACb,iBAAO,KAAK,SAAS,QAAQ;QAC/B,KAAK,UAAU;AACb,iBAAO,KAAK,SAAS,UAAU,UAAU,MAAM;QACjD,KAAK,UAAU;AACb,iBAAO,KAAK,WAAW,UAAU,UAAU,QAAQ,QAAQ;QAC7D,KAAK,UAAU;AACb,iBAAO,KAAK,WAAW,UAAU,UAAU,QAAQ,UAAU,QAAQ;;IAE3E;AACF,WAAAA;EAAA,EA7N8B,IAAI;;;;AChC5B,SAAU,kBAAkB,SAAyB;AACzD,MAAM,UAAoB,CAAA;AAC1B,MAAM,OAAO,OAAO,KAAK,OAAO;AAGhC,WAAkB,KAAA,GAAA,SAAA,MAAA,KAAA,OAAA,QAAA,MAAM;AAAnB,QAAM,MAAG,OAAA,EAAA;AACZ,QAAI,CAAC,SAAS,aAAa,GAAG;AAAG,cAAQ,KAAK,GAAG;AACjD,QAAI,iBAAS,OAAO,QAAQ,GAAG,CAAC,KAAK,CAAC,iBAAS,YAAY,QAAQ,GAAG,CAAC,GAAG;AACxE,cAAQ,KAAK,GAAG;;;AAIpB,MAAI,QAAQ,QAAQ;AAClB,UAAM,IAAI,MAAM,sBAAsB,QAAQ,KAAK,IAAI,CAAC;;AAG1D,SAAAE,UAAA,CAAA,GAAY,OAAO;AACrB;AAEM,SAAU,aAAa,SAAyB;AACpD,MAAM,OAAIA,UAAAA,UAAA,CAAA,GAAQ,eAAe,GAAK,kBAAkB,OAAO,CAAC;AAEhE,MAAI,UAAU,KAAK,QAAQ;AAAG,SAAK,OAAO,MAAM;AAEhD,MAAI,EAAE,UAAU,KAAK,IAAI,KAAK,MAAM,YAAY,KAAK,IAAI,IAAI;AAC3D,UAAM,IAAI,MAAM,sBAAA,OAAsB,KAAK,MAAI,GAAA,EAAA,OAAI,QAAQ,IAAI,CAAE;;AAGnE,MAAI,CAAC,KAAK;AAAS,SAAK,UAAU,IAAI,MAAK,oBAAI,KAAI,GAAG,gBAAgB,CAAC,CAAC;AAExE,MAAI,CAAC,UAAU,KAAK,IAAI,GAAG;AACzB,SAAK,OAAO,MAAM,GAAG;aACZ,SAAS,KAAK,IAAI,GAAG;SAEzB;AACL,SAAK,OAAO,KAAK,KAAK;;AAGxB,MAAI,UAAU,KAAK,QAAQ,GAAG;AAC5B,QAAI,SAAS,KAAK,QAAQ;AAAG,WAAK,WAAW,CAAC,KAAK,QAAQ;AAE3D,aAAS,IAAI,GAAG,IAAI,KAAK,SAAS,QAAQ,KAAK;AAC7C,UAAM,IAAI,KAAK,SAAS,CAAC;AACzB,UAAI,MAAM,KAAK,EAAE,KAAK,QAAQ,KAAK,MAAM;AACvC,cAAM,IAAI,MACR,4DAAiE;;;;AAMzE,MACE,EACE,QAAQ,KAAK,QAAkB,KAC/B,SAAS,KAAK,QAAoB,KAClC,SAAS,KAAK,SAAqB,KACnC,QAAQ,KAAK,UAAU,KACvB,SAAS,KAAK,UAAsB,KACpC,UAAU,KAAK,SAAS,KACxB,UAAU,KAAK,QAAQ,IAEzB;AACA,YAAQ,KAAK,MAAM;MACjB,KAAK,MAAM;AACT,YAAI,CAAC,KAAK;AAAS,eAAK,UAAU,KAAK,QAAQ,YAAW,IAAK;AAC/D,aAAK,aAAa,KAAK,QAAQ,WAAU;AACzC;MACF,KAAK,MAAM;AACT,aAAK,aAAa,KAAK,QAAQ,WAAU;AACzC;MACF,KAAK,MAAM;AACT,aAAK,YAAY,CAAC,iBAAS,WAAW,KAAK,OAAO,CAAC;AACnD;;;AAKN,MAAI,UAAU,KAAK,OAAO,KAAK,CAAC,QAAQ,KAAK,OAAO,GAAG;AACrD,SAAK,UAAU,CAAC,KAAK,OAAO;;AAI9B,MACE,UAAU,KAAK,SAAS,KACxB,CAAC,QAAQ,KAAK,SAAS,KACvB,SAAS,KAAK,SAAS,GACvB;AACA,SAAK,YAAY,CAAC,KAAK,SAAS;;AAIlC,MAAI,CAAC,UAAU,KAAK,UAAU,GAAG;AAC/B,SAAK,aAAa,CAAA;AAClB,SAAK,cAAc,CAAA;aACV,QAAQ,KAAK,UAAU,GAAG;AACnC,QAAM,aAAa,CAAA;AACnB,QAAM,cAAc,CAAA;AAEpB,aAAS,IAAI,GAAG,IAAI,KAAK,WAAW,QAAQ,KAAK;AAC/C,UAAM,IAAI,KAAK,WAAW,CAAC;AAC3B,UAAI,IAAI,GAAG;AACT,mBAAW,KAAK,CAAC;iBACR,IAAI,GAAG;AAChB,oBAAY,KAAK,CAAC;;;AAGtB,SAAK,aAAa;AAClB,SAAK,cAAc;aACV,KAAK,aAAa,GAAG;AAC9B,SAAK,cAAc,CAAC,KAAK,UAAU;AACnC,SAAK,aAAa,CAAA;SACb;AACL,SAAK,cAAc,CAAA;AACnB,SAAK,aAAa,CAAC,KAAK,UAAU;;AAIpC,MAAI,UAAU,KAAK,QAAQ,KAAK,CAAC,QAAQ,KAAK,QAAQ,GAAG;AACvD,SAAK,WAAW,CAAC,KAAK,QAAQ;;AAIhC,MAAI,CAAC,UAAU,KAAK,SAAS,GAAG;AAC9B,SAAK,aAAa;aACT,SAAS,KAAK,SAAS,GAAG;AACnC,SAAK,YAAY,CAAC,KAAK,SAAS;AAChC,SAAK,aAAa;aACT,aAAa,KAAK,SAAS,GAAG;AACvC,SAAK,YAAY,CAAC,QAAQ,QAAQ,KAAK,SAAS,EAAE,OAAO;AACzD,SAAK,aAAa;aACT,KAAK,qBAAqB,SAAS;AAC5C,QAAI,CAAC,KAAK,UAAU,KAAK,KAAK,OAAO,MAAM,SAAS;AAClD,WAAK,YAAY,CAAC,KAAK,UAAU,OAAO;AACxC,WAAK,aAAa;WACb;AACL,WAAK,aAAa,CAAC,CAAC,KAAK,UAAU,SAAS,KAAK,UAAU,CAAC,CAAC;AAC7D,WAAK,YAAY;;SAEd;AACL,QAAM,YAAsB,CAAA;AAC5B,QAAM,aAAa,CAAA;AAEnB,aAAS,IAAI,GAAG,IAAI,KAAK,UAAU,QAAQ,KAAK;AAC9C,UAAM,OAAO,KAAK,UAAU,CAAC;AAE7B,UAAI,SAAS,IAAI,GAAG;AAClB,kBAAU,KAAK,IAAI;AACnB;iBACS,aAAa,IAAI,GAAG;AAC7B,kBAAU,KAAK,QAAQ,QAAQ,IAAI,EAAE,OAAO;AAC5C;;AAGF,UAAI,CAAC,KAAK,KAAK,KAAK,OAAO,MAAM,SAAS;AACxC,kBAAU,KAAK,KAAK,OAAO;aACtB;AACL,mBAAW,KAAK,CAAC,KAAK,SAAS,KAAK,CAAC,CAAC;;;AAG1C,SAAK,YAAY,SAAS,SAAS,IAAI,YAAY;AACnD,SAAK,aAAa,SAAS,UAAU,IAAI,aAAa;;AAIxD,MAAI,CAAC,UAAU,KAAK,MAAM,GAAG;AAC3B,SAAK,SAAS,KAAK,OAAO,MAAM,SAAS,CAAC,KAAK,QAAQ,YAAW,CAAE,IAAI;aAC/D,SAAS,KAAK,MAAM,GAAG;AAChC,SAAK,SAAS,CAAC,KAAK,MAAM;;AAI5B,MAAI,CAAC,UAAU,KAAK,QAAQ,GAAG;AAC7B,SAAK,WACH,KAAK,OAAO,MAAM,WAAW,CAAC,KAAK,QAAQ,cAAa,CAAE,IAAI;aACvD,SAAS,KAAK,QAAQ,GAAG;AAClC,SAAK,WAAW,CAAC,KAAK,QAAQ;;AAIhC,MAAI,CAAC,UAAU,KAAK,QAAQ,GAAG;AAC7B,SAAK,WACH,KAAK,OAAO,MAAM,WAAW,CAAC,KAAK,QAAQ,cAAa,CAAE,IAAI;aACvD,SAAS,KAAK,QAAQ,GAAG;AAClC,SAAK,WAAW,CAAC,KAAK,QAAQ;;AAGhC,SAAO,EAAE,eAAe,KAAqB;AAC/C;AAEM,SAAU,aAAa,MAAmB;AAC9C,MAAM,oBAAoB,KAAK,QAAQ,QAAO,IAAK;AACnD,MAAI,CAAC,qBAAqB,KAAK,IAAI,GAAG;AACpC,WAAO,CAAA;;AAGT,MAAM,UAAkB,CAAA;AACxB,OAAK,OAAO,QAAQ,SAAC,MAAI;AACvB,SAAK,SAAS,QAAQ,SAAC,QAAM;AAC3B,WAAK,SAAS,QAAQ,SAAC,QAAM;AAC3B,gBAAQ,KAAK,IAAI,KAAK,MAAM,QAAQ,QAAQ,iBAAiB,CAAC;MAChE,CAAC;IACH,CAAC;EACH,CAAC;AAED,SAAO;AACT;;;ACtNM,SAAU,YAAY,WAAiB;AAC3C,MAAM,UAAU,UACb,MAAM,IAAI,EACV,IAAI,SAAS,EACb,OAAO,SAAC,GAAC;AAAK,WAAA,MAAM;EAAN,CAAU;AAC3B,SAAAC,UAAAA,UAAA,CAAA,GAAY,QAAQ,CAAC,CAAC,GAAK,QAAQ,CAAC,CAAC;AACvC;AAEM,SAAU,aAAa,MAAY;AACvC,MAAM,UAA4B,CAAA;AAElC,MAAM,kBAAkB,+CAA+C,KACrE,IAAI;AAGN,MAAI,CAAC,iBAAiB;AACpB,WAAO;;AAGA,MAAA,OAAiB,gBAAe,CAAA,GAA1B,UAAW,gBAAe,CAAA;AAEzC,MAAI,MAAM;AACR,YAAQ,OAAO;;AAEjB,UAAQ,UAAU,iBAAS,kBAAkB,OAAO;AACpD,SAAO;AACT;AAEA,SAAS,UAAU,WAAiB;AAClC,cAAY,UAAU,QAAQ,aAAa,EAAE;AAC7C,MAAI,CAAC,UAAU;AAAQ,WAAO;AAE9B,MAAM,SAAS,iBAAiB,KAAK,UAAU,YAAW,CAAE;AAC5D,MAAI,CAAC,QAAQ;AACX,WAAO,WAAW,SAAS;;AAGpB,MAAA,MAAO,OAAM,CAAA;AACtB,UAAQ,IAAI,YAAW,GAAI;IACzB,KAAK;IACL,KAAK;AACH,aAAO,WAAW,SAAS;IAC7B,KAAK;AACH,aAAO,aAAa,SAAS;IAC/B;AACE,YAAM,IAAI,MAAM,wBAAA,OAAwB,KAAG,MAAA,EAAA,OAAO,SAAS,CAAE;;AAEnE;AAEA,SAAS,WAAW,MAAY;AAC9B,MAAM,eAAe,KAAK,QAAQ,YAAY,EAAE;AAChD,MAAM,UAAU,aAAa,YAAY;AAEzC,MAAM,QAAQ,KAAK,QAAQ,uBAAuB,EAAE,EAAE,MAAM,GAAG;AAE/D,QAAM,QAAQ,SAAC,MAAI;AACX,QAAAC,MAAe,KAAK,MAAM,GAAG,GAA5B,MAAGA,IAAA,CAAA,GAAE,QAAKA,IAAA,CAAA;AACjB,YAAQ,IAAI,YAAW,GAAI;MACzB,KAAK;AACH,gBAAQ,OAAO,UAAU,MAAM,YAAW,CAA4B;AACtE;MACF,KAAK;AACH,gBAAQ,OAAO,KAAK,MAAM,YAAW,CAAuB;AAC5D;MACF,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;AACH,YAAM,MAAM,YAAY,KAAK;AAC7B,YAAM,YAAY,IAAI,YAAW;AAGjC,gBAAQ,SAAS,IAAI;AACrB;MACF,KAAK;MACL,KAAK;AACH,gBAAQ,YAAY,aAAa,KAAK;AACtC;MACF,KAAK;MACL,KAAK;AAEH,YAAM,UAAU,aAAa,IAAI;AACjC,gBAAQ,OAAO,QAAQ;AACvB,gBAAQ,UAAU,QAAQ;AAC1B;MACF,KAAK;AACH,gBAAQ,QAAQ,iBAAS,kBAAkB,KAAK;AAChD;MACF,KAAK;AACH,gBAAQ,WAAW,OAAO,KAAK;AAC/B;MACF;AACE,cAAM,IAAI,MAAM,6BAA6B,MAAM,GAAG;;EAE5D,CAAC;AAED,SAAO;AACT;AAEA,SAAS,YAAY,OAAa;AAChC,MAAI,MAAM,QAAQ,GAAG,MAAM,IAAI;AAC7B,QAAM,SAAS,MAAM,MAAM,GAAG;AAC9B,WAAO,OAAO,IAAI,qBAAqB;;AAGzC,SAAO,sBAAsB,KAAK;AACpC;AAEA,SAAS,sBAAsB,OAAa;AAC1C,MAAI,aAAa,KAAK,KAAK,GAAG;AAC5B,WAAO,OAAO,KAAK;;AAGrB,SAAO;AACT;AAEA,SAAS,aAAa,OAAa;AACjC,MAAM,OAAO,MAAM,MAAM,GAAG;AAE5B,SAAO,KAAK,IAAI,SAAC,KAAG;AAClB,QAAI,IAAI,WAAW,GAAG;AAEpB,aAAO,KAAK,GAAwB;;AAItC,QAAM,QAAQ,IAAI,MAAM,4BAA4B;AACpD,QAAI,CAAC,SAAS,MAAM,SAAS,GAAG;AAC9B,YAAM,IAAI,YAAY,2BAAA,OAA2B,GAAG,CAAE;;AAExD,QAAM,IAAI,OAAO,MAAM,CAAC,CAAC;AACzB,QAAM,WAAW,MAAM,CAAC;AACxB,QAAM,OAAO,KAAK,QAAQ,EAAE;AAC5B,WAAO,IAAI,QAAQ,MAAM,CAAC;EAC5B,CAAC;AACH;;;AChJA,IAAA;;EAAA,WAAA;AAIE,aAAAC,cAAY,MAAY,MAAoB;AAC1C,UAAI,MAAM,KAAK,QAAO,CAAE,GAAG;AACzB,cAAM,IAAI,WAAW,qCAAqC;;AAE5D,WAAK,OAAO;AACZ,WAAK,OAAO;IACd;AAEA,WAAA,eAAYA,cAAA,WAAA,SAAK;WAAjB,WAAA;AACE,eAAO,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAW,MAAO;MACnD;;;;AAEO,IAAAA,cAAA,UAAA,WAAP,WAAA;AACE,UAAM,UAAU,iBAAS,kBAAkB,KAAK,KAAK,QAAO,GAAI,KAAK,KAAK;AAC1E,UAAI,CAAC,KAAK,OAAO;AACf,eAAO,SAAA,OAAS,KAAK,MAAI,GAAA,EAAA,OAAI,OAAO;;AAGtC,aAAO,IAAA,OAAI,OAAO;IACpB;AAEO,IAAAA,cAAA,UAAA,UAAP,WAAA;AACE,aAAO,KAAK,KAAK,QAAO;IAC1B;AAEO,IAAAA,cAAA,UAAA,cAAP,WAAA;;AACE,UAAI,KAAK,OAAO;AACd,eAAO,KAAK;;AAGd,UAAM,gBAAgB,KAAK,eAAc,EAAG,gBAAe,EAAG;AAC9D,UAAM,gBAAgB,IAAI,KACxB,KAAK,KAAK,eAAe,QAAW,EAAE,UAAU,cAAa,CAAE,CAAC;AAElE,UAAM,iBAAiB,IAAI,KACzB,KAAK,KAAK,eAAe,QAAW,EAAE,WAAUC,MAAA,KAAK,UAAI,QAAAA,QAAA,SAAAA,MAAI,MAAK,CAAE,CAAC;AAEvE,UAAM,WAAW,eAAe,QAAO,IAAK,cAAc,QAAO;AAEjE,aAAO,IAAI,KAAK,KAAK,KAAK,QAAO,IAAK,QAAQ;IAChD;AACF,WAAAD;EAAA,EA7CA;;;;ACKM,SAAU,gBAAgB,SAAyB;AACvD,MAAM,QAAoB,CAAA;AAC1B,MAAI,UAAU;AACd,MAAM,OAA0B,OAAO,KAAK,OAAO;AACnD,MAAME,eAAc,OAAO,KAAK,eAAe;AAE/C,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,QAAI,KAAK,CAAC,MAAM;AAAQ;AACxB,QAAI,CAAC,SAASA,cAAa,KAAK,CAAC,CAAC;AAAG;AAErC,QAAI,MAAM,KAAK,CAAC,EAAE,YAAW;AAC7B,QAAM,QAAQ,QAAQ,KAAK,CAAC,CAAC;AAC7B,QAAI,WAAW;AAEf,QAAI,CAAC,UAAU,KAAK,KAAM,QAAQ,KAAK,KAAK,CAAC,MAAM;AAAS;AAE5D,YAAQ,KAAK;MACX,KAAK;AACH,mBAAW,MAAM,YAAY,QAAQ,IAAI;AACzC;MACF,KAAK;AACH,YAAI,SAAS,KAAK,GAAG;AACnB,qBAAW,IAAI,QAAQ,KAAK,EAAE,SAAQ;eACjC;AACL,qBAAW,MAAM,SAAQ;;AAE3B;MACF,KAAK;AAYH,cAAM;AACN,mBAAW,QACT,KAAoC,EAEnC,IAAI,SAAC,MAAI;AACR,cAAI,gBAAgB,SAAS;AAC3B,mBAAO;;AAGT,cAAI,QAAQ,IAAI,GAAG;AACjB,mBAAO,IAAI,QAAQ,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;;AAGrC,iBAAO,IAAI,QAAQ,IAAI;QACzB,CAAC,EACA,SAAQ;AAEX;MACF,KAAK;AACH,kBAAU,aAAa,OAAiB,QAAQ,IAAI;AACpD;MAEF,KAAK;AACH,mBAAW,iBAAS,kBAAkB,OAAiB,CAAC,QAAQ,IAAI;AACpE;MAEF;AACE,YAAI,QAAQ,KAAK,GAAG;AAClB,cAAM,YAAsB,CAAA;AAC5B,mBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,sBAAU,CAAC,IAAI,OAAO,MAAM,CAAC,CAAC;;AAEhC,qBAAW,UAAU,SAAQ;eACxB;AACL,qBAAW,OAAO,KAAK;;;AAI7B,QAAI,UAAU;AACZ,YAAM,KAAK,CAAC,KAAK,QAAQ,CAAC;;;AAI9B,MAAM,QAAQ,MACX,IAAI,SAACC,KAAY;QAAXC,OAAGD,IAAA,CAAA,GAAEE,SAAKF,IAAA,CAAA;AAAM,WAAA,GAAA,OAAGC,MAAG,GAAA,EAAA,OAAIC,OAAM,SAAQ,CAAE;EAA1B,CAA4B,EAClD,KAAK,GAAG;AACX,MAAI,aAAa;AACjB,MAAI,UAAU,IAAI;AAChB,iBAAa,SAAA,OAAS,KAAK;;AAG7B,SAAO,CAAC,SAAS,UAAU,EAAE,OAAO,SAAC,GAAC;AAAK,WAAA,CAAC,CAAC;EAAF,CAAG,EAAE,KAAK,IAAI;AAC3D;AAEA,SAAS,aAAa,SAAkB,MAAoB;AAC1D,MAAI,CAAC,SAAS;AACZ,WAAO;;AAGT,SAAO,YAAY,IAAI,aAAa,IAAI,KAAK,OAAO,GAAG,IAAI,EAAE,SAAQ;AACvE;;;ACpGA,SAAS,UACP,MACA,OAA2C;AAE3C,MAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,QAAI,CAAC,MAAM,QAAQ,KAAK;AAAG,aAAO;AAClC,QAAI,KAAK,WAAW,MAAM;AAAQ,aAAO;AACzC,WAAO,KAAK,MAAM,SAAC,MAAM,GAAC;AAAK,aAAA,KAAK,QAAO,MAAO,MAAM,CAAC,EAAE,QAAO;IAAnC,CAAqC;;AAGtE,MAAI,gBAAgB,MAAM;AACxB,WAAO,iBAAiB,QAAQ,KAAK,QAAO,MAAO,MAAM,QAAO;;AAGlE,SAAO,SAAS;AAClB;AAEA,IAAA;;EAAA,WAAA;AAAA,aAAAC,SAAA;AACE,WAAA,MAA0C;AAC1C,WAAA,SAAqB,CAAA;AACrB,WAAA,QAAoB,CAAA;AACpB,WAAA,UAAsB,CAAA;IAiFxB;AA1ES,IAAAA,OAAA,UAAA,YAAP,SACE,MACA,OACA,MAAwB;AAExB,UAAI,OAAO;AACT,gBACE,iBAAiB,OACb,iBAAS,MAAM,KAAK,IACpB,iBAAS,WAAW,KAAK;;AAGjC,UAAI,SAAS,OAAO;AAClB,aAAK,MAAM;aACN;AACL,aAAK,SAAS;AACd,aAAK,IAAI,EAAE,KAAK,IAAgB;;IAEpC;AASO,IAAAA,OAAA,UAAA,YAAP,SACE,MACA,MAAwB;AAExB,UAAI,SAAuC;AAC3C,UAAM,WAAW,OAAQ,OAAO,KAAK,IAAI,IAA2B,CAAA;AACpE,UAAM,gBAAgB,SAAUC,OAAc;AAC5C,iBAASC,KAAI,GAAGA,KAAI,SAAS,QAAQA,MAAK;AACxC,cAAM,MAAM,SAASA,EAAC;AACtB,cAAI,CAAC,UAAU,KAAK,GAAG,GAAGD,MAAK,GAAG,CAAC,GAAG;AACpC,mBAAO;;;AAGX,eAAO;MACT;AAEA,UAAM,eAAe,KAAK,IAAI;AAC9B,UAAI,SAAS,OAAO;AAClB,iBAAS,KAAK;iBACL,QAAQ,YAAY,GAAG;AAGhC,iBAAS,IAAI,GAAG,IAAI,aAAa,QAAQ,KAAK;AAC5C,cAAM,OAAO,aAAa,CAAC;AAC3B,cAAI,SAAS,UAAU,cAAc,IAAI;AAAG;AAC5C,mBAAS,KAAK;AACd;;;AAIJ,UAAI,CAAC,UAAU,KAAK,KAAK;AAGvB,YAAM,aAAa,IAAI,mBAAW,MAAM,IAAI;AAC5C,iBAAS,IAAI,GAAG,IAAK,KAAK,IAAe,QAAQ,KAAK;AACpD,cAAI,CAAC,WAAW,OAAQ,KAAK,IAAe,CAAC,CAAC;AAAG;;AAEnD,iBAAS,WAAW,SAAQ;AAC5B,aAAK,UAAU,MAAM,QAAQ,IAAI;;AAGnC,aAAO,QAAQ,MAAM,IACjB,iBAAS,WAAW,MAAM,IAC1B,kBAAkB,OAClB,iBAAS,MAAM,MAAM,IACrB;IACN;AACF,WAAAD;EAAA,EArFA;;;;ACfA,IAAM,WAAQG,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAA,CAAA,GACT,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,IAAI,EAAE,GAAC,IAAA,GACd,OAAO,IAAI,EAAE,GAAC,IAAA,GACd,OAAO,IAAI,EAAE,GAAC,IAAA,GACd,OAAO,GAAG,CAAC,GAAC,IAAA;AAGjB,IAAM,WAAQA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAA,CAAA,GACT,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,GAAG,EAAE,GAAC,IAAA,GACb,OAAO,IAAI,EAAE,GAAC,IAAA,GACd,OAAO,IAAI,EAAE,GAAC,IAAA,GACd,OAAO,IAAI,EAAE,GAAC,IAAA,GACd,OAAO,GAAG,CAAC,GAAC,IAAA;AAGjB,IAAM,MAAM,MAAM,GAAG,EAAE;AACvB,IAAM,MAAM,MAAM,GAAG,EAAE;AACvB,IAAM,MAAM,MAAM,GAAG,EAAE;AACvB,IAAM,MAAM,MAAM,GAAG,EAAE;AAEvB,IAAM,cAAWA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAA,CAAA,GACZ,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,IAAI,MAAM,GAAG,CAAC,GAAC,IAAA;AAGpB,IAAM,cAAWA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAA,CAAA,GACZ,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,KAAG,IAAA,GACH,IAAI,MAAM,GAAG,CAAC,GAAC,IAAA;AAGpB,IAAM,OAAO,MAAM,KAAK,CAAC;AACzB,IAAM,OAAO,MAAM,KAAK,CAAC;AACzB,IAAM,OAAO,MAAM,KAAK,CAAC;AACzB,IAAM,OAAO,MAAM,KAAK,CAAC;AAEzB,IAAM,eAAYA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAA,CAAA,GACb,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,KAAK,MAAM,GAAG,CAAC,GAAC,IAAA;AAGrB,IAAM,eAAYA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAAA,eAAA,CAAA,GACb,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,MAAI,IAAA,GACJ,KAAK,MAAM,GAAG,CAAC,GAAC,IAAA;AAGrB,IAAM,YAAY,CAAC,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAC7E,IAAM,YAAY,CAAC,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAE7E,IAAM,WAAY,WAAA;AAChB,MAAI,WAAqB,CAAA;AACzB,WAAS,IAAI,GAAG,IAAI,IAAI;AAAK,eAAW,SAAS,OAAO,MAAM,CAAC,CAAC;AAChE,SAAO;AACT,EAAE;;;AC7FI,SAAU,YAAY,MAAc,SAAsB;AAC9D,MAAM,YAAY,IAAI,KAAK,KAAK,IAAI,MAAM,GAAG,CAAC,CAAC;AAE/C,MAAM,UAAU,iBAAS,WAAW,IAAI,IAAI,MAAM;AAClD,MAAM,cAAc,iBAAS,WAAW,OAAO,CAAC,IAAI,MAAM;AAC1D,MAAM,cAAc,iBAAS,UAAU,SAAS;AAChD,MAAM,cAAc,iBAAS,WAAW,SAAS;AAEjD,MAAM,SAAMC,UAAAA,UAAA,EACV,SACA,aACA,aACA,YAAW,GACR,cAAc,IAAI,CAAC,GAAA,EACtB,SAAS,KAAI,CAAA;AAGf,MAAI,MAAM,QAAQ,QAAQ,GAAG;AAC3B,WAAO;;AAGT,SAAO,UAAU,OAAO,GAAG,UAAU,CAAC;AACtC,MAAI;AACJ,MAAI;AACJ,MAAI,UAAW,YAAY,MAAM,IAAI,cAAc,QAAQ,MAAM,CAAC;AAElE,MAAI,WAAW,GAAG;AAChB,cAAU;AAGV,eAAW,OAAO,UAAU,MAAM,cAAc,QAAQ,MAAM,CAAC;SAC1D;AAGL,eAAW,UAAU;;AAGvB,MAAM,MAAM,KAAK,MAAM,WAAW,CAAC;AACnC,MAAM,MAAM,MAAM,UAAU,CAAC;AAC7B,MAAM,WAAW,KAAK,MAAM,MAAM,MAAM,CAAC;AAEzC,WAAS,IAAI,GAAG,IAAI,QAAQ,SAAS,QAAQ,KAAK;AAChD,QAAI,IAAI,QAAQ,SAAS,CAAC;AAC1B,QAAI,IAAI,GAAG;AACT,WAAK,WAAW;;AAElB,QAAI,EAAE,IAAI,KAAK,KAAK,WAAW;AAC7B;;AAGF,QAAI,IAAC;AACL,QAAI,IAAI,GAAG;AACT,UAAI,WAAW,IAAI,KAAK;AACxB,UAAI,YAAY,WAAW;AACzB,aAAK,IAAI;;WAEN;AACL,UAAI;;AAGN,aAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,aAAO,QAAQ,CAAC,IAAI;AACpB;AACA,UAAI,OAAO,SAAS,CAAC,MAAM,QAAQ;AAAM;;;AAI7C,MAAI,SAAS,QAAQ,UAAU,CAAC,GAAG;AAGjC,QAAI,IAAI,UAAU,WAAW;AAC7B,QAAI,YAAY;AAAW,WAAK,IAAI;AACpC,QAAI,IAAI,SAAS;AAGf,eAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,eAAO,QAAQ,CAAC,IAAI;AACpB,aAAK;AACL,YAAI,OAAO,SAAS,CAAC,MAAM,QAAQ;AAAM;;;;AAK/C,MAAI,SAAS;AAOX,QAAI,YAAS;AACb,QAAI,CAAC,SAAS,QAAQ,UAAU,EAAE,GAAG;AACnC,UAAM,eAAe,iBAAS,WAC5B,IAAI,KAAK,KAAK,IAAI,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC;AAGpC,UAAI,WAAW,MAAM,IAAI,aAAa,QAAO,IAAK,QAAQ,MAAM,CAAC;AAEjE,UAAM,WAAW,iBAAS,WAAW,OAAO,CAAC,IAAI,MAAM;AACvD,UAAI,SAAM;AACV,UAAI,YAAY,GAAG;AACjB,mBAAW;AACX,iBAAS,WAAW,MAAM,eAAe,QAAQ,MAAM,CAAC;aACnD;AACL,iBAAS,UAAU;;AAGrB,kBAAY,KAAK,MAAM,KAAK,MAAM,QAAQ,CAAC,IAAI,CAAC;WAC3C;AACL,kBAAY;;AAGd,QAAI,SAAS,QAAQ,UAAU,SAAS,GAAG;AACzC,eAAS,IAAI,GAAG,IAAI,SAAS;AAAK,eAAO,QAAQ,CAAC,IAAI;;;AAI1D,SAAO;AACT;AAEA,SAAS,cAAc,MAAY;AACjC,MAAM,UAAU,iBAAS,WAAW,IAAI,IAAI,MAAM;AAClD,MAAM,YAAY,IAAI,KAAK,KAAK,IAAI,MAAM,GAAG,CAAC,CAAC;AAC/C,MAAM,OAAO,iBAAS,WAAW,SAAS;AAE1C,MAAI,YAAY,KAAK;AACnB,WAAO;MACL,OAAO;MACP,UAAU;MACV,WAAW;MACX,UAAU,SAAS,MAAM,IAAI;MAC7B,QAAQ;;;AAIZ,SAAO;IACL,OAAO;IACP,UAAU;IACV,WAAW;IACX,UAAU,SAAS,MAAM,IAAI;IAC7B,QAAQ;;AAEZ;;;AChKM,SAAU,aACd,MACA,OACA,SACA,QACA,UACA,SAAsB;AAEtB,MAAM,SAAoB;IACxB,UAAU;IACV,WAAW;IACX,WAAW,CAAA;;AAGb,MAAI,SAAqB,CAAA;AACzB,MAAI,QAAQ,SAAS,MAAM,QAAQ;AACjC,QAAI,MAAM,QAAQ,OAAO,GAAG;AAC1B,eAAS,CAAC,CAAC,GAAG,OAAO,CAAC;WACjB;AACL,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,QAAQ,KAAK;AAC/C,gBAAQ,QAAQ,QAAQ,CAAC;AACzB,eAAO,KAAK,OAAO,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC;;;aAGzC,QAAQ,SAAS,MAAM,SAAS;AACzC,aAAS,CAAC,OAAO,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC;;AAG9C,MAAI,MAAM,MAAM,GAAG;AACjB,WAAO;;AAKT,SAAO,YAAY,OAAO,GAAG,OAAO;AAEpC,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAM,OAAO,OAAO,CAAC;AACrB,QAAM,QAAQ,KAAK,CAAC;AACpB,QAAM,OAAO,KAAK,CAAC,IAAI;AAEvB,aAAS,IAAI,GAAG,IAAI,QAAQ,WAAW,QAAQ,KAAK;AAClD,UAAI,IAAC;AACC,UAAAC,MAAY,QAAQ,WAAW,CAAC,GAA/B,OAAIA,IAAA,CAAA,GAAE,IAACA,IAAA,CAAA;AACd,UAAI,IAAI,GAAG;AACT,YAAI,QAAQ,IAAI,KAAK;AACrB,aAAK,MAAM,SAAS,CAAC,IAAI,MAAM,CAAC;aAC3B;AACL,YAAI,SAAS,IAAI,KAAK;AACtB,aAAK,MAAM,IAAI,SAAS,CAAC,IAAI,MAAM,CAAC;;AAEtC,UAAI,SAAS,KAAK,KAAK;AAAM,eAAO,UAAU,CAAC,IAAI;;;AAIvD,SAAO;AACT;;;AClEM,SAAU,OAAO,GAAW,QAAU;AAAV,MAAA,WAAA,QAAA;AAAA,aAAA;EAAU;AAC1C,MAAM,IAAI,IAAI;AACd,MAAM,IAAI,KAAK,MAAM,IAAI,GAAG;AAC5B,MAAM,IAAI,IAAI;AACd,MAAM,IAAI,KAAK,MAAM,IAAI,CAAC;AAC1B,MAAM,IAAI,IAAI;AACd,MAAM,IAAI,KAAK,OAAO,IAAI,KAAK,EAAE;AACjC,MAAM,IAAI,KAAK,OAAO,IAAI,IAAI,KAAK,CAAC;AACpC,MAAM,IAAI,KAAK,MAAM,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE,IAAI;AAChD,MAAM,IAAI,KAAK,MAAM,IAAI,CAAC;AAC1B,MAAM,IAAI,IAAI;AACd,MAAM,IAAI,KAAK,MAAM,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI;AACnD,MAAM,IAAI,KAAK,OAAO,IAAI,KAAK,IAAI,KAAK,KAAK,GAAG;AAChD,MAAM,QAAQ,KAAK,OAAO,IAAI,IAAI,IAAI,IAAI,OAAO,EAAE;AACnD,MAAM,OAAQ,IAAI,IAAI,IAAI,IAAI,OAAO,KAAM;AAC3C,MAAM,OAAO,KAAK,IAAI,GAAG,QAAQ,GAAG,MAAM,MAAM;AAChD,MAAM,YAAY,KAAK,IAAI,GAAG,GAAG,CAAC;AAElC,SAAO,CAAC,KAAK,MAAM,OAAO,cAAc,MAAO,KAAK,KAAK,GAAG,CAAC;AAC/D;;;ACJA,IAAA;;EAAA,WAAA;AAME,aAAAC,UAAoB,SAAsB;AAAtB,WAAA,UAAA;IAAyB;AAE7C,IAAAA,UAAA,UAAA,UAAA,SAAQ,MAAc,OAAa;AACjC,UAAM,UAAU,KAAK;AAErB,UAAI,SAAS,KAAK,UAAU;AAC1B,aAAK,WAAW,YAAY,MAAM,OAAO;;AAG3C,UACE,SAAS,QAAQ,UAAU,MAC1B,UAAU,KAAK,aAAa,SAAS,KAAK,WAC3C;AACM,YAAAC,MAAgC,KAAK,UAAnC,UAAOA,IAAA,SAAE,SAAMA,IAAA,QAAE,WAAQA,IAAA;AACjC,aAAK,YAAY,aACf,MACA,OACA,SACA,QACA,UACA,OAAO;;AAIX,UAAI,UAAU,QAAQ,QAAQ,GAAG;AAC/B,aAAK,aAAa,OAAO,MAAM,QAAQ,QAAQ;;IAEnD;AAEA,WAAA,eAAID,UAAA,WAAA,YAAQ;WAAZ,WAAA;AACE,eAAO,KAAK,YAAY,KAAK,UAAU,WAAW;MACpD;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,aAAS;WAAb,WAAA;AACE,eAAO,KAAK,YAAY,KAAK,UAAU,YAAY;MACrD;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,WAAO;WAAX,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,eAAW;WAAf,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,UAAM;WAAV,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,YAAQ;WAAZ,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,SAAK;WAAT,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,WAAO;WAAX,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,aAAS;WAAb,WAAA;AACE,eAAO,KAAK,YAAY,KAAK,UAAU,YAAY,CAAA;MACrD;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,eAAW;WAAf,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,YAAQ;WAAZ,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,WAAA,eAAIA,UAAA,WAAA,aAAS;WAAb,WAAA;AACE,eAAO,KAAK,SAAS;MACvB;;;;AAEA,IAAAA,UAAA,UAAA,UAAA,WAAA;AACE,aAAO,CAAC,MAAM,KAAK,OAAO,GAAG,GAAG,KAAK,OAAO;IAC9C;AAEA,IAAAA,UAAA,UAAA,UAAA,SAAQ,GAAY,OAAa;AAC/B,UAAM,QAAQ,KAAK,OAAO,QAAQ,CAAC;AACnC,UAAM,MAAM,KAAK,OAAO,KAAK;AAC7B,UAAM,MAAM,OAAsB,MAAM,KAAK,OAAO;AACpD,eAAS,IAAI,OAAO,IAAI,KAAK;AAAK,YAAI,CAAC,IAAI;AAC3C,aAAO,CAAC,KAAK,OAAO,GAAG;IACzB;AAEA,IAAAA,UAAA,UAAA,UAAA,SAAQ,MAAc,OAAe,KAAW;AAE9C,UAAM,MAAM,OAAsB,MAAM,KAAK,UAAU,CAAC;AACxD,UAAI,IACF,iBAAS,UAAU,IAAI,KAAK,KAAK,IAAI,MAAM,QAAQ,GAAG,GAAG,CAAC,CAAC,IAC3D,KAAK;AACP,UAAM,QAAQ;AACd,eAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,YAAI,CAAC,IAAI;AACT,UAAE;AACF,YAAI,KAAK,SAAS,CAAC,MAAM,KAAK,QAAQ;AAAM;;AAE9C,aAAO,CAAC,KAAK,OAAO,CAAC;IACvB;AAEA,IAAAA,UAAA,UAAA,UAAA,SAAQ,MAAc,OAAe,KAAW;AAC9C,UAAM,MAAM,OAAO,MAAM,KAAK,OAAO;AACrC,UAAM,IACJ,iBAAS,UAAU,IAAI,KAAK,KAAK,IAAI,MAAM,QAAQ,GAAG,GAAG,CAAC,CAAC,IAC3D,KAAK;AACP,UAAI,CAAC,IAAI;AACT,aAAO,CAAC,KAAK,GAAG,IAAI,CAAC;IACvB;AAEA,IAAAA,UAAA,UAAA,WAAA,SAAS,MAAc,GAAW,QAAgB,aAAmB;AAArE,UAAA,QAAA;AACE,UAAI,MAAc,CAAA;AAClB,WAAK,QAAQ,SAAS,QAAQ,SAAC,QAAM;AACnC,cAAM,IAAI,OAAO,MAAK,SAAS,MAAM,QAAQ,QAAQ,WAAW,CAAC;MACnE,CAAC;AACD,uBAAS,KAAK,GAAG;AACjB,aAAO;IACT;AAEA,IAAAA,UAAA,UAAA,WAAA,SAAS,MAAc,QAAgB,GAAW,aAAmB;AACnE,UAAM,MAAM,KAAK,QAAQ,SAAS,IAChC,SAAC,QAAM;AAAK,eAAA,IAAI,KAAK,MAAM,QAAQ,QAAQ,WAAW;MAA1C,CAA2C;AAGzD,uBAAS,KAAK,GAAG;AACjB,aAAO;IACT;AAEA,IAAAA,UAAA,UAAA,WAAA,SAAS,MAAc,QAAgB,QAAgB,aAAmB;AACxE,aAAO,CAAC,IAAI,KAAK,MAAM,QAAQ,QAAQ,WAAW,CAAC;IACrD;AAEA,IAAAA,UAAA,UAAA,YAAA,SAAU,MAAe;AACvB,cAAQ,MAAM;QACZ,KAAK,UAAU;AACb,iBAAO,KAAK,QAAQ,KAAK,IAAI;QAC/B,KAAK,UAAU;AACb,iBAAO,KAAK,QAAQ,KAAK,IAAI;QAC/B,KAAK,UAAU;AACb,iBAAO,KAAK,QAAQ,KAAK,IAAI;QAC/B,KAAK,UAAU;AACb,iBAAO,KAAK,QAAQ,KAAK,IAAI;QAC/B;AACE,iBAAO,KAAK,QAAQ,KAAK,IAAI;;IAEnC;AAEA,IAAAA,UAAA,UAAA,aAAA,SACE,MAAgE;AAEhE,cAAQ,MAAM;QACZ,KAAK,UAAU;AACb,iBAAO,KAAK,SAAS,KAAK,IAAI;QAChC,KAAK,UAAU;AACb,iBAAO,KAAK,SAAS,KAAK,IAAI;QAChC,KAAK,UAAU;AACb,iBAAO,KAAK,SAAS,KAAK,IAAI;;IAEpC;AACF,WAAAA;EAAA,EAxKA;;;;;ACVM,SAAU,aACd,UACA,SACA,OACA,KACA,IACA,QAAyB;AAEzB,MAAM,UAAkB,CAAA;AAExB,WAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACxC,QAAI,SAAM;AACV,QAAI,UAAO;AACX,QAAM,MAAM,SAAS,CAAC;AAEtB,QAAI,MAAM,GAAG;AACX,eAAS,KAAK,MAAM,MAAM,QAAQ,MAAM;AACxC,gBAAU,MAAM,KAAK,QAAQ,MAAM;WAC9B;AACL,eAAS,KAAK,OAAO,MAAM,KAAK,QAAQ,MAAM;AAC9C,gBAAU,MAAM,MAAM,GAAG,QAAQ,MAAM;;AAGzC,QAAM,MAAM,CAAA;AACZ,aAAS,IAAI,OAAO,IAAI,KAAK,KAAK;AAChC,UAAM,MAAM,OAAO,CAAC;AACpB,UAAI,CAAC,UAAU,GAAG;AAAG;AACrB,UAAI,KAAK,GAAG;;AAEd,QAAI,IAAC;AACL,QAAI,SAAS,GAAG;AACd,UAAI,IAAI,MAAM,MAAM,EAAE,CAAC;WAClB;AACL,UAAI,IAAI,MAAM;;AAGhB,QAAM,OAAO,QAAQ,OAAO;AAC5B,QAAM,OAAO,iBAAS,YAAY,GAAG,cAAc,CAAC;AACpD,QAAM,MAAM,iBAAS,QAAQ,MAAM,IAAI;AAGvC,QAAI,CAAC,SAAS,SAAS,GAAG;AAAG,cAAQ,KAAK,GAAG;;AAG/C,mBAAS,KAAK,OAAO;AAErB,SAAO;AACT;;;ACzCM,SAAU,KACd,YACA,SAAsB;AAEd,MAAA,UAA6C,QAAO,SAA3C,OAAoC,QAAO,MAArC,WAA8B,QAAO,UAA3B,QAAoB,QAAO,OAApB,WAAa,QAAO;AAE5D,MAAI,QAAQ,QAAQ;AACpB,MAAI,UAAU,KAAK,aAAa,GAAG;AACjC,WAAO,WAAW,UAAU;;AAG9B,MAAM,cAAc,SAAS,SAAS,OAAO;AAE7C,MAAM,KAAK,IAAI,iBAAS,OAAO;AAC/B,KAAG,QAAQ,YAAY,MAAM,YAAY,KAAK;AAE9C,MAAI,UAAU,YAAY,IAAI,aAAa,OAAO;AAElD,aAAS;AACD,QAAAE,MAAuB,GAAG,UAAU,IAAI,EAC5C,YAAY,MACZ,YAAY,OACZ,YAAY,GAAG,GAHV,SAAMA,IAAA,CAAA,GAAE,QAAKA,IAAA,CAAA,GAAE,MAAGA,IAAA,CAAA;AAMzB,QAAM,WAAW,mBAAmB,QAAQ,OAAO,KAAK,IAAI,OAAO;AAEnE,QAAI,SAAS,QAAQ,GAAG;AACtB,UAAM,UAAU,aAAa,UAAU,SAAS,OAAO,KAAK,IAAI,MAAM;AAEtE,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,YAAM,MAAM,QAAQ,CAAC;AACrB,YAAI,SAAS,MAAM,OAAO;AACxB,iBAAO,WAAW,UAAU;;AAG9B,YAAI,OAAO,SAAS;AAClB,cAAM,cAAc,eAAe,KAAK,OAAO;AAC/C,cAAI,CAAC,WAAW,OAAO,WAAW,GAAG;AACnC,mBAAO,WAAW,UAAU;;AAG9B,cAAI,OAAO;AACT,cAAE;AACF,gBAAI,CAAC,OAAO;AACV,qBAAO,WAAW,UAAU;;;;;WAK/B;AACL,eAAS,IAAI,OAAO,IAAI,KAAK,KAAK;AAChC,YAAM,aAAa,OAAO,CAAC;AAC3B,YAAI,CAAC,UAAU,UAAU,GAAG;AAC1B;;AAGF,YAAM,OAAO,iBAAS,YAAY,GAAG,cAAc,UAAU;AAC7D,iBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,cAAM,OAAO,QAAQ,CAAC;AACtB,cAAM,MAAM,iBAAS,QAAQ,MAAM,IAAI;AACvC,cAAI,SAAS,MAAM,OAAO;AACxB,mBAAO,WAAW,UAAU;;AAG9B,cAAI,OAAO,SAAS;AAClB,gBAAM,cAAc,eAAe,KAAK,OAAO;AAC/C,gBAAI,CAAC,WAAW,OAAO,WAAW,GAAG;AACnC,qBAAO,WAAW,UAAU;;AAG9B,gBAAI,OAAO;AACT,gBAAE;AACF,kBAAI,CAAC,OAAO;AACV,uBAAO,WAAW,UAAU;;;;;;;AAOxC,QAAI,QAAQ,aAAa,GAAG;AAC1B,aAAO,WAAW,UAAU;;AAI9B,gBAAY,IAAI,SAAS,QAAQ;AAEjC,QAAI,YAAY,OAAO,iBAAS,SAAS;AACvC,aAAO,WAAW,UAAU;;AAG9B,QAAI,CAAC,qBAAqB,IAAI,GAAG;AAC/B,gBAAU,GAAG,WAAW,IAAI,EAC1B,YAAY,MACZ,YAAY,QACZ,YAAY,QACZ,CAAC;;AAIL,OAAG,QAAQ,YAAY,MAAM,YAAY,KAAK;;AAElD;AAEA,SAAS,WACP,IACA,YACA,SAAsB;AAGpB,MAAA,UAOE,QAAO,SANT,WAME,QAAO,UALT,YAKE,QAAO,WAJT,WAIE,QAAO,UAHT,aAGE,QAAO,YAFT,cAEE,QAAO,aADT,YACE,QAAO;AAEX,SACG,SAAS,OAAO,KAAK,CAAC,SAAS,SAAS,GAAG,MAAM,UAAU,CAAC,KAC5D,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,UAAU,KAC5C,SAAS,SAAS,KAAK,CAAC,SAAS,WAAW,GAAG,SAAS,UAAU,CAAC,KACnE,SAAS,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,UAAU,KAClD,aAAa,QAAQ,CAAC,SAAS,GAAG,YAAY,UAAU,MACvD,SAAS,UAAU,KAAK,SAAS,WAAW,MAC5C,CAAC,SAAS,YAAY,GAAG,SAAS,UAAU,CAAC,KAC7C,CAAC,SAAS,aAAa,GAAG,UAAU,UAAU,CAAC,KAChD,SAAS,SAAS,MACf,aAAa,GAAG,WAChB,CAAC,SAAS,WAAW,aAAa,CAAC,KACnC,CAAC,SAAS,WAAW,CAAC,GAAG,UAAU,UAAU,KAC5C,cAAc,GAAG,WAChB,CAAC,SAAS,WAAW,aAAa,IAAI,GAAG,OAAO,KAChD,CAAC,SAAS,WAAW,CAAC,GAAG,cAAc,aAAa,GAAG,OAAO;AAExE;AAEA,SAAS,eAAe,MAAY,SAAsB;AACxD,SAAO,IAAI,aAAa,MAAM,QAAQ,IAAI,EAAE,YAAW;AACzD;AAEA,SAAS,WAAuC,YAAyB;AACvE,SAAO,WAAW,SAAQ;AAC5B;AAEA,SAAS,mBACP,QACA,OACA,KACA,IACA,SAAsB;AAEtB,MAAI,WAAW;AACf,WAAS,aAAa,OAAO,aAAa,KAAK,cAAc;AAC3D,QAAM,aAAa,OAAO,UAAU;AAEpC,eAAW,WAAW,IAAI,YAAY,OAAO;AAE7C,QAAI;AAAU,aAAO,UAAU,IAAI;;AAGrC,SAAO;AACT;AAEA,SAAS,YACP,IACA,aACA,SAAsB;AAEd,MAAA,OAAqC,QAAO,MAAtC,SAA+B,QAAO,QAA9B,WAAuB,QAAO,UAApB,WAAa,QAAO;AAEpD,MAAI,qBAAqB,IAAI,GAAG;AAC9B,WAAO,aAAa,OAAO;;AAG7B,MACG,QAAQ,MAAM,UACb,SAAS,MAAM,KACf,CAAC,SAAS,QAAQ,YAAY,IAAI,KACnC,QAAQ,MAAM,YACb,SAAS,QAAQ,KACjB,CAAC,SAAS,UAAU,YAAY,MAAM,KACvC,QAAQ,MAAM,YACb,SAAS,QAAQ,KACjB,CAAC,SAAS,UAAU,YAAY,MAAM,GACxC;AACA,WAAO,CAAA;;AAGT,SAAO,GAAG,WAAW,IAAI,EACvB,YAAY,MACZ,YAAY,QACZ,YAAY,QACZ,YAAY,WAAW;AAE3B;;;ACtLO,IAAM,OAAO;EAClB,IAAI,IAAI,QAAQ,CAAC;EACjB,IAAI,IAAI,QAAQ,CAAC;EACjB,IAAI,IAAI,QAAQ,CAAC;EACjB,IAAI,IAAI,QAAQ,CAAC;EACjB,IAAI,IAAI,QAAQ,CAAC;EACjB,IAAI,IAAI,QAAQ,CAAC;EACjB,IAAI,IAAI,QAAQ,CAAC;;AAGZ,IAAM,kBAA2B;EACtC,MAAM,UAAU;EAChB,SAAS;EACT,UAAU;EACV,MAAM,KAAK;EACX,OAAO;EACP,OAAO;EACP,MAAM;EACN,UAAU;EACV,SAAS;EACT,YAAY;EACZ,aAAa;EACb,WAAW;EACX,UAAU;EACV,WAAW;EACX,YAAY;EACZ,QAAQ;EACR,UAAU;EACV,UAAU;EACV,UAAU;;AAGL,IAAM,cAAc,OAAO,KAAK,eAAe;AAQtD,IAAA;;EAAA,WAAA;AAiCE,aAAAC,OAAY,SAAgC,SAAe;AAA/C,UAAA,YAAA,QAAA;AAAA,kBAAA,CAAA;MAA8B;AAAE,UAAA,YAAA,QAAA;AAAA,kBAAA;MAAe;AAEzD,WAAK,SAAS,UAAU,OAAO,IAAI,MAAK;AAGxC,WAAK,cAAc,kBAAkB,OAAO;AACpC,UAAA,gBAAkB,aAAa,OAAO,EAAC;AAC/C,WAAK,UAAU;IACjB;AAEO,IAAAA,OAAA,YAAP,SAAiB,MAAc,UAAmB;AAChD,aAAO,UAAU,MAAM,QAAQ;IACjC;AAEO,IAAAA,OAAA,WAAP,SAAgB,MAAc,UAAmB;AAC/C,aAAO,SAAS,MAAM,QAAQ;IAChC;AAIO,IAAAA,OAAA,aAAP,SAAkB,KAAW;AAC3B,aAAO,IAAIA,OAAMA,OAAM,YAAY,GAAG,KAAK,MAAS;IACtD;AAIU,IAAAA,OAAA,UAAA,QAAV,SACE,YAAyB;AAEzB,aAAO,KAAK,YAAY,KAAK,OAAO;IACtC;AAEQ,IAAAA,OAAA,UAAA,YAAR,SAAkB,MAAyB,MAAwB;AACjE,UAAI,CAAC,KAAK;AAAQ,eAAO;AACzB,aAAO,KAAK,OAAO,UAAU,MAAM,IAAI;IACzC;AAEO,IAAAA,OAAA,UAAA,YAAP,SACE,MACA,OACA,MAAwB;AAExB,UAAI,CAAC,KAAK;AAAQ;AAClB,aAAO,KAAK,OAAO,UAAU,MAAM,OAAO,IAAI;IAChD;AAQA,IAAAA,OAAA,UAAA,MAAA,SAAI,UAA4C;AAC9C,UAAI,UAAU;AACZ,eAAO,KAAK,MAAM,IAAI,2BAAmB,OAAO,CAAA,GAAI,QAAQ,CAAC;;AAG/D,UAAI,SAAS,KAAK,UAAU,KAAK;AACjC,UAAI,WAAW,OAAO;AACpB,iBAAS,KAAK,MAAM,IAAI,mBAAW,OAAO,CAAA,CAAE,CAAC;AAC7C,aAAK,UAAU,OAAO,MAAM;;AAE9B,aAAO;IACT;AAUA,IAAAA,OAAA,UAAA,UAAA,SACE,OACA,QACA,KACA,UAA4C;AAD5C,UAAA,QAAA,QAAA;AAAA,cAAA;MAAW;AAGX,UAAI,CAAC,iBAAS,YAAY,KAAK,KAAK,CAAC,iBAAS,YAAY,MAAM,GAAG;AACjE,cAAM,IAAI,MAAM,yCAAyC;;AAE3D,UAAM,OAAO;QACX;QACA;QACA;;AAGF,UAAI,UAAU;AACZ,eAAO,KAAK,MAAM,IAAI,2BAAmB,WAAW,MAAM,QAAQ,CAAC;;AAGrE,UAAI,SAAS,KAAK,UAAU,WAAW,IAAI;AAC3C,UAAI,WAAW,OAAO;AACpB,iBAAS,KAAK,MAAM,IAAI,mBAAW,WAAW,IAAI,CAAC;AACnD,aAAK,UAAU,WAAW,QAAQ,IAAI;;AAExC,aAAO;IACT;AASA,IAAAA,OAAA,UAAA,SAAA,SAAO,IAAU,KAAW;AAAX,UAAA,QAAA,QAAA;AAAA,cAAA;MAAW;AAC1B,UAAI,CAAC,iBAAS,YAAY,EAAE,GAAG;AAC7B,cAAM,IAAI,MAAM,wCAAwC;;AAE1D,UAAM,OAAO,EAAE,IAAQ,IAAQ;AAC/B,UAAI,SAAS,KAAK,UAAU,UAAU,IAAI;AAC1C,UAAI,WAAW,OAAO;AACpB,iBAAS,KAAK,MAAM,IAAI,mBAAW,UAAU,IAAI,CAAC;AAClD,aAAK,UAAU,UAAU,QAAQ,IAAI;;AAEvC,aAAO;IACT;AASA,IAAAA,OAAA,UAAA,QAAA,SAAM,IAAU,KAAW;AAAX,UAAA,QAAA,QAAA;AAAA,cAAA;MAAW;AACzB,UAAI,CAAC,iBAAS,YAAY,EAAE,GAAG;AAC7B,cAAM,IAAI,MAAM,uCAAuC;;AAEzD,UAAM,OAAO,EAAE,IAAQ,IAAQ;AAC/B,UAAI,SAAS,KAAK,UAAU,SAAS,IAAI;AACzC,UAAI,WAAW,OAAO;AACpB,iBAAS,KAAK,MAAM,IAAI,mBAAW,SAAS,IAAI,CAAC;AACjD,aAAK,UAAU,SAAS,QAAQ,IAAI;;AAEtC,aAAO;IACT;AAMA,IAAAA,OAAA,UAAA,QAAA,WAAA;AACE,aAAO,KAAK,IAAG,EAAG;IACpB;AAQA,IAAAA,OAAA,UAAA,WAAA,WAAA;AACE,aAAO,gBAAgB,KAAK,WAAW;IACzC;AAMA,IAAAA,OAAA,UAAA,SAAA,SACE,SACA,UACA,eAA6B;AAE7B,aAAO,OAAO,MAAM,SAAS,UAAU,aAAa;IACtD;AAEA,IAAAA,OAAA,UAAA,2BAAA,WAAA;AACE,aAAO,mBAAmB,IAAI;IAChC;AAMA,IAAAA,OAAA,UAAA,QAAA,WAAA;AACE,aAAO,IAAIA,OAAM,KAAK,WAAW;IACnC;AA9MgB,IAAAA,OAAA,cAA0C;MACxD;MACA;MACA;MACA;MACA;MACA;MACA;;AAGc,IAAAA,OAAA,SAAS,UAAU;AACnB,IAAAA,OAAA,UAAU,UAAU;AACpB,IAAAA,OAAA,SAAS,UAAU;AACnB,IAAAA,OAAA,QAAQ,UAAU;AAClB,IAAAA,OAAA,SAAS,UAAU;AACnB,IAAAA,OAAA,WAAW,UAAU;AACrB,IAAAA,OAAA,WAAW,UAAU;AAErB,IAAAA,OAAA,KAAK,KAAK;AACV,IAAAA,OAAA,KAAK,KAAK;AACV,IAAAA,OAAA,KAAK,KAAK;AACV,IAAAA,OAAA,KAAK,KAAK;AACV,IAAAA,OAAA,KAAK,KAAK;AACV,IAAAA,OAAA,KAAK,KAAK;AACV,IAAAA,OAAA,KAAK,KAAK;AAoBnB,IAAAA,OAAA,cAAc;AAMd,IAAAA,OAAA,kBAAkB;AA6J3B,WAAAA;IAtNA;;;;AC3DM,SAAU,QACd,YACA,QACA,SACA,QACA,SACA,MAAwB;AAExB,MAAM,cAAwC,CAAA;AAC9C,MAAM,UAAU,WAAW;AAE3B,WAAS,WAAW,OAAa,QAAY;AAC3C,YAAQ,QAAQ,SAAU,OAAK;AAC7B,YAAM,QAAQ,OAAO,QAAQ,IAAI,EAAE,QAAQ,SAAU,MAAI;AACvD,oBAAY,OAAO,IAAI,CAAC,IAAI;MAC9B,CAAC;IACH,CAAC;EACH;AAEA,UAAQ,QAAQ,SAAU,MAAI;AAC5B,QAAMC,aAAY,IAAI,aAAa,MAAM,IAAI,EAAE,YAAW;AAC1D,gBAAY,OAAOA,UAAS,CAAC,IAAI;EACnC,CAAC;AAED,aAAW,SAAS,SAAU,MAAI;AAChC,QAAM,KAAK,OAAO,IAAI;AACtB,QAAI,MAAM,EAAE;AAAG,aAAO,QAAQ,KAAK,MAAM,IAAI;AAC7C,QAAI,CAAC,YAAY,EAAE,GAAG;AACpB,iBAAW,IAAI,KAAK,KAAK,CAAC,GAAG,IAAI,KAAK,KAAK,CAAC,CAAC;AAC7C,UAAI,CAAC,YAAY,EAAE,GAAG;AACpB,oBAAY,EAAE,IAAI;AAClB,eAAO,QAAQ,KAAK,MAAM,IAAI;;;AAGlC,WAAO;EACT;AAEA,MAAI,WAAW,WAAW,WAAW;AACnC,eAAW,WAAW,KAAK,OAAO,WAAW,KAAK,MAAM;AACxD,eAAW,SAAS,SAAU,MAAI;AAChC,UAAM,KAAK,OAAO,IAAI;AACtB,UAAI,CAAC,YAAY,EAAE,GAAG;AACpB,oBAAY,EAAE,IAAI;AAClB,eAAO,QAAQ,KAAK,MAAM,IAAI;;AAEhC,aAAO;IACT;;AAGF,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAM,YAAY,IAAI,aAAa,OAAO,CAAC,GAAG,IAAI,EAAE,YAAW;AAC/D,QAAI,CAAC,WAAW,OAAO,IAAI,KAAK,UAAU,QAAO,CAAE,CAAC;AAAG;;AAGzD,SAAO,QAAQ,SAAU,OAAK;AAC5B,SAAK,YAAY,MAAM,OAAO;EAChC,CAAC;AAED,MAAM,MAAM,WAAW;AACvB,mBAAS,KAAK,GAAG;AACjB,UAAQ,WAAW,QAAQ;IACzB,KAAK;IACL,KAAK;AACH,aAAO;IACT,KAAK;AACH,aAAS,IAAI,UAAU,IAAI,IAAI,SAAS,CAAC,KAAM;IACjD,KAAK;IACL;AACE,aAAS,IAAI,UAAU,IAAI,CAAC,KAAM;;AAExC;;;ACzDA,IAAMC,mBAAmC;EACvC,SAAS;EACT,OAAO;EACP,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,MAAM;;AAGF,SAAU,WAAW,GAAW,SAAiC;AACrE,MAAM,YAAgC,CAAA;AACtC,MAAI,YAAoB,CAAA;AACxB,MAAM,aAAiC,CAAA;AACvC,MAAI,aAAqB,CAAA;AAEzB,MAAM,gBAAgB,aAAa,CAAC;AAC5B,MAAA,UAAY,cAAa;AAC3B,MAAA,OAAS,cAAa;AAE5B,MAAM,QAAQ,eAAe,GAAG,QAAQ,MAAM;AAE9C,QAAM,QAAQ,SAAC,MAAI;;AACjB,QAAI,CAAC;AAAM;AACL,QAAA,KAAyB,cAAc,IAAI,GAAzC,OAAI,GAAA,MAAE,QAAK,GAAA,OAAE,QAAK,GAAA;AAE1B,YAAQ,KAAK,YAAW,GAAI;MAC1B,KAAK;AACH,YAAI,MAAM,QAAQ;AAChB,gBAAM,IAAI,MAAM,2BAAA,OAA2B,MAAM,KAAK,GAAG,CAAC,CAAE;;AAG9D,kBAAU,KAAK,YAAY,IAAI,CAAC;AAChC;MAEF,KAAK;AACG,YAAA,MAAgBC,MAAA,4BAA4B,KAAK,IAAI,OAAC,QAAAA,QAAA,SAAAA,MAAI,CAAA,GAAvD,YAAS,GAAA,CAAA;AAClB,YAAI,aAAa,CAAC,MAAM;AACtB,iBAAO;;AAET,oBAAY,UAAU,OAAO,WAAW,OAAO,KAAK,CAAC;AACrD;MAEF,KAAK;AACH,YAAI,MAAM,QAAQ;AAChB,gBAAM,IAAI,MAAM,4BAAA,OAA4B,MAAM,KAAK,GAAG,CAAC,CAAE;;AAG/D,mBAAW,KAAK,YAAY,KAAK,CAAC;AAClC;MAEF,KAAK;AACH,qBAAa,WAAW,OAAO,WAAW,OAAO,KAAK,CAAC;AACvD;MAEF,KAAK;AACH;MAEF;AACE,cAAM,IAAI,MAAM,2BAA2B,IAAI;;EAErD,CAAC;AAED,SAAO;IACL;IACA;IACA;IACA;IACA;IACA;;AAEJ;AAEA,SAAS,UAAU,GAAW,SAAiC;AACvD,MAAAA,MACJ,WAAW,GAAG,OAAO,GADf,YAASA,IAAA,WAAE,YAASA,IAAA,WAAE,aAAUA,IAAA,YAAE,aAAUA,IAAA,YAAE,UAAOA,IAAA,SAAE,OAAIA,IAAA;AAGnE,MAAM,UAAU,QAAQ,UAAU;AAElC,MAAI,QAAQ,YAAY;AACtB,YAAQ,WAAW;AACnB,YAAQ,SAAS;;AAGnB,MACE,QAAQ,YACR,UAAU,SAAS,KACnB,UAAU,UACV,WAAW,UACX,WAAW,QACX;AACA,QAAM,SAAO,IAAI,SAAS,OAAO;AAEjC,WAAK,QAAQ,OAAO;AACpB,WAAK,KAAK,QAAQ,MAAS;AAE3B,cAAU,QAAQ,SAACC,MAAG;AACpB,aAAK,MAAM,IAAI,MAAM,kBAAkBA,MAAK,SAAS,IAAI,GAAG,OAAO,CAAC;IACtE,CAAC;AAED,cAAU,QAAQ,SAAC,MAAI;AACrB,aAAK,MAAM,IAAI;IACjB,CAAC;AAED,eAAW,QAAQ,SAACA,MAAG;AACrB,aAAK,OAAO,IAAI,MAAM,kBAAkBA,MAAK,SAAS,IAAI,GAAG,OAAO,CAAC;IACvE,CAAC;AAED,eAAW,QAAQ,SAAC,MAAI;AACtB,aAAK,OAAO,IAAI;IAClB,CAAC;AAED,QAAI,QAAQ,cAAc,QAAQ;AAAS,aAAK,MAAM,OAAO;AAC7D,WAAO;;AAGT,MAAM,MAAM,UAAU,CAAC,KAAK,CAAA;AAC5B,SAAO,IAAI,MACT,kBACE,KACA,IAAI,WAAW,QAAQ,WAAW,SAClC,IAAI,QAAQ,QAAQ,QAAQ,IAAI,GAElC,OAAO;AAEX;AAEM,SAAU,SACd,GACA,SAAsC;AAAtC,MAAA,YAAA,QAAA;AAAA,cAAA,CAAA;EAAsC;AAEtC,SAAO,UAAU,GAAGC,mBAAkB,OAAO,CAAC;AAChD;AAEA,SAAS,kBACP,KACA,SACA,MAAoB;AAEpB,SAAAC,UAAAA,UAAA,CAAA,GACK,GAAG,GAAA,EACN,SACA,KAAI,CAAA;AAER;AAEA,SAASD,mBAAkB,SAAiC;AAC1D,MAAM,UAAoB,CAAA;AAC1B,MAAM,OAAO,OAAO,KAAK,OAAO;AAChC,MAAME,eAAc,OAAO,KACzBL,gBAAe;AAGjB,OAAK,QAAQ,SAAU,KAAG;AACxB,QAAI,CAAC,SAASK,cAAa,GAAG;AAAG,cAAQ,KAAK,GAAG;EACnD,CAAC;AAED,MAAI,QAAQ,QAAQ;AAClB,UAAM,IAAI,MAAM,sBAAsB,QAAQ,KAAK,IAAI,CAAC;;AAG1D,SAAAD,UAAAA,UAAA,CAAA,GAAYJ,gBAAe,GAAK,OAAO;AACzC;AAEA,SAAS,YAAY,MAAY;AAC/B,MAAI,KAAK,QAAQ,GAAG,MAAM,IAAI;AAC5B,WAAO;MACL,MAAM;MACN,OAAO;;;AAIL,MAAAC,MAAgB,MAAM,MAAM,KAAK,CAAC,GAAjC,OAAIA,IAAA,CAAA,GAAE,QAAKA,IAAA,CAAA;AAClB,SAAO;IACL;IACA;;AAEJ;AAEA,SAAS,cAAc,MAAY;AAC3B,MAAAA,MAAkB,YAAY,IAAI,GAAhC,OAAIA,IAAA,MAAE,QAAKA,IAAA;AACnB,MAAM,QAAQ,KAAK,MAAM,GAAG;AAC5B,MAAI,CAAC;AAAO,UAAM,IAAI,MAAM,qBAAqB;AAEjD,SAAO;IACL,MAAM,MAAM,CAAC,EAAE,YAAW;IAC1B,OAAO,MAAM,MAAM,CAAC;IACpB;;AAEJ;AAEA,SAAS,eAAe,GAAW,QAAc;AAAd,MAAA,WAAA,QAAA;AAAA,aAAA;EAAc;AAC/C,MAAI,KAAK,EAAE,KAAI;AACf,MAAI,CAAC;AAAG,UAAM,IAAI,MAAM,sBAAsB;AAI9C,MAAI,CAAC,QAAQ;AACX,WAAO,EAAE,MAAM,IAAI;;AAGrB,MAAM,QAAQ,EAAE,MAAM,IAAI;AAC1B,MAAI,IAAI;AACR,SAAO,IAAI,MAAM,QAAQ;AAEvB,QAAM,OAAQ,MAAM,CAAC,IAAI,MAAM,CAAC,EAAE,QAAQ,SAAS,EAAE;AACrD,QAAI,CAAC,MAAM;AACT,YAAM,OAAO,GAAG,CAAC;eACR,IAAI,KAAK,KAAK,CAAC,MAAM,KAAK;AACnC,YAAM,IAAI,CAAC,KAAK,KAAK,MAAM,CAAC;AAC5B,YAAM,OAAO,GAAG,CAAC;WACZ;AACL,WAAK;;;AAIT,SAAO;AACT;AAEA,SAAS,iBAAiB,OAAe;AACvC,QAAM,QAAQ,SAAC,MAAI;AACjB,QAAI,CAAC,+BAA+B,KAAK,IAAI,GAAG;AAC9C,YAAM,IAAI,MAAM,oCAAoC,IAAI;;EAE5D,CAAC;AACH;AAEA,SAAS,WAAW,UAAkB,OAAe;AACnD,mBAAiB,KAAK;AAEtB,SAAO,SACJ,MAAM,GAAG,EACT,IAAI,SAAC,SAAO;AAAK,WAAA,iBAAS,kBAAkB,OAAO;EAAlC,CAAmC;AACzD;;;ACnPA,SAAS,mBAAsB,WAAiB;AAAhD,MAAA,QAAA;AACE,SAAO,SAAC,OAAS;AACf,QAAI,UAAU,QAAW;AACvB,YAAK,IAAA,OAAI,SAAS,CAAE,IAAI;;AAG1B,QAAI,MAAK,IAAA,OAAI,SAAS,CAAE,MAAM,QAAW;AACvC,aAAO,MAAK,IAAA,OAAI,SAAS,CAAE;;AAG7B,aAAS,IAAI,GAAG,IAAI,MAAK,OAAO,QAAQ,KAAK;AAC3C,UAAM,UAAW,MAAK,OAAO,CAAC,EAAE,YAAY,SAAS;AACrD,UAAI,SAAO;AACT,eAAO;;;EAGb;AACF;AAEA,IAAA;;EAAA,SAAA,QAAA;AAA8B,IAAAK,WAAAC,WAAA,MAAA;AAe5B,aAAAA,UAAY,SAAe;AAAf,UAAA,YAAA,QAAA;AAAA,kBAAA;MAAe;AAA3B,UAAA,QACE,OAAA,KAAA,MAAM,CAAA,GAAI,OAAO,KAAC;AAQpB,YAAA,UAAU,mBAAmB,MAAM,OAAM,CAAC,SAAS,CAAC;AACpD,YAAA,OAAO,mBAAmB,MAAM,OAAM,CAAC,MAAM,CAAC;AAP5C,YAAK,SAAS,CAAA;AACd,YAAK,SAAS,CAAA;AACd,YAAK,UAAU,CAAA;AACf,YAAK,UAAU,CAAA;;IACjB;AAKA,IAAAA,UAAA,UAAA,QAAA,SACE,YAAyB;AAEzB,aAAO,QACL,YACA,KAAK,QACL,KAAK,SACL,KAAK,QACL,KAAK,SACL,KAAK,KAAI,CAAE;IAEf;AAOA,IAAAA,UAAA,UAAA,QAAA,SAAM,OAAY;AAChB,eAAS,OAAO,KAAK,MAAM;IAC7B;AAOA,IAAAA,UAAA,UAAA,SAAA,SAAO,OAAY;AACjB,eAAS,OAAO,KAAK,OAAO;IAC9B;AAOA,IAAAA,UAAA,UAAA,QAAA,SAAM,MAAU;AACd,eAAS,MAAM,KAAK,MAAM;IAC5B;AAOA,IAAAA,UAAA,UAAA,SAAA,SAAO,MAAU;AACf,eAAS,MAAM,KAAK,OAAO;IAC7B;AAOA,IAAAA,UAAA,UAAA,SAAA,WAAA;AACE,aAAO,KAAK,OAAO,IAAI,SAAC,GAAC;AAAK,eAAA,SAAS,EAAE,SAAQ,CAAE;MAArB,CAAsB;IACtD;AAOA,IAAAA,UAAA,UAAA,UAAA,WAAA;AACE,aAAO,KAAK,QAAQ,IAAI,SAAC,GAAC;AAAK,eAAA,SAAS,EAAE,SAAQ,CAAE;MAArB,CAAsB;IACvD;AAOA,IAAAA,UAAA,UAAA,SAAA,WAAA;AACE,aAAO,KAAK,OAAO,IAAI,SAAC,GAAC;AAAK,eAAA,IAAI,KAAK,EAAE,QAAO,CAAE;MAApB,CAAqB;IACrD;AAOA,IAAAA,UAAA,UAAA,UAAA,WAAA;AACE,aAAO,KAAK,QAAQ,IAAI,SAAC,GAAC;AAAK,eAAA,IAAI,KAAK,EAAE,QAAO,CAAE;MAApB,CAAqB;IACtD;AAEA,IAAAA,UAAA,UAAA,UAAA,WAAA;AACE,UAAI,SAAmB,CAAA;AAEvB,UAAI,CAAC,KAAK,OAAO,UAAU,KAAK,UAAU;AACxC,iBAAS,OAAO,OAAO,gBAAgB,EAAE,SAAS,KAAK,SAAQ,CAAE,CAAC;;AAGpE,WAAK,OAAO,QAAQ,SAAU,OAAK;AACjC,iBAAS,OAAO,OAAO,MAAM,SAAQ,EAAG,MAAM,IAAI,CAAC;MACrD,CAAC;AAED,WAAK,QAAQ,QAAQ,SAAU,QAAM;AACnC,iBAAS,OAAO,OACd,OACG,SAAQ,EACR,MAAM,IAAI,EACV,IAAI,SAAC,MAAI;AAAK,iBAAA,KAAK,QAAQ,WAAW,SAAS;QAAjC,CAAkC,EAChD,OAAO,SAAC,MAAI;AAAK,iBAAA,CAAC,WAAW,KAAK,IAAI;QAArB,CAAsB,CAAC;MAE/C,CAAC;AAED,UAAI,KAAK,OAAO,QAAQ;AACtB,eAAO,KAAK,eAAe,SAAS,KAAK,QAAQ,KAAK,KAAI,CAAE,CAAC;;AAG/D,UAAI,KAAK,QAAQ,QAAQ;AACvB,eAAO,KAAK,eAAe,UAAU,KAAK,SAAS,KAAK,KAAI,CAAE,CAAC;;AAGjE,aAAO;IACT;AAQA,IAAAA,UAAA,UAAA,WAAA,WAAA;AACE,aAAO,KAAK,QAAO,EAAG,KAAK,IAAI;IACjC;AAKA,IAAAA,UAAA,UAAA,QAAA,WAAA;AACE,UAAM,MAAM,IAAIA,UAAS,CAAC,CAAC,KAAK,MAAM;AAEtC,WAAK,OAAO,QAAQ,SAAC,MAAI;AAAK,eAAA,IAAI,MAAM,KAAK,MAAK,CAAE;MAAtB,CAAuB;AACrD,WAAK,QAAQ,QAAQ,SAAC,MAAI;AAAK,eAAA,IAAI,OAAO,KAAK,MAAK,CAAE;MAAvB,CAAwB;AACvD,WAAK,OAAO,QAAQ,SAAC,MAAI;AAAK,eAAA,IAAI,MAAM,IAAI,KAAK,KAAK,QAAO,CAAE,CAAC;MAAlC,CAAmC;AACjE,WAAK,QAAQ,QAAQ,SAAC,MAAI;AAAK,eAAA,IAAI,OAAO,IAAI,KAAK,KAAK,QAAO,CAAE,CAAC;MAAnC,CAAoC;AAEnE,aAAO;IACT;AACF,WAAAA;EAAA,EAvK8B,KAAK;;AAyKnC,SAAS,SAAS,OAAc,YAAmB;AACjD,MAAI,EAAE,iBAAiB,QAAQ;AAC7B,UAAM,IAAI,UAAU,OAAO,KAAK,IAAI,wBAAwB;;AAG9D,MAAI,CAAC,SAAS,WAAW,IAAI,MAAM,GAAG,OAAO,KAAK,CAAC,GAAG;AACpD,eAAW,KAAK,KAAK;;AAEzB;AAEA,SAAS,SAAS,MAAY,YAAkB;AAC9C,MAAI,EAAE,gBAAgB,OAAO;AAC3B,UAAM,IAAI,UAAU,OAAO,IAAI,IAAI,uBAAuB;;AAE5D,MAAI,CAAC,SAAS,WAAW,IAAI,MAAM,GAAG,OAAO,IAAI,CAAC,GAAG;AACnD,eAAW,KAAK,IAAI;AACpB,qBAAS,KAAK,UAAU;;AAE5B;AAEA,SAAS,eACP,OACA,QACA,MAAwB;AAExB,MAAM,QAAQ,CAAC,QAAQ,KAAK,YAAW,MAAO;AAC9C,MAAM,SAAS,QAAQ,GAAA,OAAG,OAAK,GAAA,IAAM,GAAA,OAAG,OAAK,QAAA,EAAA,OAAS,MAAI,GAAA;AAE1D,MAAM,aAAa,OAChB,IAAI,SAAC,OAAK;AAAK,WAAA,iBAAS,kBAAkB,MAAM,QAAO,GAAI,KAAK;EAAjD,CAAkD,EACjE,KAAK,GAAG;AAEX,SAAO,GAAA,OAAG,MAAM,EAAA,OAAG,UAAU;AAC/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC7Na,WAA6B,SAAC,SAAS,UAAU,cAAc,cAAY;AACtF,MAAI,QAAQ,YAAY,SAAS,YAAY,CAAC,CAAC,cAAc;AAC3D,WAAO;;AAET,SAAO,aAAa,SAAS,QAAQ;AACvC;IAEa,eAET,SAAC,OAAO,OAAK;AAAK,SAAC,QAAQ,MAAO;AAAK;AAE3C,IAAM,yBAEF,SAAC,KAAK,OAAK;AACb,MAAM,YAAY,eAAO,MAAM,IAAI,GAAG,CAAC;AACvC,SAAO;IACL;IACA,eAAO,SAAS,EAAE,KAAK,MAAM,KAAI,CAAE,EAAE,MAAM,KAAK;;AAEpD;IAEa,oBAET,SAAC,cAAc,OAAK;AAAK,SAAA,aAC1B,IAAI,SAAA,KAAG;AAAI,WAAC,QAAQ,IAAI,IAAI;EAAG,CAAC,EAChC,KAAK,SAAC,GAAG,GAAC;AAAK,WAAA,IAAI;EAAC,CAAA,EACpB,OAAO,SAAC,KAAK,KAAK,GAAG,SAAO;AAC3B,QAAI,KAAK,QAAQ,QAAQ,IAAI,CAAC,IAAI,GAAG;AACnC,UAAI,IAAI,SAAS,CAAC,EAAE,CAAC,EAAE,IAAI,GAAG;WACzB;AACL,UAAI,KAAK,uBAAuB,KAAK,KAAK,CAAC;;AAE7C,WAAO;EACT,GAAG,CAAA,CAAgB;AAAC;AAEtB,IAAM,aAAa,SACjB,MAAqB,UAAkB;AACpC,SAAA,KAAK,UAAU,SAAS,CAAC,GAAG,SAAS,CAAC,GAAG,QAAW,IAAI;AAAC;IAEjD,gBAAiC,SAC5C,aAAa,MAAM,OACnB,cACA,0BAAgC;AADhC,MAAA,iBAAA,QAAA;AAAA,mBAAA,CAAA;EAAiB;AACjB,MAAA,6BAAA,QAAA;AAAA,+BAAA;EAAgC;AAExB,MAAA,QAAe,YAAW,OAAnB,MAAQ,YAAW;AAClC,MAAM,0BAA0B,IAAI,QAAQ,IAAY,KACnD,MAAM,SAAS,KAAa;AAEjC,MAAM,8BAA8B,CAAC,CAAC,kBAAkB,cAAc,eAAO,IAAY,CAAC,EACvF,KAAK,SAAA,UAAQ;AAAI,WAAC,WAAW,OAAO,QAAQ,KAAK,WAAW,KAAK,QAAQ;EAAC,CAAC;AAC9E,MAAM,4BAA4B,2BAC9B,eAAO,GAAG,EAAE,KAAK,OAAO,OAAO,IAAI,MAAM,CAAC,YAAY,SACtD;AAEJ,SAAO,2BAA2B,CAAC,+BAA+B;AACpE;IAEa,2BAAuD,SAClE,aAAa,gBAAgB,cAAiB;AAAjB,MAAA,iBAAA,QAAA;AAAA,mBAAA,CAAA;EAAiB;AAE9C,MAAM,gBAAgB,eAAO,OAAM;AACnC,iBAAO,aAAa,cAAc;IAChC,MAAM,EAAE,KAAK,gBAAgB,KAAK,EAAC;;GACpC;AACD,MAAM,kBAAkB,eAAO,WAAmB,EAAE,QAAQ,MAAM;AAClE,MAAI,aAAa,QAAQ,cAAc,MAAM,IAAI;AAC/C,iBAAa,MAAK,EAAG,KAAI,EAAG,QAAQ,SAAC,KAAG;AACtC,UAAI,QAAQ,gBAAgB,IAAG,GAAI;AACjC,wBAAgB,IAAI,GAAG,MAAM;;KAEhC;;AAEH,iBAAO,OAAO,aAAa;AAE3B,SAAO,gBAAgB,OAAM;AAC/B;IAEa,sBAET,SAACC,KAGJ;MAFC,MAAGA,IAAA,KAAE,OAAIA,IAAA,MACT,QAAKA,IAAA,OAAE,SAAMA,IAAA;AAEb,MAAM,YAAY,cAAA,OAAc,KAAG,KAAA;AACnC,SAAQ;IACN;IACA,OAAO,GAAA,OAAG,OAAK,GAAA;IACf;IACA,aAAa;IACb,MAAM,GAAA,OAAG,MAAI,GAAA;IACb,UAAU;;AAEd;AAEA,IAAM,8BAA8B,SAClC,aAAgC,WAAiB,YAAgB;AAEjE,MAAM,gBAAgB,eAAO,WAAW,UAAU,CAAC,EAAE,OAAM;AAC3D,MAAM,eAAe,eAAO,WAAW,SAAS,CAAC,EAAE,OAAM;AACzD,MAAM,uBAAuB,eAAO,YAAY,KAAK,EAAE,OAAM;AAC7D,MAAM,UAAOC,UAAAA,UAAA,CAAA,GACR,MAAM,YAAY,YAAY,KAAK,CAAC,GAAA,EACvC,SAAS,eAAO,WAAW,oBAAoB,CAAC,EAAE,OAAM,EAAE,CAAA;AAE5D,MAAM,mBAAmB,QAAQ,gCACxB,OAAO,GAAA,EAAE,OAAO,eAAO,WAAW,QAAQ,KAAK,CAAC,EAAE,OAAM,EAAE,CAAA,IAC/D;AAEJ,MAAM,WAAW,uBAAuB,YAAY,MAAM;AAE1D,WAAS,MAAM,IAAI,MAAM,gBAAgB,CAAC;AAI1C,MAAM,oBAAoB,SAAS,QAAQ,cAAsB,eAAuB,IAAI,EACzF,IAAI,kBAAkB;AACzB,MAAI,kBAAkB,WAAW;AAAG,WAAO,CAAA;AAE3C,MAAM,sBAAsB,eAAO,YAAY,GAAG,EAC/C,KAAK,YAAY,OAAO,SAAS;AAEpC,SAAO,kBAAkB,IAAI,SAAC,WAAW,OAAK;AAAK,WAAAA,UAAAA,UAAA,CAAA,GAC9C,WAAW,GAAA,EACd,UAAQA,UAAAA,UAAA,CAAA,GACH,YAAY,QAAQ,GAAA,EACvB,WAAW,eAAO,SAAS,EAAE,OAAM,GACnC,SAAS,eAAO,SAAS,EAAE,IAAI,qBAAqB,SAAS,EAAE,OAAM,GACrE,YAAY,YAAY,SAAQ,CAAA,GAElC,OAAO,eAAO,SAAS,GACvB,KAAK,eAAO,SAAS,EAAE,IAAI,qBAAqB,SAAS,GACzD,KAAK,GAAA,OAAG,YAAY,KAAG,OAAA,EAAA,OAAQ,KAAK,EAAE,CAAA;EAAA,CACtC;AACJ;IAEa,yBAET,SAAC,aAAa,WAAW,YAAY,cAAc,cAAY;AACjE,MAAIC,gBAAe,CAAC,WAAW;AAC/B,MAAI,YAAY,OAAO;AACrB,IAAAA,gBAAe,4BACb,aAAkC,WAAmB,UAAkB;;AAG3E,SAAOA,cAAa,OAAO,SAAA,MAAI;AAAI,WAAA,cACjC,MAAM,WAAW,YAAY,cAAc,YAAY;EACxD,CAAA;AACH;IAEa,aAA2C,SAAA,MAAI;AAC1D,SAAA,KAAK,IACH,KAAK,YAAW,GAChB,KAAK,SAAQ,GACb,KAAK,QAAO,GACZ,KAAK,SAAQ,GACb,KAAK,WAAU,CAAE;AALnB;IAQW,yBAET,SAAC,QAAM;AACT,MAAM,WAAW,IAAI,SAAQ;AAC7B,MAAI,QAAQ;AACV,WAAO,MAAM,GAAG,EAAE,IAAI,SAAC,MAAY;AACjC,UAAM,gBAAgB,eAAO,IAAI,EAAE,OAAM;AACzC,eAAS,OAAO,eAAO,WAAW,aAAa,CAAC,EAAE,OAAM,CAAE;KAC3D;;AAEH,SAAO;AACT;IAEa,qBAAqB,SAAC,MAA4B;AAAK,SAAA,eAAO,IAAI,IAAI,EAAE,OAAO,kBAAkB;AAAC;IAElG,eAET,SAAC,SAAS,YAAU;AAAK,SAAA,GAAA,OAAG,SAAO,GAAA,EAAA,OAAI,WAAW,OAAM,EAAG,SAAQ,CAAE;AAAE;ICtL9D,gBAAgB;IAChB,kBAAkB;IAElBC,iBAAgB;IAChB,kBAAkB;IAElB,UAAU;IACV,UAAU;IACV,QAAQ;IAER,aAAa;IACb,gBAAgB;IAEhB,iBAAiB;IACjB,eAAe;IAEf,cAAc;AAE3B,IAAa,cAAc,EAAE,KAAK,UAAS;AAC3C,IAAa,mBAAmB,EAAE,SAAS,QAAO;AAClD,IAAa,sBAAsB,EAAE,OAAO,QAAO;IACtC,sBAAsB,EAAE,MAAM,WAAW,QAAQ,UAAS;IAC1D,qBAAqB,EAAE,OAAO,QAAQ,MAAM,UAAS;IACrD,0BAA0B,EAAE,KAAK,WAAW,OAAO,QAAO;IAC1D,gCAAgC,EAAE,OAAO,SAAS,MAAM,UAAS;IACjE,iCAAiC,EAAE,OAAO,SAAS,MAAM,UAAS;AAC/E,IAAa,mCAAmC;EAC9C,KAAK;EAAW,OAAO;EAAQ,MAAM;;AAEvC,IAAa,oCAAoC;EAC/C,KAAK;EAAW,OAAO;EAAS,MAAM;;AAExC,IAAa,qCAAqC;EAChD,KAAK;EAAW,OAAO;EAAS,MAAM;;AAExC,IAAa,wBAAwB,EAAE,SAAS,OAAM;AACtD,IAAa,qBAAqB,EAAE,OAAO,OAAM;IACpC,yBAAyB,EAAE,KAAK,WAAW,OAAO,OAAM;IACxD,gBAAgB,CAAA;AAE7B,IAAa,wBAAwB;EACnC,KAAK;EACL,uBAAuB;EACvB,SAAS;;IAGE,qCAAqC;IACrC,wCAAwC;IAExC,mBAAmB;IAEnB,4BAA4B;IAC5B,8BAA8B;IAE9B,6BAA6B;IAC7B,+BAA+B;AAE5C,IAAa,aAAa;EACxB,OAAO;EACP,MAAM;EACN,KAAK;EACL,eAAe;;ICzCJ,aAET,SAAC,MAAI;AACP,MAAM,aAAa,eAAO,IAAY;AACtC,SAAO,WAAW,MAAK,MAAO,KAAK,WAAW,QAAO,MAAO,KAAK,WAAW,QAAO,MAAO;AAC5F;AAEA,IAAM,sBAEF,SAACC,gBAAeC,cAAa,YAAY,mBAAiB;AAC5D,MAAM,sBAAsB,eAAOD,cAAqB;AACxD,MAAM,oBAAoB,eAAOC,YAAmB;AAEpD,MAAI,oBAAoB,OAAO,mBAAmB,KAAK,GAAG;AACxD,WAAO,WAAW,oBAAoB,OAAM,GAAEC,UAAAA,UAAA,CAAA,GACzC,gCAAgC,GAAK,iBAAiB,CAAA;;AAG7D,MAAI,oBAAoB,OAAO,mBAAmB,MAAM,GAAG;AACzD,QAAI,oBAAoB,OAAO,mBAAmB,OAAO,GAAG;AAC1D,aAAO,GAAA,OACL,WAAW,oBAAoB,OAAM,GAAI,WAAW,GAAC,GAAA,EAAA,OAErD,WAAW,kBAAkB,OAAM,GAAI,WAAW,GAAC,GAAA,EAAA,OAEnD,WAAW,kBAAkB,OAAM,GAAI,kBAAkB,CAAC;;AAG9D,WAAO,GAAA,OACL,WAAW,oBAAoB,OAAM,GAAI,uBAAuB,GAAC,KAAA,EAAA,OAEjE,WAAW,kBAAkB,OAAM,GAAI,iCAAiC,CAAC;;AAG7E,SAAO,GAAA,OACL,WAAW,oBAAoB,OAAM,GAAI,kCAAkC,GAAC,KAAA,EAAA,OAE5E,WAAW,kBAAkB,OAAM,GAAI,kCAAkC,CAAC;AAE9E;AAEA,IAAM,wBAEF,SAAC,aAAa,eAAe,YAAU;AACzC,MAAM,oBAAoB,eAAO,WAAmB;AAEpD,MAAI,kBAAkB,GAAG;AACvB,WAAO,WAAW,kBAAkB,OAAM,GAAI,kBAAkB;;AAElE,MAAM,YAAY,kBAAkB,MAAK,EAAG,IAAI,gBAAgB,GAAG,OAAO;AAC1E,MAAI,kBAAkB,OAAO,WAAW,MAAM,GAAG;AAC/C,WAAO,GAAA,OACL,WAAW,kBAAkB,OAAM,GAAI,mBAAmB,GAAC,GAAA,EAAA,OAE3D,WAAW,UAAU,OAAM,GAAI,6BAA6B,CAAC;;AAGjE,SAAO,GAAA,OACL,WAAW,kBAAkB,OAAM,GAAI,8BAA8B,GAAC,KAAA,EAAA,OAEtE,WAAW,UAAU,OAAM,GAAI,8BAA8B,CAAC;AAElE;AAEA,IAAa,gBAAiC,SAC5CF,gBAAeC,cAAa,MAAM,aAAa,eAAe,YAAU;AACrE,SAAC,SAAS,UACX,oBACAD,gBAAeC,cAAa,YAC5B,SAAS,mBAAmB,wBAAwB,aAAa,IAEjE,sBAAsB,aAAa,eAAe,UAAU;AAAC;IAGpD,wBAET,SAAC,MAAM,aAAW;AAAK,SAAA,KAAK,eAC5B,KAAK,aAAa,MAAM,SAAC,OAAY;AAAK,WAC1C,MAAM,OAAO,YAAY,MAAM,SAAS;EAAC,CAC1C,IACC;AAAI;IAEK,cAET,SAAA,MAAI;AAAI,SAAA,eAAO,IAAY,EAAE,QAAO;AAAE;IAE7B,kBAET,SAAA,MAAI;AAAI,SAAA,eAAO,IAAyB;AAAC;IAEhC,eAET,SAAC,WAAW,YAAU;AAAK,SAAA,eAAO,SAA8B,EACjE,OAAO,YAAiC,MAAM;AAAC;IAErC,qBAET,SAAA,uBAAqB;AAAA,MAAAE;AAAI,UAAAA,MAAA,sBAAsB,gBAAU,QAAAA,QAAA,SAAA,SAAAA,IAAA,KAAA,qBAAA,EAAK;AAAM;IAE3D,oBAAoB,SAAC,MAAuB;AACvD,MAAM,aAAa,eAAO,IAAI;AAC9B,aAAW,QAAQ,KAAK;AACxB,MAAM,aAAa,WAAW,MAAK;AAEnC,aAAW,MAAM,KAAK;AACtB,MAAM,WAAW,WAAW,MAAK;AAEjC,SAAQ,cAAc,CAAC,YAAc,CAAC,cAAc;AACtD;ACrHA,IAAM,iBAEF,SAAA,MAAI;AAAI,SAAA,eAAO,IAAY,EAAE,SAAS,GAAG,QAAQ,EAAE,OAAM;AAAE;AAE/D,IAAa,WAAuB,SAClC,aACA,gBACA,UACA,UAAa;AAAb,MAAA,aAAA,QAAA;AAAA,eAAA,CAAA;EAAa;AAEb,MAAM,SAAiB,CAAA;AACvB,MAAM,OAAO,mBAAmB,SAC5B,eAAO,yBAAyB,aAAa,gBAAgB,QAAQ,CAAS,IAC9E,eAAO,WAAmB;AAC9B,WAAS,QAAQ,GAAG,QAAQ,UAAU,SAAS,GAAG;AAChD,QAAI,SAAS,UAAU,SAAA,MAAI;AAAI,aAAA,SAAS,KAAK,IAAG;IAAE,CAAA,MAAM,IAAI;AAC1D,aAAO,KAAK,KAAK,OAAM,CAAE;;AAE3B,SAAK,IAAI,GAAG,MAAM;;AAEpB,SAAO;AACT;IAEa,YAAyB,SACpC,aACA,gBACA,cACA,YACA,cACA,cAAY;AAEZ,MAAM,SAAsB,CAAA;AAC5B,MAAM,kBAAkB,mBAAmB,SACvC,yBAAyB,aAAa,gBAAgB,YAAY,IAClE;AAEJ,MAAM,cAAc,kBAAkB,eAAuB;AAC7D,MAAM,YAAY,eAAO,eAAuB;AAChD,MAAI,aAAa;AACf,cAAU,SAAS,GAAG,KAAK;;AAG7B,MAAM,OAAO,eAAO,SAAS,EAC1B,QAAQ,KAAK,EACb,IAAI,cAAc,MAAM;AAC3B,MAAM,QAAQ,eAAO,SAAS,EAC3B,QAAQ,KAAK,EACb,IAAI,YAAY,MAAM;AAEzB,SAAO,KAAK,SAAS,KAAK,GAAG;AAC3B,QAAM,YAAY,KAAK,OAAM;AAC7B,SAAK,IAAI,cAAc,SAAS;AAChC,WAAO,KAAK,EAAE,OAAO,WAAW,KAAK,KAAK,OAAM,EAAE,CAAE;;AAGtD,MAAM,qBAAqB,OAAO,SAAS;AAC3C,MAAI,WAAW,OAAO,kBAAkB,EAAE,GAAG,GAAG;AAC9C,WAAO,kBAAkB,EAAE,MAAM,eAAe,OAAO,kBAAkB,EAAE,GAAG;;AAEhF,SAAO;AACT;AAEA,IAAa,iBAET,SAAC,OAAO,UAAU,iBAAe;AACnC,MAAI,CAAC;AAAO,WAAO,CAAC,EAAE,MAAM,UAAU,aAAa,gBAAe,CAAE;AACpE,MAAI,MAAM,UAAU,SAAA,MAAI;AAAI,WAAA,aAAa,KAAK;EAAI,CAAA,MAAM,IAAI;AAC1D,QAAM,YAAY,MAAM,MAAK;AAC7B,cAAU,KAAK,EAAE,MAAM,UAAU,aAAa,gBAAe,CAAE;AAC/D,WAAO;;AAET,SAAO;AACT;IAEa,gBAAiC,SAC5C,aAAa,gBACb,UAAU,cACV,cAAc,YACd,cAAc,UAAQ;AAEtB,MAAM,OAAO,SAAS,aAAa,gBAAiB,UAAW,YAAY;AAC3E,MAAM,QAAQ,UACZ,aAAa,gBAAiB,cAAc,YAAY,cAAc,YAAY;AAEpF,MAAM,cAAc,eAAO,QAA6B;AACxD,SAAO,MAAM,OAAO,SAAC,UAAU,MAAI;AACjC,QAAM,QAAQ,eAAO,KAAK,KAAK;AAC/B,QAAM,MAAM,eAAO,KAAK,GAAG;AAC3B,QAAM,WAAW,KAAK,OAAO,SAAC,QAAQ,KAAG;AACvC,UAAM,YAAY,eAAO,GAAG,EAAE,MAAM,MAAM,MAAK,CAAE,EAAE,QAAQ,MAAM,QAAO,CAAE,EAAE,OAAM;AAClF,UAAM,UAAU,eAAO,GAAG,EAAE,MAAM,IAAI,MAAK,CAAE,EAAE,QAAQ,IAAI,QAAO,CAAE,EAAE,OAAM;AAC5E,UAAM,QAAQ,YAAY,OAAO,WAAW,KAAK;AACjD,aAAO,KAAK,EAAE,WAAW,SAAS,MAAK,CAAE;AACzC,aAAO;OACN,CAAA,CAAgB;AACnB,aAAS,KAAK,QAAQ;AACtB,WAAO;KACN,CAAA,CAAkB;AACvB;IAEa,gBAET,SACF,WAAW,cAAc,YAAY,cAAc,aAAW;AAEtD,MAAW,gBAAkB,UAAU,CAAC,EAAE,CAAC,EAAC;AACpD,MAAI,CAAC,kBAAkB,aAAa,GAAG;AACrC,WAAO;;AAGT,MAAM,UAAU,eAAO,aAAa,EACjC,IAAI,GAAG,KAAK,EACZ,OAAM;AACT,MAAM,iBAAiB,cACrB,SAAS,QAAW,GAAG,CAAA,GAAI,cAAc,YAAY,cAAc,WAAW;AAGhF,SAAO;AACT;AAEA,IAAa,cAET,SAAA,WAAS;AAAI,SAAA,CAAC,UAAU,CAAC,EAAE,IAAI,SAAA,MAAI;AAAI,WAAC;MAC1C,WAAW,eAAO,KAAK,SAAS,EAAE,QAAQ,KAAK,EAAE,OAAM;MACvD,SAAS,eAAO,KAAK,SAAS,EAAE,IAAI,GAAG,KAAK,EAAE,QAAQ,KAAK,EAAE,OAAM;MACnE,cAAc,KAAK;MACnB,YAAY,KAAK;;EAClB,CAAC,CAAC;AAAC;AAEJ,IAAa,gBAET,SAAA,WAAS;AAAI,SAAA,eAAO,UAAU,CAAC,EAAE,CAAC,EAAE,SAAS,EAAE,OAAM;AAAE;IAE9C,cAET,SAAC,WAAS;AACZ,MAAM,eAAe,UAAU,SAAS;AACxC,MAAM,gBAAgB,UAAU,YAAY,EAAE,SAAS;AACvD,SAAO,eAAe,UAAU,YAAY,EAAE,aAAa,EAAE,OAAQ;AACvE;AChIA,IAAM,YAAY;AAClB,IAAM,6BAA6B;AAEnC,IAAa,6BAET,SAACC,gBAAe,oBAAoB,kBAAkB,YAAU;AAClE,MAAM,eAAe,qBAAqB,+BAA+B,IAAI;AAC7E,SAAO,qBAAqBA,gBAAe,oBAAoB,YAAY;AAC7E;AAEA,IAAa,gCAET,SAACA,gBAAe,uBAAqB;AAAK,SAAA,qBAC5CA,gBAAe,uBAAuBA,eAAc,MAAM;AAC3D;AAED,IAAM,uBAEF,SAACA,gBAAe,cAAc,cAAY;AAC5C,MAAI,EAAC,iBAAY,QAAZ,iBAAY,SAAA,SAAZ,aAAc,eAAc;AAC/B,WAAO;;AAGT,MAAM,YAAY,eAAeA,eAAc,CAAC,EAAE;AAClD,SAAO,cAAc,aAAa,aAAa;AACjD;AAEA,IAAM,wBAAwB,SAAC,aAAgC,cAAoB;AACjF,MAAM,gBAAgB,YAAY,IAAI,MAAK,EAAG,KAAK,YAAY,OAAO,SAAS,IAAI;AACnF,MAAI,kBAAkB;AAAG,WAAO;AAChC,MAAI,gBAAgB;AAAG,WAAO;AAC9B,SAAO;AACT;AAEA,IAAM,2BAEF,SACF,aACA,cACAD,KAOC;MANc,uBAAoBA,IAAA,aACjC,YAASA,IAAA,WACT,KAAAA,IAAA,iBACE,mBAAgB,GAAA,kBAChBC,iBAAa,GAAA;AAIX,MAAA,KAGF,qBACF,aACA,cACA;IACE;IACA;IACA,eAAaA;GACd,GATD,MAAG,GAAA,KAAE,OAAI,GAAA,MACT,QAAK,GAAA,OAAE,SAAM,GAAA,QAAE,cAAW,GAAA;AAW5B,SAAO;IACL,WAAW,YAAY;IACvB,KAAK,MAAQ,SAAS,YAAY,cAAe,YAAY;IAC7D,QAAQ,SAAS,YAAY;IAC7B,MAAM,aAAa,MAAM,WAAW;IACpC,OAAO,aAAa,OAAO,WAAW;IACtC,UAAU,YAAY;IACtB,UAAU,YAAY;IACtB,QAAQ,YAAY;IACpB,MAAM;IACN,KAAK,YAAY;;AAErB;AAEA,IAAM,yBAEF,SACF,aACA,cACAD,KASC;MARc,uBAAoBA,IAAA,aACjC,YAASA,IAAA,WACT,KAAAA,IAAA,iBACEC,iBAAa,GAAA,eACb,eAAY,GAAA,cACZ,mBAAgB,GAAA,kBAChB,eAAY,GAAA;AAIV,MAAA,KAGF,qBACF,aACA,cACA;IACE;IACA,eAAaA;IACb;IACA;IACA;GACD,GAXD,MAAG,GAAA,KAAE,OAAI,GAAA,MACT,QAAK,GAAA,OAAE,SAAM,GAAA,QAAE,cAAW,GAAA;AAapB,MAAA,SAAsD,YAAW,QAAlD,gBAAuC,YAAW,OAA7B,eAAkB,YAAW;AACzE,MAAM,kBAAmB,gBAAiB,IAAI,IAAI,gBAAkB,IAAI,IAAI,IAAI;AAChF,MAAI,aAAa,oBAAoB,IAAI,IACrC,kBAAkB,gBAAiB,gBAAiB;AACxD,MAAI,aAAa,eAAgB,GAAG;AAClC,iBAAa,IAAI;;AAGnB,SAAO;IACL,WAAW,YAAY;IACvB;IACA;IACA,MAAM,aAAa,OAAO,eAAgB,OAAO,WAAW;IAC5D,OAAO,aAAa,aAAc,OAAO,WAAW;IACpD,UAAU,YAAY;IACtB,UAAU,YAAY;IACtB,QAAQ,YAAY;IACpB,cAAc,sBAAsB,aAAa,YAAY;IAC7D,MAAM;IACN;IACA,KAAK,YAAY;;AAErB;AAEA,IAAM,4BAEF,SACF,aACA,cACAD,KAUC;MATc,uBAAoBA,IAAA,aACjC,YAASA,IAAA,WACT,KAAAA,IAAA,iBACEC,iBAAa,GAAA,eACb,eAAY,GAAA,cACZ,mBAAgB,GAAA,kBAChB,eAAY,GAAA,cACZ,mCAAgC,GAAA;AAI9B,MAAA,KAGF,qBACF,aACA,cACA;IACE;IACA,eAAaA;IACb;IACA;IACA;IACA;GACD,GAZD,MAAG,GAAA,KAAE,OAAI,GAAA,MACT,QAAK,GAAA,OAAE,SAAM,GAAA,QAAE,cAAW,GAAA;AAc5B,MAAM,YAAY,QAAQ,YAAY;AAEtC,SAAO;IACL,WAAW,YAAY;IACvB;IACA;IACA,MAAM,aAAa,OAAQ,YAAY,YAAY,QAAS,WAAW;IACvE,OAAO,aAAa,WAAW,WAAW;IAC1C,UAAU,YAAY;IACtB,UAAU,YAAY;IACtB,QAAQ,YAAY;IACpB,cAAc,sBAAsB,aAAa,YAAY;IAC7D,MAAM;IACN,KAAK,YAAY;;AAErB;AAEA,IAAM,eAEF,SAAC,OAAO,QAAM;AAChB,MAAI,MAAM,MAAM,SAAS,OAAO,OAAO,KAAK;AAAG,WAAO;AACtD,MAAI,MAAM,MAAM,QAAQ,OAAO,OAAO,KAAK;AAAG,WAAO;AACrD,SAAO;AACT;AAEA,IAAM,kBAEF,SAAC,OAAO,QAAM;AAChB,MAAI,MAAM,UAAU,CAAC,OAAO;AAAQ,WAAO;AAC3C,MAAI,CAAC,MAAM,UAAU,OAAO;AAAQ,WAAO;AAC3C,SAAO;AACT;AAEA,IAAM,gBAEF,SAAC,OAAO,QAAM;AAChB,MAAI,MAAM,MAAM,SAAS,OAAO,KAAK;AAAG,WAAO;AAC/C,MAAI,MAAM,MAAM,QAAQ,OAAO,KAAK;AAAG,WAAO;AAC9C,MAAI,MAAM,IAAI,SAAS,OAAO,GAAG;AAAG,WAAO;AAC3C,MAAI,MAAM,IAAI,QAAQ,OAAO,GAAG;AAAG,WAAO;AAC1C,SAAO;AACT;AAEA,IAAa,mBAET,SAAAC,eAAY;AAAI,SAAAA,cACjB,MAAK,EAAG,KAAK,SAAC,GAAG,GAAC;AAAK,WAAA,aAAa,GAAG,CAAC,KAAK,gBAAgB,GAAG,CAAC,KAAK,cAAc,GAAG,CAAC;EAAC,CAAA;AAAC;AAE7F,IAAM,iBAEF,SAAC,UAAU,MAAI;AAAK,SACtB,SAAS,cAAc,MAAM,KAAK,KAC/B,CAAC,SAAS,OAAO,SAAS,MAAK,EAAG,QAAQ,KAAK,CAAC;AAAC;IAGzC,6BAET,SAAC,oBAAoB,OAAa;AAAb,MAAA,UAAA,QAAA;AAAA,YAAA;EAAa;AACpC,MAAMA,gBAAe,mBAAmB,MAAK;AAC7C,MAAM,SAAgC,CAAA;AACtC,MAAI,aAAa;AAEjB,SAAO,aAAaA,cAAa,QAAQ;AACvC,WAAO,KAAK,CAAA,CAAE;AACd,QAAM,UAAUA,cAAa,UAAU;AACvC,QAAM,eAAe,OAAO,OAAO,SAAS,CAAC;AAC7C,QAAI,OAAOA,cAAa,aAAa,CAAC;AACtC,QAAI,cAAc,QAAQ;AAE1B,iBAAa,KAAK,OAAO;AACzB,kBAAc;AACd,WAAO,SAAS,YAAY,QAAQ,KAAK,KAAK,KACxC,SAAS,eAAe,aAAa,KAAK,KAAK,IAAK;AACxD,mBAAa,KAAK,IAAI;AACtB,UAAI,YAAY,SAAS,KAAK,GAAG;AAAG,sBAAc,KAAK;AACvD,oBAAc;AACd,aAAOA,cAAa,UAAU;;;AAGlC,SAAO;AACT;AAEA,IAAMC,eAEF,SAAA,MAAI;AAAI,SAAA,KAAK,OAAO,KAAK,MAAK,EAAG,QAAQ,KAAK,CAAC;AAAC;AAEpD,IAAM,uBAEF,SAAC,aAAa,WAAS;AAAK,SAAE,YAAY,SAAS,WAAmB,KAAK,KACzEA,aAAW,WAAW,KAAK,YAAY,OAAO,WAAmB,KAAK;AAAE;IAEjE,8BAET,SAAC,QAAQ,OAAa;AAAb,MAAA,UAAA,QAAA;AAAA,YAAA;EAAa;AAAK,SAAA,OAAO,IAAI,SAAC,OAAK;AAC9C,QAAI,SAAS;AACb,QAAI,cAAc;AAClB,QAAMD,gBAAe,MAAM,IAAI,SAACE,cAAgB;AAAK,aAAAL,UAAA,CAAA,GAAMK,YAAW;IAAA,CAAG;AACzE,QAAM,cAAcF,cAAa;AACjC,aAAS,aAAa,GAAG,aAAa,aAAa,cAAc,GAAG;AAClE,UAAM,cAAcA,cAAa,UAAU;AAC3C,UAAI,YAAY,WAAW,QAAW;AACpC,YAAI,cAAc,YAAY;AAC9B,oBAAY,SAAS;AACrB,iBAAS,QAAQ,aAAa,GAAG,QAAQ,aAAa,SAAS,GAAG;AAChE,cAAIA,cAAa,KAAK,EAAE,WAAW,QAAW;AAC5C,gBAAK,CAAC,SAAS,YAAY,eAAeA,cAAa,KAAK,EAAE,KAAK,KAC7D,SAAS,qBAAqB,aAAaA,cAAa,KAAK,EAAE,KAAK,GAAI;AAC5E,4BAAcA,cAAa,KAAK,EAAE;AAClC,cAAAA,cAAa,KAAK,EAAE,SAAS;;;;AAKnC,kBAAU;AACV,YAAI,cAAc;AAAQ,wBAAc;;;AAG5C,WAAO,EAAE,OAAOA,eAAc,YAAW;GAC1C;AAzB8B;AA2B/B,IAAM,0BAEF,SAAC,oBAAkB;AACrB,MAAM,kBAAkB,mBAAmB,IAAI,SAACF,KAAsB;QAApB,QAAKA,IAAA,OAAE,cAAWA,IAAA;AAAO,WAAC;MAC1E;MACA,OAAO,MAAM,IAAI,SAACA,KAAQ;YAAN,OAAIA,IAAA;AAAO,eAAAD,UAAA,CAAA,GAAM,IAAI;OAAG;;GAC5C;AACF,SAAO,aAAa,eAAe;AACrC;IAEa,eAET,SAAA,QAAM;AAAI,SAAA,OAAO,OAAO,SAAC,KAAKC,KAAsB;QAApB,QAAKA,IAAA,OAAE,cAAWA,IAAA;AACpD,QAAI,KAAI,MAAR,KAAGK,eAAA,CAAA,GAAAC,QAAS,MAAM,IAAI,SAACN,KAA8D;AAA5D,UAAA,QAAKA,IAAA,OAAE,MAAGA,IAAA,KAAE,WAAQA,IAAA,UAAE,SAAMA,IAAA,QAAE,YAASA,IAAA,WAAE,MAAGA,IAAA,KAAK,YAASO,QAAAP,KAA5D,CAAA,SAAA,OAAA,YAAA,UAAA,aAAA,KAAA,CAA8D;AAAK,aAAAD,UAAA,EACxF,OAAO,KAAK,UAAU,QAAQ,aAAa,WAC3C,UAAU,eAAO,KAAK,EAAE,KAAK,SAAS,WAAW,SAAS,IAAI,GAC9D,QAAQ,eAAO,SAAS,OAAO,EAAE,KAAK,KAAK,SAAS,IAAI,GACxD,IAAG,GACA,SAAS;KACZ,CAAC,GAAA,KAAA,CAAA;AACH,WAAO;EACT,GAAG,CAAA,CAAiC;AAAC;IAExB,mBAET,SAAC,eAAe,aAAa,MAAI;AAAK,SAAA,KACvC,UAAU,eAAe,aAAa,QAAW,IAAI;AAAC;IAE5C,0BAAqD,SAChE,mBAAmB,cAAY;AAC5B,SAAA,kBAAkB,IAAI,SAAC,kBAAgB;AAClC,QAAA,QAAU,iBAAgB;AAClC,QAAI;AACJ,QAAI;AACJ,QAAI,MAAM,WAAW,GAAG;AACtB,kBAAY,CAAC;QACX,MAAM,MAAM,CAAC;QAAG,UAAU,CAAA;QAAI,WAAW;QAAG,eAAe;QAAO,gBAAgB;OACnF;AACD,cAAQ,CAAC,CAAC;WACL;AACC,UAAAC,MAEF,WAAW,OAAO,YAAY,GADhCE,gBAAYF,IAAA,cAAS,uBAAoBA,IAAA;AAE3C,kBAAYE;AACZ,cAAQ;;AAEV,WAAAH,UAAAA,UAAA,CAAA,GACK,gBAAgB,GAAA,EACnB,OAAO,WACP,MAAK,CAAA;EAET,CAAC;AAAC;AAEF,IAAM,aAA2B,SAAC,kBAAkB,cAAY;AAC9D,MAAM,mBAA0B,iBAAiB,IAAI,SAAA,OAAK;AAAI,WAAC;MAC7D,MAAM;;EACP,CAAC;AAEF,MAAM,QAAQ,iBAAiB,OAAO,SAAC,KAAK,aAAa,kBAAgB;AAC/D,QAAQ,oBAAsB,YAAY,KAAI;AAEtD,QAAI,sBAAsB,GAAG;AAC3B,UAAI,mBAAmB,MAAM,iBAAiB,QAAQ;AACpD,oBAAY,WAAW,CAAA;AACvB,oBAAY,iBAAiB;AAC7B,oBAAY,YAAY;aACnB;AACL,oBAAY,YAAY,iBACtB,kBAAkB,kBAAkB,cAAc,CAAC;;AAIvD,kBAAY,SAAS;AACrB,kBAAY,gBAAgB;AAC5B,aAAAM,eAAAA,eAAA,CAAA,GAAAC,QAAW,GAAG,GAAA,KAAA,GAAA,CAAE,gBAAgB,GAAA,KAAA;;AAElC,WAAO;KACN,CAAA,CAAE;AACL,SAAO,EAAE,cAAc,kBAAkB,MAAK;AAChD;AAEA,IAAM,aAA2B,SAC/B,kBAAkB,OAAO,wBAAwB,cAAc,eAAe,WAAS;AAEvF,MAAM,kBAAkB,iBAAiB,KAAK;AAC9C,kBAAgB,gBAAgB;AAChC,kBAAgB,SAAS;AACzB,MAAM,gBAAgB,YAAY;AAC1B,MAAA,MAAQ,gBAAgB,KAAI;AAEpC,MAAI,UAAU,iBAAiB,SAAS,KACnC,IAAI,eAAe,iBAAiB,QAAQ,CAAC,EAAE,KAAK,KAAK,GAAG;AAC/D,oBAAgB,WAAW,CAAA;AAC3B,oBAAgB,YAAY;AAC5B,oBAAgB,iBAAiB;AACjC,WAAO;;AAGT,MAAM,sBAAsB,iBAC1B,kBAAkB,OAAO,cAAc,SAAS;AAGlD,kBAAgB,YAAY;AAC5B,SAAO,sBAAsB;AAC/B;AAEA,IAAM,mBAAuC,SAC3C,kBAAkB,kBAAkB,cAAc,WAAS;AAE3D,MAAM,cAAc,iBAAiB,gBAAgB;AAC/C,MAAAN,MAA4C,YAAY,MAAtD,MAAGA,IAAA,KAAU,oBAAiBA,IAAA,QAAE,QAAKA,IAAA;AAC7C,MAAM,uBAAuB,eAAO,KAAK,EAAE,IAAI,cAAc,SAAS;AACtE,MAAI,0BAA0B;AAC9B,MAAM,WAAW,CAAA;AAEjB,MAAI,iBAAiB,mBAAmB;AACxC,SAAO,gBAAgB,kBAAkB,gBAAgB,KAAK,iBAAiB,GAAG;AAChF,QAAM,kBAAkB,iBAAiB,cAAc;AACjD,QAAA,KAA2C,gBAAgB,MAAjD,aAAU,GAAA,QAAS,YAAS,GAAA;AAE5C,QAAI,eAAe,oBAAoB,GAAG;AACxC,UAAM,gBAAgB,iBAAiB,OAAO,sBAAsB,SAAS;AAC7E,UAAM,gBAAgB,WACpB,kBAAkB,gBAAgB,kBAAkB,cAAc,eAAe,SAAS;AAG5F,UAAI,0BAA0B,eAAe;AAC3C,kCAA0B;;AAE5B,eAAS,KAAK,cAAc;;AAE9B,sBAAkB;;AAEpB,cAAY,iBAAiB,SAAS,WAAW,KAAK,iBAAiB,SAAS,CAAC,CAAC,EAAE;AACpF,cAAY,WAAW;AAEvB,SAAO;AACT;AAEA,IAAa,kBAAqC,SAChDE,eAAc,oBAAoB,WAAW,cAAY;AAEzD,MAAM,gBAAgBA,cAAa,kBAAkB;AACrD,SACE,qBAAqBA,cAAa,UAC/B,cAAc,KAAK,WAAW,gBAC9B,cAAc,KAAK,MAAM,SAAS,SAAS;AAElD;IAEa,qBACX,SAAA,mBAAiB;AAAI,SAAA,kBAAkB,OAAO,SAAC,gBAAgB,OAAK;AAClE,QAAM,qBAAqB,MAAM;AACjC,WAAO,iBAAiB,qBAAqB,iBAAiB;EAChE,GAAG,CAAC;AAAC;IAEM,gCAAiE,SAC5E,mBAAmB,yBAAuB;AACvC,SAAA,kBAAkB,IAAI,SAAC,mBAAiB;AACnC,QAAA,QAAiB,kBAAiB,OAA3B,QAAU,kBAAiB;AAC1C,QAAM,YAAY,MAAM,CAAC;AACzB,WAAAH,UAAAA,UAAA,CAAA,GACK,iBAAiB,GAAA,EACpB,OAAO,MAAM,WAAW,IACpB,CAAAA,UAAAA,UAAA,CAAA,GACG,SAAS,GAAA,EACZ,MAAIA,UAAAA,UAAA,CAAA,GACC,UAAU,IAAI,GAAA,EACjB,MAAM,GACN,OAAO,EAAC,CAAA,EAAA,CAAA,CAAA,IAGV,uBAAuB,OAAO,OAAO,uBAAuB,EAAyB,CAAA;EAE7F,CAAC;AAAC;AAEF,IAAM,yBAAkD,SACtD,kBAAkB,OAAO,yBAAuB;AAEhD,MAAMG,gBAAe,iBAAiB,IAAI,SAAA,OAAK;AAAI,WAAAH,UAAA,CAAA,GAAM,KAAK;EAAA,CAAG;AAEjE,QAAM,QAAQ,SAAC,kBAAgB;AAC7B,QAAM,cAAcG,cAAa,gBAAgB;AAC3C,QAAAF,MAAkB,iCACtBE,eAAc,QAAW,aAAa,WAAW,yBAAyB,MAAS,GAD7E,OAAIF,IAAA,MAAE,QAAKA,IAAA;AAGnB,gBAAY,KAAK,OAAO;AACxB,gBAAY,KAAK,QAAQ;AACzB,8BAA0BE,eAAc,aAAa,WAAW,uBAAuB;GACxF;AACD,SAAOA;AACT;AAEA,IAAM,yBAAmD,SACvD,kBAAkB,kBAAkB,UAAU,yBAAuB;AAErE,MAAM,cAAc,iBAAiB,gBAAgB;AAC/C,MAAAF,MAAkB,iCACtB,kBAAkB,QAAW,aAAa,UAAU,yBAAyB,MAAS,GADhF,OAAIA,IAAA,MAAE,QAAKA,IAAA;AAGnB,cAAY,KAAK,OAAO;AACxB,cAAY,KAAK,QAAQ;AAEzB,4BACE,kBAAkB,aAAa,UAAU,uBAAuB;AAEpE;AAEA,IAAM,4BAAyD,SAC7D,kBAAkB,iBAAiB,UAAU,yBAAuB;AAEpE,kBAAgB,SAAS,QAAQ,SAAC,YAAU;AAC1C,2BAAuB,kBAAkB,YAAY,UAAU,uBAAuB;GACvF;AACH;IAEa,mCAAuE,SAClF,kBAAkB,QAAQ,iBAAiB,UAAU,yBAAyB,aAAW;AAEnF,MAAAA,MAEF,iBADF,iBAAcA,IAAA,gBAAE,YAASA,IAAA,WAAE,gBAAaA,IAAA,eAAU,cAAWA,IAAA,QAAE,WAAQA,IAAA,UAAE,aAAUA,IAAA;AAErF,MAAM,aAAa,iBAAiB,SAAS,CAAC,CAAC;AAC/C,MAAM,uBAAwB,eAA8B,QAA9B,eAAU,SAAA,SAAV,WAAgC;AAE9D,MAAM,+BAA+B,mBAC/B,yBAAyB,WAAc,eAAe,wBACrD,OAAQ,oBAAoB,EAAE,iBAAiB,cAC/C,aAAa;AAEpB,MAAI,gBAAgB,QAAW;AAC7B,WAAQ;MACN,OAAO,+BAA+B,YAAY,YAAY,KAAK;MACnE,MAAM;;;AAIV,MAAM,SAAS,iBAAiB,WAAW;AACrC,MAAA,KAGF,OAAO,MAFF,cAAW,GAAA,OACZ,aAAU,GAAA;AAElB,MAAM,iBAAiB,gBACnB,aAAa,cAAc,aAAa;AAC5C,MAAM,OAAO,gBAAgB,SAAY,KAAK,IAAI,aAAa,cAAc,IAAI;AACjF,MAAM,kBAAkB,WAAW;AAEnC,SAAQ;IACN,OAAO,+BAA+B,mBAAmB,YAAY,KAAK;IAC1E;;AAEJ;IAEa,2BACX,SAAAE,eAAY;AAAI,SAAAA,cAAa,IAAI,SAAC,mBAAiB;AACzC,QAAO,QAAU,kBAAiB;AAC1C,QAAM,mBAAmB,MAAM,IAAI,SAAA,OAAK;AAAI,aAAAH,UAAA,CAAA,GACvC,KAAK;IAAA,CACR;AAEF,qBAAiB,QAAQ,SAAC,iBAAiB,OAAK;AAC9C,UAAI,UAAU,GAAG;AACf,wBAAgB,0BAA0B,CAAA;AAC1C;;AAEF,UAAM,0BAA0B,CAAA;AAC1B,UAAAC,MAAqC,gBAAgB,MAA3C,oBAAiBA,IAAA,QAAE,MAAGA,IAAA;AAEtC,UAAI,iBAAiB,QAAQ;AAC7B,UAAI;AACJ,aAAO,gBAAgB,kBAAkB,gBAAgB,KAAK,iBAAiB,GAAG;AAChF,YAAM,kBAAkB,iBAAiB,cAAc;AACvD,YAAI,gBAAgB,KAAK,SAAS,qBAC7B,gBAAgB,cAAc,QAAW;AAC5C,0BAAgB,YAAY;;AAG9B,YAAM,sBAAsB,wBAAwB,SAAS,IACzD,iBAAiB,wBAAwB,wBAAwB,SAAS,CAAC,CAAC,IAC5E;AACJ,YAAI,yBACF,iBAAiB,iBAAiB,qBAAqB,eAAe,GACrE;AACD,kCAAwB,KAAK,cAAc;AAC3C,0BAAgB,yBAAyB;AACzC,cAAM,eAAe,uBAAuB,kBAAkB,eAAe;AAC7E,cAAI,CAAC,mBAAmB,gBAAgB,SAAS,YAAY,GAAG;AAC9D,8BAAkB;;;AAGtB,0BAAkB;;AAEpB,sBAAgB,0BAA0B;KAC3C;AACD,WAAAD,UAAAA,UAAA,CAAA,GACK,iBAAiB,GAAA,EACpB,OAAO,iBAAgB,CAAA;EAE3B,CAAC;AAAC;AAEJ,IAAa,2BAAuD,SAClE,iBAAiB,iBAAiB,qBAAqB,iBAAe;AAGpE,MAAA,yBACE,gBAAe,wBADO,YACtB,gBAAe,WADwB,WACvC,gBAAe;AACX,MAAQ,aAAiC,SAAQ,QAAtB,YAAc,SAAQ;AACjD,MAAA,SAAW,gBAAgB,KAAI;AAEvC,SACE,aAAa,UACR,CAAC,2BACA,cAAc,UAAa,aAAa,YACxC,CAAC,uBACC,oBAAoB,KAAK,UAAU,cACpC,UAAU,cAAc,eAAe;AAElD;IAEa,yBAAmD,SAC9D,kBAAkB,iBAAe;AAEzB,MAAA,WAAmB,gBAAe,UAAxB,OAAS,gBAAe;AAClC,MAAA,MAAQ,KAAI;AAEpB,MAAM,UAAU,SAAS,OAAO,SAAC,gBAAgB,YAAU;AACzD,QAAM,QAAQ,iBAAiB,UAAU;AACzC,QAAM,kBAAkB,uBAAuB,kBAAkB,KAAK;AACtE,QAAI,gBAAgB,QAAQ,cAAc,GAAG;AAC3C,aAAO;;AAET,WAAO;KACN,GAAG;AACN,SAAO;AACT;IAEa,8BACX,SAAA,oBAAkB;AAAI,SAAA,mBAAmB,IAAI,SAAC,mBAAiB;AACrD,QAAA,QAAuB,kBAAiB,OAAjC,cAAgB,kBAAiB;AAC1C,QAAAC,MAAuC,MAAM,OAAO,SAAC,KAAK,aAAa,OAAK;AAChF,UAAM,SAAS,IAAI,OAAO,MAAK;AAE7B,UAAA,YACE,YAAW,WADF,OACT,YAAW,MADI,0BACf,YAAW;AACP,UAAA,SAAuB,KAAI,QAAnB,QAAe,KAAI,OAAZ,MAAQ,KAAI;AACnC,UAAI,aAAa,4BAA4B,QAAQ,WAAW;AAEhE,UAAI,aAAa,GAAG;AAClB,eAAO,KAAK;UACV;UAAO;UAAK,WAAW;UAAQ,WAAW,SAAS;UACnD,MAAM,YAAY;UAAG,OAAO,CAAA;UAAI,gBAAgB;SACjD;AACD,qBAAa,OAAO,SAAS;;AAG/B,aAAO,UAAU,EAAE,MAAM,KAAK,KAAK;AAEnC,8BAAwB,QAAQ,SAAC,kBAAgB;AAC/C,YAAM,cAAc,MAAM,gBAAgB;AAClC,YAAM,kBAAoB,YAAW;AAC7C,eAAO,KAAK;UACV,OAAO,gBAAgB;UAAO;UAC9B,WAAW,gBAAgB;UAAQ,WAAW,SAAS;UACvD,MAAM,4BAA4B,OAAO,aAAa,GAAG;UAAG,OAAO,CAAA;UACnE,gBAAgB,gBAAgB;SACjC;OACF;AACD,UAAM,qBAAkBD,UAAAA,UAAA,CAAA,GAAQ,WAAW,GAAA,EAAE,WAAU,CAAA;AAEvD,aAAO;QACL;QACA,cAAYM,eAAAA,eAAA,CAAA,GAAAC,QAAM,IAAI,YAAY,GAAA,KAAA,GAAA,CAAE,kBAAkB,GAAA,KAAA;;OAEvD;MACD,QAAQ,CAAC;QACP,OAAO,MAAM,CAAC,EAAE,KAAK;QACrB,KAAK,MAAM,CAAC,EAAE,KAAK;QACnB,WAAW;QACX,WAAW,cAAc;QACzB,MAAM;QACN,OAAO,CAAA;QACP,gBAAgB,MAAM,CAAC,EAAE,KAAK;OAC/B;MACD,cAAc,CAAA;KACf,GA7Ce,aAAUN,IAAA,QAAEE,gBAAYF,IAAA;AA8CxC,WAAO;MACL,QAAQ;MACR,mBAAiBD,UAAAA,UAAA,CAAA,GACZ,iBAAiB,GAAA,EACpB,OAAOG,cAAY,CAAA;;EAGzB,CAAC;AAAC;AAEJ,IAAM,8BAA4D,SAChE,kBAAkB,aAAa,cAAY;AAEnC,MAAA,WAAmB,YAAW,UAApB,OAAS,YAAW;AAC9B,MAAA,QAAU,KAAI;AAEtB,MAAI,SAAS,WAAW,GAAG;AACzB,QAAI,aAAa,QAAQ,KAAK,GAAG;AAC/B,aAAO;;AAET,WAAO;;AAET,MAAM,UAAU,KAAK,IAAG,MAAR,MAAIG,eAAA,CAAA,GAAAC,QACf,SAAS,IAAI,SAAA,YAAU;AAAI,WAAA,4BAC5B,kBAAkB,iBAAiB,UAAU,GAAG,YAAY;EAAC,CAAA,CAC9D,GAAA,KAAA,CAAA;AAGH,MAAI,aAAa,eAAe,KAAK,KAAK,YAAY,GAAG;AACvD,WAAO;;AAET,SAAO,UAAU;AACnB;IAEa,8BAA6D,SACxE,QAAQ,aAAW;AAEb,MAAAN,MAAoB,YAAY,MAA9B,QAAKA,IAAA,OAAE,SAAMA,IAAA;AAErB,MAAI,aAAa,OAAO,SAAS;AACjC,SAAO,cAAc,GAAG;AACtB,QAAM,eAAe,OAAO,UAAU;AACtC,QAAI,iBAAiB,aAAa,OAAO,aAAa,KAAK,KAAK,KAC3D,UAAU,aAAa,aAAa,UAAU,aAAa,cAC7D,CAAC,YAAY,0BACZ,YAAY,0BAA0B,CAAC,aAAa,MAAM,SAC5D;AACA;;AAEF,kBAAc;;AAGhB,SAAO;AACT;IAEa,qBAA2C,SAAC,mBAAiB;AACxE,SAAO,kBAAkB,IAAI,SAACA,KAA6B;QAA3B,SAAMA,IAAA,QAAE,oBAAiBA,IAAA;AACvD,QAAM,aAAa,OAAO,IAAI,SAAA,OAAK;AAAI,aAAAD,UAAA,CAAA,GAAM,KAAK;IAAA,CAAG;AAErD,eAAW,QAAQ,SAAC,OAAO,YAAU;AACnC,YAAM,iBAAiB,CAAA;AACvB,eACM,oBAAoB,aAAa,GACrC,oBAAoB,WAAW,QAC/B,qBAAqB,GACrB;AACA,YAAM,eAAe,WAAW,iBAAiB;AACjD,YAAI,gBAAgB,OAAO,YAAY,GAAG;AACxC,gBAAM,eAAe,KAAK,iBAAiB;AAC3C,uBAAa,eAAe;;;KAGjC;AACD,WAAO;MACL,QAAQ;MAAY;;GAEvB;AACH;AAEA,IAAM,kBAAqC,SAAC,OAAO,uBAAqB;AAC9D,MAAA,QAAqC,MAAK,OAAnC,MAA8B,MAAK,KAA9B,YAAyB,MAAK,WAAnB,YAAc,MAAK;AAEhD,MAAO,wBAEL,sBAAqB,OAFY,sBAEjC,sBAAqB,KADZ,oBACT,sBAAqB,WADkB,oBACvC,sBAAqB;AACzB,SAAO,iBAAiB,OAAO,KAAK,qBAAqB,KACpD,iBAAiB,OAAO,KAAK,mBAAmB,KAChD,qBAAqB,aAAa,qBAAqB;AAC9D;IAEa,kBAAqC,SAAC,mBAAiB;AAClE,SAAO,kBAAkB,IAAI,SAACC,KAA6B;QAA3B,SAAMA,IAAA,QAAE,oBAAiBA,IAAA;AACvD,QAAM,aAAa,OAAO,IAAI,SAAA,OAAK;AAAI,aAAAD,UAAA,CAAA,GAAM,KAAK;IAAA,CAAG;AAErD,eAAW,QAAQ,SAAC,OAAO,OAAK;AAC9B,YAAM,WAAW,CAAA;AACjB,eAAS,eAAe,QAAQ,GAAG,eAAe,WAAW,QAAQ,gBAAgB,GAAG;AACtF,YAAM,YAAY,WAAW,YAAY;AAEzC,YAAI,aAAa,OAAO,SAAS,GAAG;AAClC,gBAAM,SAAS,KAAK,YAAY;AAChC,oBAAU,SAAS;;;AAGvB,aAAO;KACR;AACD,WAAO;MACL;MAAmB,QAAQ;;GAE9B;AACH;AAEA,IAAM,eAA+B,SAAC,OAAO,oBAAkB;AACrD,MAAA,QAAmD,MAAK,OAAjD,iBAA4C,MAAK,gBAAjC,YAA4B,MAAK,WAAtB,eAAiB,MAAK;AAE9D,MAAO,aACL,mBAAkB,OADa,oBAC/B,mBAAkB,cAD2C,iBAC7D,mBAAkB;AACtB,SAAO,iBAAiB,OAAO,gBAAgB,UAAU,KACpD,iBAAiB,MAAM,cAExB,sBAAsB,UACnB,sBAAsB;AAE/B;IAEa,iBAAmC,SAC9C,mBAAmB,yBAAuB;AAE1C,MAAM,gBAAgB,kBAAkB,IAAI,SAACC,KAA6B;QAA3B,SAAMA,IAAA,QAAE,oBAAiBA,IAAA;AACtE,QAAM,uBAAuB,0BAA0B,QAAQ,kBAAkB,KAAK;AAEtF,WAAO;MACL,QAAQ,wBAAwB,sBAAsB,kBAAkB,KAAK;MAC7E;;GAEH;AACD,MAAM,mBAAmB,cAAc,IAAI,SAACA,KAA6B;QAA3B,SAAMA,IAAA,QAAE,oBAAiBA,IAAA;AACrE,WAAAD,UAAAA,UAAA,CAAA,GACK,iBAAiB,GAAA,EACpB,OAAO,2BACL,kBAAkB,OAAO,QAAQ,uBAAuB,EAClC,CAAA;GAE3B;AACD,SAAO;AACT;AAEA,IAAM,4BAAwD,SAC5D,QAAQG,eAAY;AACjB,SAAA,wBAAwB,yBAC3B,yBAAyB,MAAM,GAAGA,aAAY,CAC/C;AAAC;AAEF,IAAM,0BAAqD,SAAC,QAAQA,eAAY;AAC9E,MAAM,aAAa,OAAO,IAAI,SAACF,KAAuB;AAArB,QAAA,QAAKA,IAAA,OAAK,YAASO,QAAAP,KAArB,CAAA,OAAA,CAAuB;AAAK,WAAAD,UAAA,CAAA,GAAM,SAAS;GAAG;AAE7E,MAAM,sBAAsB,yBAC1B,iBAAiB,YAAiCG,aAAY,GAAGA,aAAY;AAE/E,SAAO,wBAAwB,mBAAmB;AACpD;AAEA,IAAM,6BAA2D,SAC/DA,eAAc,QAAQ,yBAAuB;AAE7C,MAAM,mBAAmBA,cAAa,IAAI,SAAA,OAAK;AAAI,WAAAH,UAAA,CAAA,GAAM,KAAK;EAAA,CAAG;AACjE,MAAM,aAAa,OAAO,IAAI,SAAA,OAAK;AAAI,WAAAA,UAAA,CAAA,GAAM,KAAK;EAAA,CAAG;AAErD,aAAW,QAAQ,SAAC,OAAO,OAAK;AAC9B,QAAI,UAAU,GAAG;AACP,UAAA,QAA4C,MAAK,OAApC,YAA+B,MAAK,MAAzB,QAAoB,MAAK,OAAlB,aAAa,MAAK;AACzD,UAAM,aAAW,+BAA+B,YAAY,KAAK;AACjE,UAAM,kBAAgB,aAAW;AACjC,UAAM,gBAAc,YAAa;AAEjC,YAAM,QAAQ,SAAC,kBAAkB,WAAS;AACxC,YAAM,cAAc,iBAAiB,gBAAgB;AACrD,YAAI,cAAc,GAAG;AACb,cAAAC,MAAkB,iCACtB,kBAAkB,YAAY,aAC9B,iBAAe,yBAAyB,aAAW,GAF7C,SAAIA,IAAA,MAAE,QAAKA,IAAA;AAInB,sBAAY,KAAK,OAAO;AACxB,sBAAY,KAAK,QAAQ;AACzB,cAAI,kBAAgB,QAAM;AACxB,uBAAS,QAAQ,SAAC,YAAU;AAC1B,sCAAwB,YAAY,YAAY,SAAO,UAAQ;aAChE;;eAEE;AACC,cAAA,KAEF,iCACF,kBAAkB,YAAY,aAC9B,iBAAe,yBAAyB,MAAS,GAHjD,OAAI,GAAA,MAAE,QAAK,GAAA;AAKb,sBAAY,KAAK,OAAO;AACxB,sBAAY,KAAK,QAAQ;;OAE5B;;GAEJ;AACD,SAAO,CAAC,EAAE,MAAM,QAAQ,SAAC,kBAAgB;AACvC,QAAM,cAAc,iBAAiB,gBAAgB;AAC/C,QAAAA,MAEF,iCACF,kBAAkB,QAAQ,aAAa,GAAG,yBAAyB,MAAS,GAF5E,OAAIA,IAAA,MAAE,QAAKA,IAAA;AAIb,gBAAY,KAAK,OAAO;AACxB,gBAAY,KAAK,QAAQ;GAC1B;AACD,SAAO;AACT;AAEA,IAAM,0BAAgD,SAAC,QAAQ,YAAY,OAAK;AAC9E,MAAM,QAAQ,OAAO,UAAU;AACvB,MAAA,aAA0C,MAAK,YAAnC,OAA8B,MAAK,MAA7B,YAAwB,MAAK,WAAlB,WAAa,MAAK;AACvD,QAAM,QAAQ;AACd,MAAM,QAAQ,OAAO;AACrB,MAAM,gBAAgB,QAAQ;AAC9B,MAAM,OAAO,QAAQ,gBAAgB,OAAO;AAC5C,QAAM,OAAO;AACb,WAAS,QAAQ,SAAC,YAAU;AAC1B,4BAAwB,QAAQ,YAAY,IAAI;GACjD;AACH;IAEa,iCAAmE,SAC9E,QAAQ,eAAa;AAEb,MAAc,oBAAsB,cAAa;AACzD,MAAI,sBAAsB,QAAW;AACnC,WAAO;;AAGT,MAAM,eAAe,OAAO,iBAAiB;AAC7C,MAAM,kBAAkB,aAAa;AACrC,SAAO,kBAAkB,+BAA+B,QAAQ,YAAY;AAE9E;IAEa,2BAAuD,SAAC,QAAM;AACzE,MAAM,SAAS,OAAO,IAAI,SAAC,OAAK;AAC9B,QAAM,YAAY,8BAA8B,QAAQ,KAAK;AAC7D,WAAAD,UAAAA,UAAA,CAAA,GACK,KAAK,GAAA,EACR,WACA,YAAY,YAAY,MAAM,KAAI,CAAA;GAErC;AACD,SAAO;AACT;AAEA,IAAM,gCAAiE,SACrE,QAAQ,OAAK;AAEL,MAAA,WAAmB,MAAK,UAAd,OAAS,MAAK;AAChC,MAAI,SAAS,WAAW,GAAG;AACzB,WAAO;;AAET,SAAO,KAAK,IAAG,MAAR,MAAIM,eAAA,CAAA,GAAAC,QACN,SAAS,IAAI,SAAA,YAAU;AAAI,WAAA,8BAA8B,QAAQ,OAAO,UAAU,CAAC;EAAC,CAAA,CAAC,GAAA,KAAA,CAAA,IACtF;AACN;IAEa,2BAAuD,SAClE,QAAQJ,eAAY;AACjB,SAAC,OAA6B,IAAI,SAAC,OAAK;AAC3C,QAAM,YAAY,8BAA8B,QAAQA,eAAc,KAAK;AAC3E,WAAAH,UAAAA,UAAA,CAAA,GACK,KAAK,GAAA,EACR,UAAS,CAAA;EAEb,CAAC;AAAC;AAEF,IAAM,gCAAiE,SACrE,QAAQG,eAAc,OAAK;AAErB,MAAAF,MAA4B,OAA1B,WAAQA,IAAA,UAAE,QAAKA,IAAA,OAAE,OAAIA,IAAA;AAC7B,MAAI,SAAS,WAAW,GAAG;AACzB,WAAO,SAAS,SACZ,KAAK,IAAI,MAAME,cAAa,MAAM,CAAC,CAAC,EAAE,KAAK,IAAI,IAC/CA,cAAa,MAAM,CAAC,CAAC,EAAE,KAAK;;AAElC,SAAO,KAAK,IAAG,MAAR,MAAIG,eAAA,CAAA,GAAAC,QACN,SAAS,IAAI,SAAA,YAAU;AAAI,WAAA,8BAC5B,QAAQJ,eAAc,OAAO,UAAU,CAAC;EACzC,CAAA,CAAC,GAAA,KAAA,CAAA;AAEN;IAEa,0BAAqD,SAAC,QAAM;AACvE,MAAM,aAAc,OAA6B,IAAI,SAAA,OAAK;AAAI,WAAAH,UAAA,CAAA,GAAM,KAAK;EAAA,CAAG;AAE5E,aAAW,QAAQ,SAAC,OAAK;AACf,QAAQ,cAAkD,MAAK,QAA1C,YAAqC,MAAK,WAA/B,aAA0B,MAAK,YAAnB,YAAc,MAAK;AACvE,QAAI,gBAAgB,QAAW;AAC7B,YAAM,QAAQ;AACd,YAAM,QAAQ,IAAI,aAAa,aAAa,YAAY;AACxD;;AAGF,QAAM,SAAS,WAAW,WAAW;AAC/B,QAAAC,MAAmD,QAA3C,aAAUA,IAAA,MAAa,kBAAeA,IAAA;AACpD,UAAM,YAAY;AAClB,UAAM,QAAQ;AACd,UAAM,QAAQ,IAAI,aAAa,aAAa,kBAAkB;GAC/D;AAED,SAAO;AACT;IAEa,mBAAuC,SAClD,QAAQE,eAAY;AACjB,SAAA,OAAO,IAAI,SAAC,OAAK;AACZ,QAAA,QAAgB,MAAK,OAAd,OAAS,MAAK;AAC7B,QAAM,YAAYA,cAAa,MAAM,CAAC,CAAC;AAC/B,QAAQ,uBAAyB,UAAS;AAClD,QAAI,yBAAyB,QAAW;AACtC,aAAO;;AAGT,QAAM,kBAAkBA,cAAa,oBAAoB;AACzD,QAAM,cAAc,OAAO,gBAAgB,UAAU;AAErD,WAAAH,UAAAA,UAAA,CAAA,GACK,KAAK,GAAA,EACR,MAAM,YAAY,WAAW,SAAY,OAAO,OAAO,YAAY,MAAM,EAAE,KAAI,CAAA;EAEnF,CAAC;AAAC;AAEF,IAAM,mCAAuE,SAC3E,mBAAmB,cAAY;AAE/B,MAAM,oBAAoB,wBAAwB,mBAAmB,YAAY;AACjF,MAAM,0BAA0B,KAAK,IACnC,IAAI,mBAAmB,iBAAiB,GACxC,0BAA0B;AAE5B,MAAM,iBAAiB,8BACrB,mBAAmB,uBAAuB;AAG5C,MAAM,4BAA4B,yBAAyB,cAAc;AACzE,MAAM,oBAAoB,4BAA4B,yBAAyB;AAC/E,MAAM,qBAAqB,mBAAmB,iBAAiB;AAC/D,MAAM,oBAAoB,gBAAgB,kBAAkB;AAC5D,SAAO,eAAe,mBAAmB,uBAAuB;AAClE;IAEa,uCAA+E,SAC1F,MAAM,WAAW,aAAa,iBAAiB,cAAY;AAEnD,MAAA,gBAA6B,KAAI,eAAlB,YAAc,KAAI;AACzC,MAAM,eAAe,kBAAkB;AAEvC,MAAM,SAAS,UAAU,IAAI,gBAAgB;AAC7C,MAAM,UAAU,OAAO,OAAQ,SAAC,KAAK,aAAW;AAAK,WAAAM,eAAAA,eAAA,CAAA,GAAAC,QAChD,GAAG,GAAA,KAAA,GAAAA,QACH,2BAA2B,aAAoC,YAAY,CAAC,GAAA,KAAA;EAAA,GAC7E,CAAA,CAAyB;AAErB,MAAA,eAAmD,gBAAe,cAApD,mCAAqC,gBAAe;AAC1E,MAAM,iBAAiB,eACnB,2BACA,mCAAmC,4BAA4B;AAEnE,MAAM,mBAAmB,4BACvB,SAAkB,YAAY;AAEhC,MAAM,4BAA4B,CAAC,gBAAgB,CAAC;AACpD,MAAI;AAEJ,MAAI,2BAA2B;AAC7B,wBAAoB,iCAClB,kBAAwC,YAAY;;AAIxD,MAAM,wBAAwB,4BAC1B,wBAAwB,iBAAkB,IAC1C,aAAa,gBAAgB;AACjC,MAAM,QAAQ,sBAAsB,IAAI,SAAA,aAAW;AAAI,WAAA,eACrD,aAAa,cACb,EAAE,aAAa,WAAW,gBAAe,CAAE;EAC5C,CAAA;AACD,SAAO,MAAM,KAAK,SAAC,OAAO,QAAM;AAAK,WAAA,MAAM,UAAW,OAAO,SAAU,IAAI;EAAE,CAAA;AAC/E;IC9iCa,wBAET,SAAC,aAAa,cAAY;AACpB,MAAA,QAA8B,YAAW,OAAlC,MAAuB,YAAW,KAA7B,WAAkB,YAAW,UAAnB,MAAQ,YAAW;AACjD,MAAI,MAAM,OAAO,KAAK,KAAK;AAAG,WAAO,CAAC,WAAW;AAEjD,MAAM,cAAc,eAAe;AACnC,MAAM,oBAAoB,MAAM,MAAK,EAAG,MAAM,KAAK,EAAE,KAAK,OAAO,SAAS,IAAI;AAC9E,MAAM,qBAAqB,IAAI,MAAK,EAAG,KAAK,IAAI,MAAK,EAAG,QAAQ,KAAK,GAAG,SAAS,IAAI;AACrF,MAAM,sBAAsB,aAAa,KAAK,KAAK;AACnD,MAAM,uBAAuB,aAAa,KAAK,GAAG;AAElD,SAAO;IACL,oBAAoB;MAClB,OAAO,MAAM,MAAK,EAAG,MAAM,KAAK,EAAE,IAAI,CAAC,aAAa,SAAS;MAC7D,KAAK,MAAM,MAAK,EAAG,MAAM,KAAK;MAC9B;MACA,KAAK;QACH;MACF;MAAO,KAAK,MAAM,MAAK,EAAG,MAAM,KAAK;MAAG;MACxC,KAAK;;IAEP,qBAAqB;MACnB,OAAO,IAAI,MAAK,EAAG,QAAQ,KAAK;MAChC,KAAK,IAAI,MAAK,EAAG,QAAQ,KAAK,EAAE,IAAI,aAAa,SAAS;MAC1D;MACA,KAAK;QACH;MACF,OAAO,IAAI,MAAK,EAAG,QAAQ,KAAK;MAAG;MAAK;MACxC,KAAK;;;AAGX;AAEA,IAAa,uBAA+C,SAC1D,aACA,WAAW,YACX,cAAiB;AAAjB,MAAA,iBAAA,QAAA;AAAA,mBAAA,CAAA;EAAiB;AAEjB,MAAM,WAAW,eAAO,SAAiB;AACzC,MAAM,SAAS,eAAO,UAAkB;AACxC,MAAM,eAAe,eAAO,YAAY,KAAK,EAC1C,KAAK,SAAS,KAAI,CAAE,EACpB,QAAQ,SAAS,QAAO,CAAE;AAC7B,MAAM,aAAa,eAAO,YAAY,KAAK,EACxC,KAAK,OAAO,KAAI,CAAE,EAClB,QAAQ,OAAO,QAAO,CAAE;AAE3B,MAAI,YAAY,IAAI,SAAS,QAAQ,KAAK,YAAY,MAAM,QAAQ,MAAM;AAAG,WAAO;AACpF,MAAI,aAAa,UAAU,SAAA,KAAG;AAAI,WAAA,QAAQ,eAAO,YAAY,KAAK,EAAE,IAAG;EAAE,CAAA,MAAM;AAAI,WAAO;AAC1F,SAAQ,YAAY,IAAI,QAAQ,YAAY,KACvC,YAAY,MAAM,SAAS,UAAU;AAC5C;AAEA,IAAa,+BAA+D,SAC1E,aAAa,WAAW,YAAY,cAAY;AAEhD,MAAM,WAAW,eAAO,SAAiB;AACzC,MAAM,SAAS,eAAO,UAAkB;AACxC,MAAM,eAAe,eAAO,YAAY,KAAK,EAC1C,KAAK,SAAS,KAAI,CAAE,EACpB,QAAQ,SAAS,QAAO,CAAE,EAC1B,QAAQ,SAAS,QAAO,CAAE;AAC7B,MAAM,aAAa,eAAO,YAAY,KAAK,EACxC,KAAK,OAAO,KAAI,CAAE,EAClB,QAAQ,OAAO,QAAO,CAAE,EACxB,QAAQ,OAAO,QAAO,CAAE;AAE3B,MAAM,cAAc,eAAe;AACnC,MAAM,oBAAoB,WAAW,MAAK,EAAG,KAAK,YAAY,OAAO,SAAS,IAAI;AAClF,MAAM,qBAAqB,YAAY,IAAI,MAAK,EAAG,KAAK,cAAc,SAAS,IAAI;AAEnF,MAAI,mBAAmB;AACrB,WAAAP,UAAAA,UAAA,CAAA,GACK,WAAW,GAAA,EAAE,OAAO,WAAW,MAAK,EAAG,IAAI,CAAC,aAAa,SAAS,GAAG,KAAK,WAAU,CAAA;;AAI3F,MAAI,oBAAoB;AACtB,WAAAA,UAAAA,UAAA,CAAA,GACK,WAAW,GAAA,EAAE,OAAO,cAAc,KAAK,aAAa,MAAK,EAAG,IAAI,aAAa,SAAS,EAAC,CAAA;;AAI9F,SAAAA,UAAAA,UAAAA,UAAA,CAAA,GACK,WAAW,GACV,YAAY,MAAM,eAAe,YAAY,IAAI,EAAE,OAAO,aAAY,IAAK,IAAI,GAC/E,YAAY,IAAI,cAAc,UAAU,IAAI,EAAE,KAAK,WAAU,IAAK,IAAI;AAE9E;IAEa,+BAA+D,SAC1E,aAAa,cAAY;AAEzB,MAAM,cAAc,eAAe;AACnC,MAAM,QAAQ,eAAO,YAAY,KAAa;AAC9C,MAAM,MAAM,eAAO,YAAY,GAAW;AAE1C,MAAI,IAAI,KAAK,OAAO,SAAS,IAAI,aAAa;AAC5C,WAAAA,UAAAA,UAAA,CAAA,GAAY,WAAW,GAAA,EAAE,OAAO,IAAG,CAAA;;AAGrC,MAAI,IAAI,OAAO,MAAM,MAAK,EAAG,IAAI,aAAa,SAAS,GAAG,KAAK,GAAG;AAChE,WAAAA,UAAAA,UAAA,CAAA,GAAY,WAAW,GAAA,EAAE,OAAO,KAAK,MAAM,MAAK,EAAG,IAAI,aAAa,SAAS,EAAC,CAAA;;AAGhF,SAAAA,UAAAA,UAAA,CAAA,GACK,WAAW,GAAA,EACd,OAAO,MAAM,MAAK,EAAG,MAAM,KAAK,EAAE,IAAI,CAAC,aAAa,SAAS,GAC7D,KAAK,MAAM,MAAK,EAAG,MAAM,KAAK,EAAC,CAAA;AAEnC;IAEa,sCAET,SAACE,gBAAe,MAAI;AAAM,SAAAA,eAAc,CAAC,EAAE,UAAU,SACvD,UAAkB;AACf,WAAA,eAAO,IAAyB,EAAE,OAAO,SAAS,WAAW,MAAM;EAAC,CAAA;AAAC;AAE1E,IAAa,wCAET,SAACA,gBAAe,aAAa,MAAI;AAAK,SAAAA,eAAc,CAAC,EAAE,UAAU,SAAC,UAAkB;AACtF,QAAM,iBAAiB,sBAAsB,UAAU,WAAW;AAClE,WAAO,eAAO,IAAyB,EAAE,OAAO,SAAS,WAAW,MAAM,KAAK;EACjF,CAAC;AAAC;IAEW,mCAET,SAACA,gBAAe,aAAa,MAAM,aAAa,UAAU,YAAU;AACtE,MAAM,kBAAkBA,eAAc,SAAS;AAC/C,MAAI,oBAAoB,mCACtBA,gBAAe,MAAM,aAAa,QAAQ;AAG5C,MAAI,CAACA,eAAc,CAAC,EAAE,CAAC,EAAE;AAAc,WAAO;AAE9C,MAAI,cAAc,CAAC,sBACjBA,eAAc,iBAAiB,EAAE,WAAW,GAAG,WAAW;AAE5D,SAAO,aAAa;AAClB,yBAAqB;AACrB,kBAAc,CAAC,sBACbA,eAAc,iBAAiB,EAAE,WAAW,GAAG,WAAW;;AAG9D,SAAO;AACT;AAEA,IAAa,qCAET,SAACA,gBAAe,MAAM,aAAa,UAAQ;AAAK,SAAAA,eAAc,UAChE,SAAA,UAAQ;AAAI,WAAA,eAAO,IAAyB,EACzC,UACC,SAAS,WAAW,EAAE,WACtB,SAAS,WAAW,EAAE,SACtB,WACA,WAAW,OAAO,IAAI;EAAC,CAAA;AACxB;IC/JQ,6BAA2D,SACtEC,eACA,WAAW,YACX,cACA,cAAY;AACT,SAAA;IACHA,cACG,IAAI,SAAA,aAAW;AAAI,aAAA,6BAA6B,aAAa,YAAY;IAAC,CAAA,EAC1E,OAAO,SAAC,KAAK,aAAW;AACvB,aAAAG,eAAAA,eAAA,CAAA,GAAAC,QAAI,GAAG,GAAA,KAAA,GAAAA,QAAK,uBAAuB,aAAa,WAAW,YAAY,cAAc,IAAI,CAAC,GAAA,KAAA;OAC1F,CAAA,CAAyB,EAE1B,OAAO,SAAC,KAAK,aAAW;AAAK,aAAAD,eAAAA,eAAA,CAAA,GAAAC,QACxB,GAAG,GAAA,KAAA,GAAAA,QAAK,sBAAsB,aAAa,YAAY,CAAC,GAAA,KAAA;IAAA,GAAI,CAAA,CAAyB,EAE1F,OAAO,SAAA,aAAW;AAAI,aAAA,qBAAqB,aAAa,WAAW,YAAY,YAAY;IAAC,CAAA,EAC5F,IAAI,SAAA,aAAW;AAAI,aAAA,6BAClB,aAAa,WAAW,YAAY,YAAY;IACjD,CAAA;;AACJ;ACfD,IAAM,cAAc;AACpB,IAAM,kCAAkC;AACxC,IAAM,gCAAgC;IAEzB,wCAAoE,SAC/E,aAAaL,gBAAe,cAAc,MAAM,UAAgB;AAAhB,MAAA,aAAA,QAAA;AAAA,eAAA;EAAgB;AAExD,MAAA,mBAAiC,aAAY,kBAA3B,aAAe,aAAY;AAErD,MAAM,cAAc,qBAAqB,6BACrC,oCAAoCA,gBAAe,IAAI,IACvD,sCAAsCA,gBAAe,aAAa,IAAI;AAC1E,MAAM,WAAW,qBAAqB,6BAClC,iCACAA,gBAAe,aAAa,MAAM,aAAa,UAAU,UAAU,IACjE,mCAAmCA,gBAAe,MAAM,aAAa,QAAQ;AAEnF,MAAMO,aAAa,WAAWP,eAAc,CAAC,EAAE,SAAU;AACzD,SAAO;IACL,OAAOO;IACP,WAAWP,eAAc,QAAQ,EAAE,WAAW,EAAE;;AAEpD;AAEA,IAAM,cAAqC,SACzC,MAAM,aAAaA,gBAAe,cAClC,kBAAkB,UAAU,cAAY;AAElC,MAAAD,MAGF,sCACF,aAAaC,gBAAe,cAAc,MAAM,QAAQ,GAHjDO,aAASR,IAAA,OACL,gBAAaA,IAAA;AAKpB,MAAA,KAKF,iBAAiB,aAAaQ,UAAS,EAAC,GAJ1C,MAAG,GAAA,KACH,OAAI,GAAA,MACJ,QAAK,GAAA,OACG,aAAU,GAAA;AAEpB,MAAM,aAAa,eAAO,IAAyB,EAAE,KAAK,eAAuB,SAAS;AAC1F,MAAM,YAAY,cAAc,aAAa;AAC7C,MAAM,aAAa,iBAAiB,WAAU;AAE9C,SAAO;IACL;IACA;IACA;IACA;IACA;;AAEJ;AAEA,IAAa,mCAAuE,SAClF,aACA,cACAR,KAKC;MAJCC,iBAAaD,IAAA,eACb,eAAYA,IAAA,cACZ,mBAAgBA,IAAA,kBAChB,mCAAgCA,IAAA;AAGlC,MAAM,gBAAgB,YACpB,YAAY,MAAM,OAAM,GAAI,aAAaC,gBACzC,cAAc,kBAAkB,OAAO,YAAY;AAErD,MAAM,eAAe,YACnB,YAAY,IAAI,OAAM,GAAI,aAAaA,gBACvC,cAAc,kBAAkB,MAAM,YAAY;AAGpD,MAAM,MAAM,cAAc,MAAM,cAAc;AAC9C,MAAM,SAAU,aAAa,MAAM,aAAa,YAAa;AAE7D,SAAO;IACL,OAAO,cAAc,QAAQ,cAAc;IAC3C,KAAK,MAAM,cAAc,WAAW,MAAM;IAC1C,MAAM,cAAc,OAAO,cAAc,WAAW,OAAO;IAC3D,aAAa,cAAc,WAAW;IACtC,QAAQ,mCAAmC,SAAS,gCAAgC;;AAExF;ICrFa,kBAA8D,SAAA,aAAW;AAAI,SACxF,YAAY,IAAI,KAAK,YAAY,OAAO,OAAO,IAAI,MAChD,CAAC,CAAC,YAAY;AAAM;IAGZ,sCAA6E,SACxFA,gBAAe,cAAc,MAAM,aAAa,UAAQ;AAExD,MAAM,cAAc,eAAO,IAAyB;AAC5C,MAAA,mBAAiC,aAAY,kBAA3B,aAAe,aAAY;AAErD,MAAM,cAAc,qBAAqB,+BACrC,wCAAwCA,gBAAe,aAAa,WAAW,IAC/E,sCAAsCA,gBAAe,WAAW;AACpE,MAAM,WAAW,qBAAqB,+BAClC,IAAI,mCAAmCA,gBAAe,aAAa,UAAU;AAEjF,MAAIO,aAAY,WAAWP,eAAc,CAAC,EAAE,SAAS;AACrD,MAAI,YAAY,YAAY,OAAM,MAAO,YAAY,QAAQ,KAAK,EAAE,OAAM,GAAI;AAC5E,IAAAO,cAAa;;AAEf,SAAOA;AACT;IAEa,wCAET,SAACP,gBAAe,MAAI;AAAK,SAAAA,eAAc,CAAC,EAAE,UAAU,SAAC,UAAQ;AAC/D,WAAO,KAAK,OAAO,SAAS,WAAW,MAAM;EAC/C,CAAC;AAAC;AAEF,IAAa,0CAET,SAACA,gBAAe,MAAM,aAAW;AAAK,SAAAA,eAAc,CAAC,EAAE,UAAU,SAAA,UAAQ;AAAI,WAC/E,KAAK,OAAO,SAAS,WAAW,MAAM,KAAK,sBAAsB,UAAU,WAAW;EAAC,CACxF;AAAC;AAEF,IAAa,qCAET,SAACA,gBAAe,aAAa,YAAU;AACzC,MAAM,QAAQA,eAAc,UAAU,SAAA,kBAAgB;AAAI,WAAA,sBACxD,iBAAiB,CAAC,GAAG,WAAW;EACjC,CAAA;AACD,SAAO,QAAQ,aAAaA,eAAc;AAC5C;AAEA,IAAa,gCAAiE,SAC5E,aAAa,MAAM,OAAO,cAAiB;AAAjB,MAAA,iBAAA,QAAA;AAAA,mBAAA,CAAA;EAAiB;AAE3C,MAAM,YAAY,YAAY,MAAM,MAAK;AACzC,MAAM,UAAU,YAAY,IAAI,MAAK;AACrC,MAAI,YAAY,UAAU,MAAK;AAC/B,MAAI,UAAU,QAAQ,MAAK;AAE3B,MAAI,UAAU,SAAS,IAAY,GAAG;AACpC,gBAAY,eAAO,IAAY;AAC/B,cAAU,QAAQ,KAAK;;AAEzB,MAAI,QAAQ,QAAQ,KAAa,GAAG;AAClC,cAAU,eAAO,KAAa;AAC9B,YAAQ,MAAM,KAAK;;AAErB,MAAI,aAAa,UAAU,SAAA,KAAG;AAAI,WAAA,QAAQ,UAAU,IAAG;EAAE,CAAA,MAAM,IAAI;AACjE,WAAO,aAAa,UAAU,SAAA,KAAG;AAAI,aAAA,QAAQ,UAAU,IAAG;IAAE,CAAA,MAAM,MAC7D,UAAU,eAAe,SAAS,KAAK,GAAG;AAC7C,gBAAU,IAAI,GAAG,MAAM,EAAE,QAAQ,KAAK;;;AAG1C,MAAI,aAAa,UAAU,SAAA,KAAG;AAAI,WAAA,QAAQ,QAAQ,IAAG;EAAE,CAAA,MAAM,IAAI;AAC/D,WAAO,aAAa,UAAU,SAAA,KAAG;AAAI,aAAA,QAAQ,QAAQ,IAAG;IAAE,CAAA,MAAM,MAC3D,UAAU,cAAc,WAAW,KAAK,GAAG;AAC9C,cAAQ,IAAI,IAAI,MAAM,EAAE,MAAM,KAAK;;;AAGvC,SAAO,CAAAF,UAAAA,UAAA,CAAA,GAAM,WAAW,GAAA,EAAE,OAAO,WAAW,KAAK,QAAO,CAAA,CAAA;AAC1D;IAEa,0BAET,SAAC,aAAa,cAAiB;AAAjB,MAAA,iBAAA,QAAA;AAAA,mBAAA,CAAA;EAAiB;AACjC,MAAM,YAAY,YAAY;AAC9B,MAAM,UAAU,YAAY;AAC5B,MAAI,YAAY,UAAU,MAAK;AAC/B,MAAMG,gBAAe,CAAA;AAErB,SAAO,UAAU,SAAS,OAAO,GAAG;AAClC,QAAI,aAAa,UAAU,SAAA,KAAG;AAAI,aAAA,QAAQ,UAAU,IAAG;IAAE,CAAA,MAAM,IAAK;AAClE,MAAAA,cAAa,KAAIH,UAAAA,UAAA,CAAA,GACZ,WAAW,GAAA,EACd,OAAO,WACP,KAAK,eAAO,SAAS,EAAE,MAAM,KAAK,EAAC,CAAA,CAAA;;AAGvC,gBAAY,eAAO,SAAS,EAAE,IAAI,GAAG,KAAK;;AAE5C,SAAOG;AACT;ICtGa,sBAAsB;EACjC,UAAU;;AAGZ,IAAa,eAAe;EAC1B,QAAQ;EACR,SAAS;EACT,WAAW;EACX,UAAU;EACV,QAAQ;EACR,UAAU;EACV,QAAQ;;AAGV,IAAa,qBAAqB;EAChC,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;;IAGK,eAAe;AAE5B,IAAa,qBAAqB;EAChC,aAAa;EAAQ,aAAa;EAAQ,aAAa;EAAS,aAAa;EAC7E,aAAa;EAAU,aAAa;EAAQ,aAAa;;AAkB3D,IAAa,qBAAqB;EAChC,QAAQ,MAAM;EACd,SAAS,MAAM;EACf,QAAQ,MAAM;EACd,OAAO,MAAM;EACb,QAAQ,MAAM;EACd,UAAU,MAAM;;AAGlB,IAAa,eAAe;EAC1B,OAAO;EACP,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,OAAO;;AAGT,IAAa,qBAAqB;EAChC,aAAa;EAAO,aAAa;EAAQ,aAAa;EAAS,aAAa;;AAG9E,IAAa,qBAAqB;EAChC;EAAc;EAAe;EAAc;EAAe;;IAG/C,yBAAyB;IACzB,sBAAsB;IACtB,qBAAqB;IAErB,oBAAoB;IACpB,wBAAwB;IACxB,uBAAuB;IACvB,gBAAgB;IAEhB,QAAQ;IACR,iBAAiB;IAEjB,cAAc;IACd,gBAAgB;IAChB,gBAAgB;IAEhB,kBAAkB;IAClB,kBAAkB;IAElB,cAAc,IAAI,KAAK,MAAM,GAAG,EAAE;IAClC,cAAc,IAAI,KAAK,MAAM,GAAG,EAAE;IAClC,eAAe,IAAI,KAAK,MAAM,GAAG,EAAE;IACnC,iBAAiB,IAAI,KAAK,MAAM,GAAG,EAAE;IACrC,gBAAgB,IAAI,KAAK,MAAM,GAAG,EAAE;IACpC,cAAc,IAAI,KAAK,MAAM,GAAG,EAAE;IAClC,gBAAgB,IAAI,KAAK,MAAM,GAAG,EAAE;AAEjD,IAAa,qBAAqB;EAChC;EAAa;EAAa;EAAc;EACxC;EAAe;EAAa;;IAGjB,eAAe,IAAI,KAAK,MAAM,GAAG,CAAC;IAClC,gBAAgB,IAAI,KAAK,MAAM,GAAG,CAAC;IACnC,aAAa,IAAI,KAAK,MAAM,GAAG,CAAC;IAChC,aAAa,IAAI,KAAK,MAAM,GAAG,CAAC;IAChC,WAAW,IAAI,KAAK,MAAM,GAAG,CAAC;IAC9B,YAAY,IAAI,KAAK,MAAM,GAAG,CAAC;IAC/B,YAAY,IAAI,KAAK,MAAM,GAAG,CAAC;IAC/B,cAAc,IAAI,KAAK,MAAM,GAAG,CAAC;IACjC,iBAAiB,IAAI,KAAK,MAAM,GAAG,CAAC;IACpC,eAAe,IAAI,KAAK,MAAM,GAAG,CAAC;IAClC,gBAAgB,IAAI,KAAK,MAAM,IAAI,CAAC;IACpC,gBAAgB,IAAI,KAAK,MAAM,IAAI,CAAC;AAEjD,IAAa,eAAe;EAC1B;EAAc;EAAe;EAAY;EAAY;EAAU;EAC/D;EAAW;EAAa;EAAgB;EAAc;EAAe;;IAO1D,YAAY;IAEZ,oBAAoB;IACpB,sBAAsB;IACtB,qBAAqB;AAClC,IAAa,oBAAoB;ICzHpB,yBAAmD,SAAC,YAAY,aAAa,MAAI;AACpF,MAAA,OAAgB,WAAU,MAApB,QAAU,WAAU;AAClC,MAAM,SAA8B,CAAA;AAC5B,MAAA,QAAmC,YAAW,OAAvC,MAA4B,YAAW,KAAlC,MAAuB,YAAW,KAA1B,aAAUO,QAAK,aAArC,CAAA,SAAA,OAAA,KAAA,CAAkC;AACxC,MAAI,YAAY;AAChB,MAAI,UAAU;AACd,MAAI,UAAU,SAAS,IAAI;AAAG,gBAAY,KAAK,MAAK;AACpD,MAAI,QAAQ,QAAQ,KAAK;AAAG,cAAU,MAAM,MAAK;AACjD,MAAI,YAAY,UAAU,MAAK;AAC/B,MAAI,UAAU,UAAU,MAAK;AAC7B,MAAI,IAAI;AACR,SAAO,QAAQ,SAAS,OAAO,GAAG;AAChC,QAAM,oBAAoB,KAAK,MAAK,EAAG,IAAI,OAAO,GAAG,MAAM,EAAE,SAAS,GAAG,QAAQ;AACjF,QAAI,kBAAkB,QAAQ,SAAS,GAAG;AACxC,gBAAU,UAAU,MAAK,EAAG,IAAI,OAAO,GAAG,MAAM;AAChD,UAAI,QAAQ,QAAQ,iBAAiB,GAAG;AACtC,kBAAU,kBAAkB,MAAK;;AAEnC,UAAI,QAAQ,QAAQ,OAAO,GAAG;AAC5B,kBAAU,QAAQ,MAAK;;AAEzB,UAAI,CAAC,UAAU,cAAc,OAAO,GAAG;AACrC,eAAO,KAAIC,UAAA,EACT,OAAO,WACP,KAAK,SACL,KAAK,aAAa,KAAK,SAAS,EAAC,GAC9B,UAAU,CAAA;AAEf,oBAAY,QAAQ,MAAK,EAAG,IAAI,GAAG,QAAQ;;;AAG/C,SAAK;;AAEP,SAAO;AACT;IAEa,qCAA2E,SACtFC,gBAAe,cAAc,MAAM,aAAa,UAAgB;AAAhB,MAAA,aAAA,QAAA;AAAA,eAAA;EAAgB;AAG9D,MAAA,mBAGE,aAAY,kBAFd,gBAEE,aAAY,eADd,aACE,aAAY;AAEhB,MAAMC,iBAAgB,eAAOD,eAAc,CAAC,EAAE,CAAC,EAAE,SAAS;AAC1D,MAAM,cAAc,eAAO,IAAyB;AACpD,MAAI,YAAY,YAAY,KAAKC,gBAAe,MAAM;AACtD,MAAI,YAAY,YAAY,OAAM,MAAO,YAAY,QAAQ,KAAK,EAAE,OAAM,GAAI;AAC5E,iBAAa;;AAEf,MAAM,aAAa,KAAK,MAAM,YAAY,YAAY;AACtD,MAAM,YAAY,YAAY;AAE9B,MAAM,cAAc,qBAAqB,+BACrC,uCACAD,gBAAe,aAAa,YAAY,WAAW,YAAY,aAAa,IAE5E;AACJ,MAAM,WAAW,qBAAqB,+BAClC,aACA,kCACAA,gBAAe,aAAa,YAAY,WAAW,UAAU;AAGjE,MAAM,iBAAiB,WAAWA,eAAc,CAAC,EAAE,SAAS;AAC5D,SAAO;AACT;IAEa,yCAET,SAACA,gBAAe,aAAa,YAAY,WAAW,YAAY,aAAW;AAC7E,MAAI,cAAc;AAClB,MAAI,qBAAqB,cAAc,YAAY,aAAa;AAChE,MAAM,kBAAkB,cAAc,IAAI;AAE1C,SAAO,gBAAgB,IAAI;AACzB,QAAM,gBAAgB,sBACpBA,eAAc,UAAU,EAAE,kBAAkB,GAAG,WAAW;AAE5D,QAAI,eAAe;AACjB,oBAAc;;AAEhB,0BAAsB;;AAExB,SAAO;AACT;IAEa,oCAET,SAACA,gBAAe,aAAa,YAAY,WAAW,YAAU;AAChE,MAAM,iBAAiBA,eAAc,SAAS;AAC9C,MAAI,WAAW;AACf,MAAI,kBAAkB;AACtB,SAAO,aAAa,IAAI;AACtB,QAAM,gBAAgB,sBACpBA,eAAc,eAAe,EAAE,SAAS,GAAG,WAAW;AAExD,QAAI,eAAe;AACjB,iBAAW;;AAEb,uBAAmB;;AAErB,SAAO;AACT;AC/GA,IAAM,kBAAkB;AACxB,IAAM,uBAAuB;AAE7B,IAAME,gBAAuC,SAC3C,MAAM,aAAaF,gBAAe,cAAc,kBAAkB,UAAU,WAAS;AAErF,MAAMG,aAAY,YACd,mCACAH,gBAAe,cAAc,MAAM,aAAa,QAAQ,IACtD,oCACFA,gBAAe,cAAc,MAAM,aAAa,QAAQ;AAGtD,MAAAI,MAKF,iBAAiB,aAAaD,UAAS,EAAC,GAJ1C,MAAGC,IAAA,KACH,OAAIA,IAAA,MACJ,QAAKA,IAAA,OACL,SAAMA,IAAA;AAER,MAAM,aAAa,iBAAiB,WAAU;AAC9C,SAAO;IACL;IACA;IACA;IACA;IACA;;AAEJ;AAEA,IAAa,qCAA2E,SACtF,aACA,cACAA,KAIC;MAHC,YAASA,IAAA,WACTJ,iBAAaI,IAAA,eACb,mBAAgBA,IAAA;AAGlB,MAAM,gBAAgBF,cACpB,YAAY,MAAM,OAAM,GAAI,aAAaF,gBACzC,cAAc,kBAAkB,OAAO,SAAS;AAElD,MAAM,eAAeE,cACnB,YAAY,IAAI,OAAM,GAAI,aAAaF,gBACvC,cAAc,kBAAkB,MAAM,SAAS;AAGjD,MAAM,MAAM,cAAc,MAAO,cAAc,SAAS;AACxD,MAAM,SAAS,cAAc,SAAU,cAAc,SAAS;AAE9D,SAAO;IACL,KAAK,MAAM,cAAc,WAAW;IACpC,MAAO,cAAc,OAAO,cAAc,WAAW,OAAQ;IAC7D,OAAS,aAAa,OAAO,cAAc,OAAQ,cAAc,QAAS;IAC1E;IACA,aAAa,cAAc,WAAW;;AAE1C;ACrDA,IAAM,YAAY;AAClB,IAAM,eAAe;AAErB,IAAa,iBAA2C,SACtD,aACA,gBACA,eACA,OAAK;AADL,MAAA,kBAAA,QAAA;AAAA,oBAAA;EAAiB;AAGjB,MAAM,aAAa,eAAO,WAAmB;AAC7C,MAAM,gBAAgB,CAAC,WAAW,MAAK,CAAE;AACzC,SAAO,cAAc,SAAS,eAAe;AAC3C,kBAAc,KAAK,WAAW,IAAI,GAAG,QAAQ,EAAE,MAAK,CAAE;;AAExD,MAAM,iBAAiB,eAAO,WAAmB,EAAE,KAAK,CAAC;AACzD,MAAM,gBAAgB,eAAe,IAAG,IAAK;AAC7C,MAAM,oBAAoB,eAAe,IAAI,aAAa,EAAE,IAAG,KAAM;AACrE,MAAM,YAAY,eAAO,WAAmB,EAAE,SAAS,GAAG,QAAQ;AAClE,MAAM,oBAAoB,UAAU,YAAW,KAAM,oBAAoB;AACzE,MAAM,OAAO,eAAM,EAChB,KAAK,UAAU,KAAI,CAAE,EACrB,MAAM,UAAU,MAAK,CAAE,EACvB,KAAK,iBAAiB,EACtB,QAAQ,KAAK;AAEhB,MAAM,SAA4B,CAAA;AAClC,SAAO,OAAO,SAAU,KAAK,MAAO,eAAe,gBAAiB,SAAS,IAAI,GAAI;AACnF,QAAM,OAAwB,CAAA;AAC9B,WAAO,KAAK,SAAS,WAAW;AAC9B,WAAK,KAAK;QACR,WAAW,KAAK,OAAM;QACtB,SAAS,KAAK,MAAK,EAAG,IAAI,GAAG,KAAK,EAAE,OAAM;QAC1C,YAAY,cAAc,UAAU,SAAA,OAAK;AAAI,iBAAA,UAAU,KAAK,MAAK;QAAE,CAAA,MAAM;QACzE,OAAO,QAAQ,eAAO,KAAa,EAAE,OAAO,MAAM,MAAM,IAAI;OAC7D;AACD,WAAK,IAAI,GAAG,KAAK;;AAEnB,WAAO,KAAK,IAAI;;AAElB,SAAO;AACT;AAEA,IAAa,8BAA6D,SACxEK,eAAc,WAAW,YAAU;AAChC,SAAA;IACHA,cACG,IAAI,SAACD,KAA2B;AAAzB,UAAA,QAAKA,IAAA,OAAE,MAAGA,IAAA,KAAK,WAAQN,QAAAM,KAAzB,CAAA,SAAA,KAAA,CAA2B;AAAK,aAAAL,UAAA,EAAG,OAAO,eAAO,KAAK,GAAG,KAAK,eAAO,GAAG,EAAC,GAAK,QAAQ;KAAG,EAC9F,OAAO,SAAC,KAAK,aAAW;AACvB,aAAAO,eAAAA,eAAA,CAAA,GAAAC,QAAI,GAAG,GAAA,KAAA,GAAAA,QAAK,uBAAuB,aAAa,WAAW,YAAY,CAAA,GAAI,KAAK,CAAC,GAAA,KAAA;OACjF,CAAA,CAAyB,EAE1B,OAAO,SAAC,KAAK,aAAW;AAAK,aAAAD,eAAAA,eAAA,CAAA,GAAAC,QACzB,GAAG,GAAA,KAAA,GAAAA,QACH,uBACD,EAAE,MAAM,eAAO,SAAiB,GAAG,OAAO,eAAO,UAAkB,EAAC,GACpE,aACA,SAAS,CACV,GAAA,KAAA;IAAA,GACC,CAAA,CAAyB;;AAChC;IC5DY,+BAA+D,SAC1EF,eACA,WAAW,YACX,cAAY;AACT,SAAA;IACHA,cACG,IAAI,SAACD,KAA2B;AAAzB,UAAA,QAAKA,IAAA,OAAE,MAAGA,IAAA,KAAK,WAAQN,QAAAM,KAAzB,CAAA,SAAA,KAAA,CAA2B;AAAK,aAAAL,UAAA,EAAG,OAAO,eAAO,KAAK,GAAG,KAAK,eAAO,GAAG,EAAC,GAAK,QAAQ;KAAG,EAC9F,OAAO,SAAC,KAAK,aAAW;AACvB,aAAAO,eAAAA,eAAA,CAAA,GAAAC,QAAI,GAAG,GAAA,KAAA,GAAAA,QAAK,uBAAuB,aAAa,WAAW,YAAY,cAAc,KAAK,CAAC,GAAA,KAAA;OAC3F,CAAA,CAAyB,EAE1B,OAAO,SAAA,aAAW;AAAI,aAAA,gBAAgB,WAAW;IAAC,CAAA,EAClD,OAAO,SAAC,KAAK,aAAW;AAAK,aAAAD,eAAAA,eAAA,CAAA,GAAAC,QACzB,GAAG,GAAA,KAAA,GAAAA,QACH,8BAA8B,aAAa,WAAW,YAAY,YAAY,CAAC,GAAA,KAAA;IAAA,GAChF,CAAA,CAAyB;;AAChC;IChBY,+BAET,SAAA,kBAAgB;AAAI,SAAC;IACvB,IAAI,iBAAiB;IACrB,WAAW,iBAAiB;IAC5B,MAAM,iBAAiB;;AACxB;IAEY,sBAGT,SACF,cAAc,QAAQ,iBAAiB,aAAa,OAAO,YAAY,kBAAgB;AACpF,SAAA,YAAY,IAAI,SACjB,UAAoBJ,YAAiB;AAEvC,QAAM,cAAc,mBAClB,cAAc,QAAQ,iBAAiB,UAAU,OAAO,YAAY,gBAAgB;AAEtF,WAAOA,eAAc,YAAY,SAAS,KAAK,qBAAqB,uDAC3D,WAAW,GAAA,EAAE,YAAY,KAAI,CAAA,IAClC;EACN,CAAC;AAAC;IAEW,qBAGT,SAAC,cAAc,QAAQ,iBAAiB,UAAU,OAAO,YAAY,kBAAgB;AACvF,MAAI,gBAAgB;AACpB,MAAM,eAAe,OAAO,YAAY,SACtC,KAAc,OAAgB,cAAoB;AAElD,QAAI,iBAAiB,OAAO,SAAS;AAAG,aAAO;AAC/C,QAAM,yBAAyB,gBAAgB,eAAe,CAAC,EAAE,UAAU;AAC3E,QAAM,0BAA0B,MAAM,KAAK,MACzC,gBAAgB,sBAAsB,CACvC;AACD,oBAAgB;AAChB,WAAAG,eAAAA,eAAA,CAAA,GAAAC,QAAW,GAAG,GAAA,KAAA,GAAA,CAAE,uBAAuB,GAAA,KAAA;KACtC,CAAC,YAAY,CAAC;AACjB,SAAAR,UAAAA,UAAA,CAAA,GAAY,QAAQ,GAAA,EAAE,cAAc,YAAY,iBAAgB,CAAA;AAClE;AAEA,IAAM,kBAEF,SAAC,QAAQ,WAAW,OAAO,OAAK;AAClC,MAAI,eAAe;AACnB,SAAO,OAAO,YAAY,SAAC,UAAU,WAAW,UAAQ;AACtD,QAAI,aAAa,OAAQ,SAAS,GAAG;AACnC,aAAO;;AAET,mBAAe,KAAK,MAAM,eAAe,UAAU,WAAW,CAAC,EAAE,UAAU,MAAM;AACjF,QAAM,kBAAkB,UAAU,YAAY;AAC9C,WAAAO,eAAAA,eAAA,CAAA,GAAAC,QACK,QAAQ,GAAA,KAAA,GAAA;MACX;;KAED,CAAC,KAAK,CAAC;AACZ;AAEA,IAAa,oBAGT,SAACF,eAAc,WAAW,QAAM;AAClC,MAAI,CAAC,aAAa,CAAC;AAAQ,WAAO,CAACA,cAAa,MAAK,CAAE;AACvD,MAAM,eAAe,UAAU,KAAK,SAAA,UAAQ;AAAI,WAAA,SAAS;EAAM,CAAA;AAC/D,SAAO,OAAQ,OAAQ,SAAS,CAAC,EAAE,IAAI,SAAC,OAAO,OAAK;AAClD,QAAM,eAAe,gBAAgB,QAAQ,WAAW,OAAO,KAAK;AAEpE,WAAOA,cAAa,OAAO,SAAC,KAAK,aAAW;;AAC1C,UAAM,iBAAiB,aAAa,OAAO,SAAC,aAAa,WAAS;AAAK,eACrE,eAAe,UAAU,OAAO,YAAY,UAAU,SAAS;MAAC,GAC/D,IAAI;AACP,UAAI,CAAC;AAAgB,eAAO;AAC5B,UAAM,wBAAwB,aAAa,KACzC,SAAA,WAAS;AAAI,eAAA,UAAU,cAAc,aAAc;MAAS,CAAA,EAC3D;AAEH,UAAM,qBAAkBN,UAAAA,UAAA,CAAA,GACnB,WAAW,GAAA,EACd,UAAQA,UAAAA,UAAA,CAAA,GACH,YAAY,QAAQ,IAAAK,MAAA,CAAA,GAAAA,IACtB,aAAc,SAAS,IAAG,qBACzB,cAAe,aAAa,qBAAqB,GAClDA,IAAA,GAEH,WAAW,YAAY,aAAa,mBAClC,cAAe,aAAa,qBAAqB,EAClD,CAAA;AAEH,aAAAE,eAAAA,eAAA,CAAA,GAAAC,QAAW,GAAG,GAAA,KAAA,GAAA,CAAE,kBAAkB,GAAA,KAAA;OACjC,CAAA,CAAyB;GAC7B;AACH;AAEA,IAAM,uBAEF,SAAC,cAAc,aAAa,gBAAc;AAC5C,MAAI,CAAC,aAAa,eAAe;AAC/B,WAAO;;AAET,SAAAD,eAAA;IACE;aACG,YAAY,SAAS,aAAc,SAAS,EAAE,OAAO,SAAC,IAAO;AAAK,WAAA,OAAO;EAAc,CAAA,CAAC,GAAA,KAAA;AAE/F;AAEA,IAAa,qBAET,SAAC,cAAc,aAAa,2BAAyB;;AACvD,MAAI,CAAC,aAAa,eAAe;AAC/B,WAAO,YAAY;;AAErB,MAAM,YAAY,YAAY,UAAU,MAAK;AAC7C,MAAM,oBAAoB,UAAU,UAAU,SAAC,IAAyB;AAAK,WAAA,GAAG;EAAM,CAAA;AACtF,MAAM,uBAAuB,UAAU,UACrC,SAAC,IAAyB;AAAK,WAAA,GAAG,UAAU,GAAG,OAAO;EAAyB,CAAA;AAEjF,EAAAF,MAAAG,QACE,CAAC,UAAU,oBAAoB,GAAG,UAAU,iBAAiB,CAAC,GAAC,CAAA,GADhE,UAAU,iBAAiB,IAACH,IAAA,CAAA,GAAE,UAAU,oBAAoB,IAACA,IAAA,CAAA;AAE9D,SAAO;AACT;AAEA,IAAa,2BAET,SAAC,aAAa,UAAU,WAAS;AACnC,MAAI,CAAC,aAAa,CAAC,UAAU;AAC3B,WAAO,CAAC,WAAW;;AAErB,SAAO,UACJ,OAAO,SAAC,KAA0B,UAAuB;AACxD,QAAM,sBAAsB,SAAS,KACnC,SAAA,OAAK;AAAI,aAAA,MAAM,iBAAiB,SAAS;IAAS,CAAA,MAC9C;AACN,QAAI,CAAC;AAAqB,aAAO;AACjC,QAAM,gBAAgB,SAAS;AAC/B,QAAI,CAAC,SAAS,eAAe;AAC3B,aAAO,IAAI,OAAO,SAAC,yBAAyB,oBAAkB;;AAAK,eAAAE,eAAAA,eAAA,CAAA,GAAAC,QAC9D,uBAAuB,GAAA,KAAA,GAAA;kCACrB,kBAAkB,IAAAH,MAAA,CAAA,GAAAA,IAAG,aAAa,IAAG,mBAAmB,SAAS,aAAa,GAACA,IAAA;;SACnF,CAAA,CAAyB;;AAE9B,WAAO,IAAI,OAAO,SAAC,yBAAyB,oBAAkB;AAAK,aAAAE,eAAAA,eAAA,CAAA,GAAAC,QAC9D,uBAAuB,GAAA,KAAA,GAAAA,QACvB,mBAAmB,SAAS,aAAa,EAAE,IAC5C,SAAC,eAA8B;;AAAK,eAAAR,UAAAA,UAAA,CAAA,GAC/B,kBAAkB,IAAAK,MAAA,CAAA,GAAAA,IACpB,aAAa,IAAG,eACjBA,IAAA,MAAK,4BAA4B,mBAAmB,KAAK,aAAa,GAACA,IAAA;OACvE,CACH,GAAA,KAAA;IAAA,GACA,CAAA,CAAyB;KAC3B,CAAC,WAAW,CAAwB;AAC3C;AAEA,IAAM,8BAEF,SAAC,aAAa,eAAa;AAAK,SAAA,GAAA,OAAG,aAAW,GAAA,EAAA,OAAI,aAAa;AAAE;IAiBxD,mBAET,SAAA,QAAM;AAAI,SAAA,OAAO,OAAO,SAAS,CAAC;AAAC;ICzK1B,4BAET,SAAC,WAAW,UAAQ;AAAK,SAAA,UAAU,OACrC,SAAA,UAAQ;AAAI,WAAA,SAAS,KAAK,SAAA,YAAU;AAAI,aAAA,SAAS,cAAc,WAAW;IAAY,CAAA;EAAC,CAAA;AACxF;IAEY,wBAET,SAAC,WAAW,UAAQ;AAAK,SAAA,SAAS,IAAI,SAACI,KAA0B;QAAxB,eAAYA,IAAA;AAAiB,WACxE,UAAU,KAAK,SAAA,UAAQ;AAAI,aAAA,SAAS,cAAc;IAAY,CAAA;EADU,CAEzE;AAAC;IAEW,yBAET,SAAA,4BAA0B;AAAI,SAAA,2BAA2B,OAAO,SAChE,KAA0B,UAAyB,OAAa;AAElE,QAAI,UAAU,GAAG;AACf,aAAO,CAAC,SAAS,UAAU,IAAI,SAAA,UAAQ;AAAI,eAAA,6BAA6B,QAAQ;MAAC,CAAA,CAAC;;AAGpF,WAAAC,eAAAA,eAAA,CAAA,GAAAC,QACK,GAAG,GAAA,KAAA,GAAA;MACN,IAAI,QAAQ,CAAC,EAAE,OAAO,SAAC,sBAAkC;AAAK,eAAAD,eAAAA,eAAA,CAAA,GAAAC,QACzD,oBAAoB,GAAA,KAAA,GAAAA,QACpB,SAAS,UAAU,IACpB,SAAC,UAA+B;AAAK,iBAAA,6BAA6B,QAAQ;QAAC,CAAA,CAC5E,GAAA,KAAA;MAAA,GACA,CAAA,CAAE;;EAET,GAAG,CAAA,CAAE;AAAC;IAEO,gCAET,SAACC,gBAAe,QAAQ,iBAAiB,aAAa,kBAAgB;AACxE,MAAI,OAAO,WAAW;AAAG,WAAOA;AAChC,MAAI,aAAa;AACf,WAAO,iCAAiCA,gBAAe,QAAQ,eAAe;;AAEhF,MAAI,qBAAqB,8BAA8B;AACrD,WAAO,+BAA+BA,gBAAe,QAAQ,eAAe;;AAE9E,SAAO,6BAA6BA,gBAAe,QAAQ,eAAe;AAC5E;AAEA,IAAM,mCAA8D,SAClEA,gBAAe,QAAQ,iBAAe;AACnC,SAAAA,eAAc,IACjB,SAAC,UAAoB;AAAK,WAAA,SAAS,OAAO,SAAC,KAAiB,UAAkB;AAC5E,UAAM,eAAe,iBAAiB,MAAM,EAAE,IAAI,SAChD,OAAc,OAAa;AACxB,eAAA,mBACH,OAAO,QAAQ,iBAAiB,UAAU,OAC1C,OAAO,4BAA4B;MACpC,CAAA;AACD,mBAAa,aAAa,SAAS,CAAC,IAACC,UAAAA,UAAA,CAAA,GAChC,aAAa,aAAa,SAAS,CAAC,CAAC,GAAA,EACxC,YAAY,KAAI,CAAA;AAElB,aAAOH,eAAAA,eAAA,CAAA,GAAAC,QAAI,GAAG,GAAA,KAAA,GAAAA,QAAK,YAAY,GAAA,KAAA;IACjC,GAAG,CAAA,CAAgB;EAAC,CAAA;AACrB;AAED,IAAM,iCAA4D,SAChEC,gBAAe,QAAQ,iBAAe;AACnC,SAAA,iBAAiB,MAAM,EAAE,OAAO,SACnC,KAAmB,OAAc,OAAa;AAE9C,QAAI,UAAU,GAAG;AACf,aAAOA,eAAc,IAAI,SAAC,cAAwB;AAChD,eAAA,oBACE,OAAO,QAAQ,iBAAiB,cAAc,OAC9C,OAAO,4BAA4B;OACtB;;AAGnB,WAAO,IAAI,IAAI,SAAC,MAAkB,IAAU;AAAK,aAAAF,eAAAA,eAAA,CAAA,GAAAC,QAC5C,IAAI,GAAA,KAAA,GAAAA,QACJ,oBACD,OAAO,QAAQ,iBAAiBC,eAAc,EAAE,GAAG,OACnD,OAAO,4BAA4B,CACpC,GAAA,KAAA;IAAA,CACF;EACH,GAAG,CAAC,CAAA,CAAE,CAAiB;AAAC;AAExB,IAAM,+BAA0D,SAC9DA,gBAAe,QAAQ,iBAAe;AACnC,SAAA,iBAAiB,MAAM,EAAE,OAAO,SACnC,KAAmB,OAAc,OAAa;AAE9C,QAAI,UAAU,GAAG;AACf,aAAOA,eAAc,IAAI,SACvB,cAA0B,cAAoB;AAC3C,eAAA,oBACD,OAAO,QAAQ,iBAAiB,cAChC,OAAO,iBAAiBA,eAAc,SAAS,GAAG,0BAA0B;MAC/D,CAAA;;AAEnB,WAAAF,eAAAA,eAAA,CAAA,GAAAC,QACK,GAAG,GAAA,KAAA,GAAAA,QACHC,eAAc,IAAI,SAAC,cAA0B,cAAoB;AAClE,aAAA,oBACE,OAAO,QAAQ,iBAAiB,cAChC,OAAO,iBAAiBA,eAAc,SAAS,GAAG,0BAA0B;KAC/D,CAChB,GAAA,KAAA;EAEL,GAAG,CAAC,CAAA,CAAE,CAAiB;AAAC;AAExB,IAAa,iCAET,SAAC,UAAU,WAAS;AAAK,SAAA,YACxB,CAAC,EAAE,cAAc,UAAU,KAAK,SAAA,UAAQ;AAAI,WAAA,SAAS;EAAM,CAAA,EAAG,UAAS,CAAE;AAAC;IAElE,eAGT,SAACE,eAAc,UAAU,WAAW,QAAQ,cAAc,YAAkB;AAAlB,MAAA,eAAA,QAAA;AAAA,iBAAA;EAAkB;AAC9E,MAAM,qBAAqB,aACzBA,cAAa,CAAC,EAAE,OAAO,SAAC,KAA0B,aAA8B;AAAK,WAAAJ,eAAAA,eAAA,CAAA,GAAAC,QAChF,GAAG,GAAA,KAAA,GAAAA,QACH,wBAAwB,aAAa,YAAY,CAAC,GAAA,KAAA;EAAA,GACnD,CAAA,CAAyB,IAAIG,cAAa,CAAC;AAEjD,MAAM,uBAAwB,mBAC3B,OAAO,SAAC,KAA0B,aAA8B;AAAK,WAAAJ,eAAAA,eAAA,CAAA,GAAAC,QACjE,GAAG,GAAA,KAAA,GAAAA,QACH,yBAAyB,aAAa,UAAU,SAAS,CAAC,GAAA,KAAA;EAAA,GAC5D,CAAA,CAAyB;AAC9B,SAAO,kBAAkB,sBAAsB,WAAW,MAAM;AAClE;IAEa,kCAGT,SACF,uBAAuB,kBAAkB,QAAQ,mBAAmBC,gBAAe,aAAW;AAE9F,MAAI,sBACF,uBAAuB,kBAAkB,aAAa,iBAAiB,GACtE;AACD,WAAO;;AAGH,MAAAH,MAEF,2BAA2B,uBAAuBG,gBAAe,MAAM,GADzE,aAAUH,IAAA,YAAE,iBAAcA,IAAA,gBAAE,YAASA,IAAA,WAAE,oBAAiBA,IAAA;AAE1D,MAAI,mBAAmB;AAEvB,SAAO,mBAAmB,GAAG;AAC3B,wBAAoB;AACpB,sBAAkB,OAAO,oBAAoB,iBAAiB,YAAY,cAAc;;AAG1F,SAAO;IACL,YAAY,sBAAsB;IAClC,cAAc;;AAElB;IAEa,+BAGT,SACF,oBAAoB,uBAAuB,kBAAkB,QAC7D,mBAAmBG,gBAAe,aAAW;AAE7C,MAAI,sBACF,uBAAuB,kBAAkB,aAAa,iBAAiB,GACtE;AACD,WAAO;;AAGH,MAAAH,MAEF,2BAA2B,uBAAuBG,gBAAe,MAAM,GADzE,aAAUH,IAAA,YAAE,iBAAcA,IAAA,gBAAE,YAASA,IAAA,WAAE,oBAAiBA,IAAA;AAE1D,MAAI,mBAAmB;AAEvB,SAAO,mBAAmB,GAAG;AAC3B,wBAAoB;AACpB,sBAAkB,OAChB,YAAY,mBAAmB,kBAAkB,mBAAmB,IAAI,SAAS;;AAIrF,SAAO;IACL,YAAY,sBAAsB;IAClC,cAAc;;AAElB;AAEA,IAAM,wBAEF,SACF,kBAAkB,kBAAkB,aAAa,mBAAiB;AAC/D,SAAA,iBAAiB,YAAY,IAAI,MAAM,gCACvC,CAAC,qBAAqB,CAAC,iBAAiB;AAAY;AAEzD,IAAM,6BAEF,SAAC,kBAAkBG,gBAAe,QAAM;AAC1C,MAAM,iBAAiBA,eAAc,CAAC,EAAE;AACxC,MAAM,aAAa,iBAAiB,MAAM,EAAE;AAC5C,MAAM,cAAcA,eAAc,SAAS;AAC3C,SAAO;IACL;IACA;IACA,WAAW,iBAAiB;IAC5B,mBAAmB,iBAAiB,aAAa,MAAK;;AAE1D;IAEa,sBAET,SAACA,gBAAeG,gBAAe,QAAQ,iBAAiB,kBAAgB;AAClE,MAAW,gBAAkBH,eAAc,CAAC,EAAE,CAAC,EAAC;AACxD,MAAI,CAAC,kBAAkB,aAAa,GAAG;AACrC,WAAOA;;AAGT,MAAI,qBAAqB,4BAA4B;AACnD,WAAOG;;AAGT,SAAO,6BAA6BA,gBAAe,QAAQ,eAAe;AAC5E;IChOa,cAA2B,SACtCD,eAAcE,gBAAeC,cAC7B,cAAcL,gBAAe,kBAC7B,UAAU,WAAW,QAAQ,kBAAkB,mBAAiB;AAEhE,MAAM,YAAY,6BAChBE,eAAcE,gBAAeC,cAAa,YAAY;AAExD,MAAM,mBAAmB,aACvB,WAAW,UAAU,WAAW,QAAQ,cAAc,iBAAiB;AAGzE,SAAO,qCACL;IACE,eAAe;IACf,WAAW;KAEb,kBACA,oCACA;IACE,eAAaD;IACb,aAAWC;IACX,eAAaL;IACb;IACA;KAEF;IACE;IACA,eAAe;IACf,YAAY,SAAS,iBAAiB,MAAM,EAAE,SAAS;GACxD;AAEL;AAEA,IAAa,yBAAwC,SACnDE,eAAcE,gBAAeC,cAAa,cAAcL,gBACxD,cAAc,kBAAkB,UAAU,WAAW,QAAS,kBAAkB,aAAW;AAE3F,MAAM,YAAY,2BAChBE,eAAcE,gBAAeC,cAAa,cAAc,YAAY;AAEtE,MAAM,mBAAmB,aACvB,WAAW,UAAU,WAAW,QAAQ,cAAc,KAAK;AAG7D,SAAO,qCACL;IACE,eAAe;IACf,WAAW;KAEb,kBACA,kCACA;IACE,eAAaD;IACb,aAAWC;IACX,eAAaL;IACb;IACA;KAEF;IACE;IACA,eAAe;IACf,YAAY,SAAS,iBAAiB,MAAM,EAAE,SAAS;GACxD;AAEL;AAEA,IAAa,2BAA4C,SACvDE,eAAcE,gBAAeC,cAAaL,gBAC1C,kBAAkB,UAAU,WAAW,QAAQ,kBAAkB,mBAAiB;AAElF,MAAM,YAAY,4BAChBE,eAAcE,gBAAeC,YAAW;AAE1C,MAAM,mBAAmB,aACvB,WAAW,UAAU,WAAW,QAAQ,CAAA,GAAI,iBAAiB;AAG/D,SAAO,qCACL;IACE,eAAe;IACf,WAAW;KAEb,kBACA,oCACA;IACE,eAAaD;IACb,aAAWC;IACX,eAAaL;IACb;KAEF;IACE;IACA,eAAe;IACf,YAAY,SAAS,iBAAiB,MAAM,EAAE,SAAS;GACxD;AAEL;AC9GO,IAAM,yBAAmD,SAC9D,QAAQ,eAAa;AAClB,SAAA,IAAI,KAAK,eAAe,QAAQ,aAAa;AAAC;ICCtC,eAET,SAAA,MAAI;AAAI,SAAA,KAAK,IAAI,SAAC,aAAa,OAAK;AAAK,WAAAC,UAAAA,UAAAA,UAAAA,UAAAA,UAAA,EAC3C,UAAU,aACV,OAAO,YAAY,UAAS,GACzB,YAAY,YAAY,SAAY;MACrC,KAAK,YAAY;QACf;MACF,KAAK,YAAY;MACjB,UAAQA,UAAAA,UAAA,CAAA,GAAO,WAAW,GAAA,EAAE,SAAS,YAAY,UAAS,CAAA;KAC3D,GACE,YAAY,WAAW,UAAa;MACrC,QAAQ,YAAY;KACrB,GACE,YAAY,UAAU,UAAa;MACpC,OAAO,YAAY;KACpB,GACE,YAAY,WAAW,UAAa;MACrC,QAAQ,YAAY;KACrB,GAAA,EACD,KAAK,YAAY,MAAM,MAAK,CAAA;EAAA,CAC5B;AAAC;IAEU,uBAA+C,SAAC,QAAM;AACjE,MAAM,QAAQ,oBAAI,IAAG;AAErB,MAAM,YAAyB,SAAC,UAAU,aAAW;AACnD,QAAI,aAAa;AAAW,aAAO;AACnC,QAAM,OAAO,gBAAgB,QAAQ,EAAE,OAAM;AAC7C,QAAI,iBAAiB,MAAM,IAAI,WAAW;AAE1C,QAAI,CAAC,gBAAgB;AACnB,uBAAiB,uBAAuB,QAAQ,WAAW;AAC3D,YAAM,IAAI,aAAa,cAAc;;AAGvC,WAAO,eAAe,OAAO,IAAI;;AAEnC,SAAO;AACT;ICxCa,aAET,SAAC,QAAQ,YAAY,WAAS;AAChC,MAAI,eAAe;AACnB,SAAO,OAAO,YAAY,SAAC,KAAa,UAAmB,UAAgB;AACzE,QAAI,YAAY;AAAU,aAAO;AACjC,QAAM,aAAa,SAAS,YAAY,EAAE;AAC1C,QAAI,WAAW,GAAG;AAChB,UAAM,mBAAmB,OAAO,QAAQ,EAAE,SAAS,OAAO,WAAW,CAAC,EAAE;AACxE,qBAAe,KAAK,MAAM,eAAe,gBAAgB;;AAE3D,WAAO,MAAM;KACZ,EAAY;AACjB;IAEa,mBAET,SAAC,OAAO,UAAU,WAAW,QAAQ,UAAQ;AAC/C,MAAI,MAAM,CAAA;AACV,MAAM,mBAAmB,SAAS;AAClC,MAAM,gBAAgB,QAAQ,iBAAiB,MAAM,EAAE;AACvD,MAAM,UAAU,iBAAiB,MAAM,EAAE,SAAS;yBACzCK,IAAC;AACR,UAAGR,eAAAA,eAAA,CAAA,GAAAC,QAAO,GAAG,GAAA,KAAA,GAAAA,QAAK,SAAS,OAAO,SAAC,KAAK,OAAO,OAAK;AAAK,aAAAD,eAAAA,eAAA,CAAA,GAAAC,QACpD,GAAG,GAAA,KAAA,GAAA;QACN;UACE;UACA;UACA,KAAK,WAAW,QAAQ,OAAO,QAAQ,IAAIO;UAC3C,MAAM,UAAU;UAChB,YAAY,UAAU,mBAAmB;;;OAE1C,CAAA,CAAW,CAAC,GAAA,KAAA;;AAVjB,WAAS,IAAI,GAAG,IAAI,eAAe,KAAK,GAAC;YAAhC,CAAC;;AAYV,SAAO;AACT;IAEa,2BAET,SACF,QAAQ,YAAY,sBACpB,qBAAqB,iBAAiB,kBAAgB;AACnD,SAAA,OAAO,OAAO,SACjB,KAAK,aAAa,aAAW;AAE7B,QAAM,YAAY,iBAAiB,MAAM,EAAE,SAAS,YAAY;AAChE,QAAMC,aAAY,aAAa;AAC/B,QAAM,aAAc,uBAAuB,YAAY,sBACnD,iBAAiB,MAAM,EAAE;AAC7B,QAAM,eAAe,YAAY;AAEjC,WAAO,aAAa,cAAc,IAAI,MAAGT,eAAAA,eAAA,CAAA,GAAAC,QACpC,GAAG,GAAA,KAAA,GAAA;MACN;QACE,OAAO,YAAYQ,UAAS;QAC5B,SAAS;QACT,QAAQ,kBAAkB,aAAa,eAAe;QACtD,KAAK,WAAW,QAAQA,YAAW,WAAW;;;EAGpD,GAAG,CAAA,CAAgC;AAAC;AC1DpC,IAAM,0BAEF,SAAC,QAAQ,WAAW,YAAY,aAAW;AAC7C,MAAM,oBAAoB,aAAa;AACvC,MAAM,iBAAiB,oBAAoB;AAE3C,SAAO,UAAU,MAAM,mBAAmB,iBAAiB,CAAC,EAAE,OAAO,SACnE,KAA2B,MAAgB;AACxC,WAAAT,eAAAA,eAAA,CAAA,GAAAC,QACA,GAAG,GAAA,KAAA,GAAA;MACN;QACE,WAAW,KAAK,CAAC,EAAE;QACnB,SAAS,KAAK,CAAC,EAAE;QACjB,KAAK,KAAK,CAAC,EAAE,UAAU,WAAW,QAAQ,YAAY,OAAO,SAAS,CAAC;QACvE,cAAc,KAAK,CAAC,EAAE;;;KAErB,CAAA,CAA0B;AACjC;AAEA,IAAa,wBAET,SAAC,WAAW,QAAQ,kBAAgB;AACtC,MAAI,qBAAqB,8BAA8B;AACrD,WAAO,CAAC,UAAU,IAAI,SAAA,UAAQ;AAAI,aAAC;QACjC,WAAW,SAAS,CAAC,EAAE;QACvB,SAAS,SAAS,CAAC,EAAE;QACrB,cAAc,SAAS,CAAC,EAAE;QAC1B,KAAK,SAAS,CAAC,EAAE;;IAClB,CAAC,CAAC;;AAGL,MAAM,aAAa,iBAAiB,MAAM,EAAE;AAC5C,MAAM,oBAAoB,UAAU,SAAS;AAE7C,SAAO,iBAAiB,MAAM,EAAE,OAAO,SACrC,KAA6B,OAAc,YAAkB;AAC1D,WAAAD,eAAAA,eAAA,CAAA,GAAAC,QACA,GAAG,GAAA,KAAA,GAAA;MACN,wBACE,QAAQ,WAAW,YAAY,iBAAiB;;KAEjD,CAAA,CAA4B;AACjC;IAEa,+BAET,SAAC,WAAW,iBAAe;AAC7B,MAAM,cAAa,oBAAe,QAAf,oBAAe,SAAA,SAAf,gBAAiB,WAAU;AAC9C,MAAM,iBAAiB,CAAA;AACvB,MAAM,cAAc,UAAU,SAAS;AACvC,WAAS,IAAI,GAAG,IAAI,YAAY,KAAK,GAAG;AACtC,mBAAe,KAAK,UAAU,MAAM,IAAI,cAAc,IAAI,KAAK,WAAW,CAAC;;AAE7E,SAAO;AACT;ICxDa,oBAAiE,SAC5E,aAAaF,KAEd;MADC,WAAQA,IAAA,UAAE,OAAIA,IAAA,MAAE,SAAMA,IAAA,QAAE,YAASA,IAAA;AAC7B,SACJ,YACG,eAAO,WAAmB,EAAE,cAAc,SAAS,aAAa,KAAK,EAAE,QAAQ,IAAI,EACnF,OAAM,KACN,eAAM,EAAG,SAAS,QAAQ,IAAI;AAJ7B;IAOO,qBAET,SAAC,iBAAiB,cAAY;AAAK,SAAA;AAAY;ICbtC,qBAAoE,SAC/E,qBACAA,KAAgB;MAAd,SAAMA,IAAA,QAAE,OAAIA,IAAA;AACX,SAAC,EAAE,QAAQ,KAAI;AAAf;ICNQ,sBAAsB;IACtB,uBAAuB;IACvB,wBAAwB;ICCxB,qBAET,SAAC,qBAAqBW,KAAmB;MAAjB,kBAAeA,IAAA;AAAO,SAAA;AAAA;ICSrC,sBAA0C,SAAA,YAAU;AAC/D,SAAA,mBAAmB,IAAI,SAAC,iBAAiB,OAAK;AAAK,WAAC;MAClD,MAAM,WAAW,eAAe;MAChC,IAAI;;EACL,CAAC;AAHF;IAKW,gBAET,SAAC,YAAY,gBAAc;AAC7B,MAAM,kBAAkB,mBAAmB,cAAc;AACzD,MAAM,kBAAkB,mBAAmB,cAAc;AACzD,SAAO,gBAAgB,IACrB,SAAC,KAAK,OAAK;AAAK,WAAC;MACf,MAAM,aAAa,KAAK,UAAU;MAClC,IAAI,QAAQ,IAAI,eAAe,gBAAgB,QAAQ,CAAC,IAAI,gBAAgB,CAAC;;EAC9E,CAAC;AAEN;IAEa,YAA6B,SAAA,YAAU;AAAI,SAAA,aAAa,IAAI,SAAC,OAAO,OAAK;AAAK,WAAC;MAC1F,MAAM,SAAS,OAAO,UAAU;MAChC,IAAI,WAAW,KAAK;;EACrB,CAAC;AAAC;AAEH,IAAa,kBAGT,SAAC,YAAY,YAAU;AAAK,SAAA,aAAa,IAAI,SAAC,OAAO,OAAK;AAAK,WAAC;MAClE,MAAM,eAAe,OAAO,YAAY,UAAU;MAClD,IAAI,WAAW,KAAK;;EACrB,CAAC;AAAC;AAEH,IAAM,iBAAiB,SACrB,MACA,YACA,YAAyD;AACtD,SAAA,WAAW,SAAS,IACrB,WAAW,MAAM,sBAAsB,EAAE,QAAQ,WAAW,EAAE,EAAE,SAAQ;AAAE;AAE9E,IAAM,WAAW,SACf,MACA,YAAyD;AACtD,SAAA,WAAW,MAAM,kBAAkB;AAAC;AAEzC,IAAM,eAAe,SACnB,MACA,YAAyD;AACtD,SAAA,WAAW,MAAM,qBAAqB;AAAC;AAE5C,IAAM,aAEF,SAAA,OAAK;AAAI,SAAA,QAAQ;AAAC;IAET,gCAAoD,SAAA,YAAU;AACzE,SAAA,mBAAmB,IAAI,SAAA,MAAI;AAAI,WAAC;MAC9B,MAAM,WAAW,IAAI;MACrB,IAAI;;EACL,CAAC;AAHF;IAKW,oCAAoC,SAAC,WAA8B;AAC9E,MAAI;AACJ,UAAQ,WAAS;IACf,KAAK,mBAAmB;AACtB,cAAQ;AACR;IACF,KAAK,mBAAmB;AACtB,cAAQ;AACR;IACF,KAAK,mBAAmB;AACtB,cAAQ;AACR;IACF,KAAK,mBAAmB;AACtB,cAAQ;AACR;;AAEJ,SAAO;AACT;IAEa,uBAET,SAAA,QAAM;AAAI,SAAA,SAAS,KAAK,UAAU,OAAO;AAAgB;IC9EhD,qBAA2D,SAAC,QAAQ,SAAO;AACtF,MAAI,QAAQ;AACV,WAAO,OAAO;;AAElB;IAEa,eAET,SACF,WAAW,SAAO;AACf,SAAA,eAAO,OAAkB,EAAE,KAAK,eAAO,SAAsB,GAAG,MAAM,KAAK;AAAC;AAEjF,IAAa,4BAET,SACF,MAAM,MAAM,WAAS;AAErB,MAAI,CAAC,MAAM;AACT,QAAI,SAAS,mBAAmB,SAAS;AACvC,aAAQ,IAAI,MAAKC,UAAAA,UAAA,CAAA,GACZ,mBAAmB,GAAA,EACtB,MACA,YAAY,CAAC,UAAU,QAAO,CAAE,GAChC,OAAO,kCAAkC,IAAI,EAAC,CAAA,CAAA,EAC5C,SAAQ;;AAEd,QAAI,SAAS,mBAAmB,QAAQ;AACtC,aAAQ,IAAI,MAAKA,UAAAA,UAAA,CAAA,GACZ,mBAAmB,GAAA,EACtB,MACA,YAAY,CAAC,UAAU,QAAO,CAAE,GAChC,SAAS,UAAU,SAAQ,IAAK,GAChC,OAAO,kCAAkC,IAAI,EAAC,CAAA,CAAA,EAC5C,SAAQ;;AAEd,WAAQ,IAAI,MAAKA,UAAAA,UAAA,CAAA,GACZ,mBAAmB,GAAA,EAAE,MAAM,OAAO,kCAAkC,IAAI,EAAC,CAAA,CAAA,EAC1E,SAAQ;;AAGd,MAAM,UAAU,MAAM,YAAY,IAAI;AACtC,MAAI,QAAQ,SAAS;AAAM,WAAO;AAElC,UAAQ,OAAO;AACf,UAAQ,QAAQ,kCAAkC,IAAI;AACtD,MAAI,SAAS,mBAAmB,WAAW,SAAS,mBAAmB,QAAQ;AAC7E,YAAQ,aAAa,UAAU,QAAO;;AAExC,MAAI,SAAS,mBAAmB,QAAQ;AACtC,YAAQ,UAAU,UAAU,SAAQ,IAAK;;AAE3C,MAAI,SAAS,mBAAmB,SAAS,SAAS,mBAAmB,QAAQ;AAC3E,YAAQ,aAAa;;AAEvB,UAAQ,YAAY;AACpB,MAAM,WAAW,IAAI,MAAM,OAAO;AAClC,SAAO,SAAS,SAAQ;AAC1B;AAEA,IAAa,uBAET,SAAA,MAAI;AAAI,SAAA,CAAC,OAAO,OAAO,MAAM,YAAY,IAAI;AAAC;IAErC,0BAA0B,SAAC,SAAyB;AAC/D,SAAO,UAAW,IAAI,MAAKA,UAAA,CAAA,GAAM,OAAO,CAAA,EAAK,SAAQ,IAAK;AAC5D;IAEa,wBAAwB,SAAC,cAAsB,SAAyB;AACnF,MAAI,gBAAgB,IAAI;AACtB,QAAM,cAAWA,UAAAA,UAAA,CAAA,GAAQ,OAAO,GAAA,EAAE,YAAY,aAAY,CAAA;AAC1D,WAAO,wBAAwB,WAAW;;AAE5C,SAAO,wBAAwB,OAAO;AACxC;AAEA,IAAa,0BAA0B,SACrC,YAAoB,WAAmB,SAAyB;AAEhE,MAAM,iBAAiB,YAAY,IAAI,YAAY,IAAI;AACvD,MAAM,kBAAkB,eAAe,IAAI,KAAK,aAAa;AAC7D,MAAM,iBAAiB,mBAAmB,cAAc;AAExD,MAAM,cAAWA,UAAAA,UAAA,CAAA,GACZ,OAAO,GAAA,EACV,WAAW,CAAC,eAAe,IAAI,eAAe,CAAC,GAC/C,YAAY,OAAS,CAAA;AAGvB,SAAO,wBAAwB,WAAW;AAC5C;IAEa,oBAET,SAAA,YAAU;AAAI,SAAA,mBAAmB,WAAW,YAAW,CAAE;AAAC;IAEjD,qBAET,SAAC,gBAAc;AACjB,MAAI,mBAAmB,mBAAmB;AAAO,WAAO,aAAa;AACrE,MAAI,mBAAmB,mBAAmB;AAAQ,WAAO,aAAa;AACtE,MAAI,mBAAmB,mBAAmB;AAAS,WAAO,aAAa;AACvE,MAAI,mBAAmB,mBAAmB;AAAQ,WAAO,aAAa;AACtE,SAAO,aAAa;AACtB;IAEa,2BAET,SACF,mBAAmB,gBAAgB,iBAAiB,gBAAgB,aAAa,cAAY;AAE7F,MAAI,kBAAkB,cAAc,CAAC,MAAM,QAAQ,kBAAkB,UAAU,GAAG;AAChF,WAAO;MACL,oBAAqB,kBAAkB;MACvC,YAAY;MACZ,WAAW;MACX,iBAAiB;;;AAGrB,MAAI,CAAC,kBAAkB,WAAW;AAChC,WAAO;MACL,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,oBAAoB;;;AAGxB,MAAM,YAAY,kBAAkB,UAAU,CAAC,EAAE,UAAU,IACvD,kBAAkB,UAAU,CAAC,EAAE,UAAU,IAAI;AACjD,MAAM,aAAa,kBAAkB,UAAU,CAAC,EAAE,MAAM,KACpD,YACA,kBAAkB,UAAU,CAAC,EAAE,IAAI;AAEvC,SAAO;IACL;IACA;IACA,iBAAiB;IACjB,oBAAoB;;AAExB;AAEA,IAAa,wBAET,SAAC,YAAY,OAAO,WAAW,QAAM;AACvC,MAAM,kBAAkB,kBAAkB,UAAU;AACpD,MAAI;AACJ,MAAI,oBAAoB,QAAW;AACjC,gBAAY,0BACV,OACA,iBACA,SAAS;;AAGb,SAAO,EAAE,OAAO,UAAS,CAAE;AAC7B;IAEa,uBAET,SAAC,SAAS,gBAAc;AAC1B,MAAM,YAAY,QAAQ,aAAa,CAAA;AACvC,MAAM,QAAS,UAAwB,UAAU,SAACD,KAAW;QAAT,UAAOA,IAAA;AAAO,WAAA,YAAY;GAAc;AAE5F,MAAM,UAAU,UAAU;AAE1B,MAAI,SAAS;AACV,cAAwB,KAAK,mBAAmB,cAAc,CAAC;aACvD,QAAQ,IAAI;AACpB,cAAwB,OAAO,OAAO,CAAC;;AAE1C,MAAI,cAAc;AAAG,WAAAC,UAAAA,UAAA,CAAA,GAAY,OAAO,GAAA,EAAE,WAAW,OAAS,CAAA;AAC9D,SAAAA,UAAAA,UAAA,CAAA,GAAY,OAAO,GAAA,EAAE,WAAW,UAAS,CAAA;AAC3C;IAEa,qBAA4D,SAAC,gBAAc;AACtF,MAAM,YAAY,mBAAmB,OACnC,SAAA,WAAS;AAAI,WAAA,aAAa,iBAAiB,KAAK,YAAY,eAAe;EAAC,CAAA;AAE9E,MAAM,aAAa,mBAAmB,OACpC,SAAA,WAAS;AAAI,WAAA,YAAY,iBAAiB,KAAK,aAAa,eAAe;EAAC,CAAA;AAE9E,SAAO,mBAAmB,IAACC,eAAAA,eAAA,CAAA,GAAAC,QAAO,SAAS,GAAA,KAAA,GAAAA,QAAK,UAAU,GAAA,KAAA,IAAAD,eAAAA,eAAA,CAAA,GAAAC,QAAQ,UAAU,GAAA,KAAA,GAAAA,QAAK,SAAS,GAAA,KAAA;AAC5F;IAEa,qBAA0D,SAAC,gBAAc;AACpF,MAAM,YAAY,mBAAmB,MAAM,gBAAgB,mBAAmB,MAAM;AACpF,MAAM,aAAa,mBAAmB,MAAM,GAAG,cAAc;AAC7D,SAAAD,eAAAA,eAAA,CAAA,GAAAC,QAAW,SAAS,GAAA,KAAA,GAAAA,QAAK,UAAU,GAAA,KAAA;AACrC;IAEa,8BAET,SAAC,gBAAgB,WAAS;AAAK,SAAA,UAAU,OAAO,SAAC,KAAK,UAAQ;;AAChE,QAAI,CAAC,SAAS,eAAe;AAC3B,aAAO;;AAGT,QAAM,YAAY,SAAS;AAC3B,QAAM,QAAQ,eAAe,SAAS;AACtC,WAAAF,UAAAA,UAAA,CAAA,GACK,GAAG,IAAAD,MAAA,CAAA,GAAAA,IACL,SAAS,IAAG,MAAM,QAAQ,KAAK,IAAI,QAAQ,CAAC,KAAK,GAACA,IAAA;EAEvD,GAAG,cAAc;AAAC;ICpNL,iBAET,SACF,sBAAsBA,KAA8C;MAA9C,KAAAA,QAAA,SAAsB,EAAE,iBAAkB,CAAA,EAAE,IAAEA,KAA5C,kBAAe,GAAA;AACpC,SAAA;AAAA;AAEL,IAAa,yBAAyB,WAAA;AAAM,SAAC,CAAA;AAAE;IAElC,uBAET,SAAC,wBAAwB,iBAAe;AAAK,SAAA;AAAe;AAEhE,IAAa,sBAAsB,WAAA;AAAM,SAAA;AAAI;IAEhC,oBAET,SACF,aAAaA,KAAU;MAAR,SAAMA,IAAA;AAClB,SAAAC,UAAAA,UAAA,CAAA,GAAM,WAAW,GAAK,MAAM;AAA5B;AAEL,IAAa,gBAAgB,WAAA;AAAM,SAAC,CAAA;AAAE;ICtBzB,yBAET,SAAC,SAAS,eAAa;;AAAK,SAAAD,MAAA,CAAA,GAC5BA,IAAC,aAAa,IAAG,SAAOA;AADI;ACGhC,IAAM,kBAAkB,SACtB,iBAA4C,SAAgB;AAE5D,MAAM,cAAWC,UAAA,CAAA,GACZ,eAAe;AAEpB,SAAO,YAAY;AACnB,SAAO,YAAY;AACnB,SAAO,YAAY;AACnB,SAAO,YAAY;AACnB,SAAAA,UAAAA,UAAA,CAAA,GAAY,WAAW,GAAK,OAAO;AACrC;AAEA,IAAM,eAAe,SAAC,YAAoB,WAAe;AACvD,MAAI,WAAW,SAAS,GAAG;AACzB,WAAO,WAAW,MAAM,GAAG,EAAE,OAAO,SAAC,KAAe,MAAY;AAC9D,UAAM,aAAa,eAAO,IAAI,IAAI;AAClC,UAAI,WAAW,SAAS,SAAS,GAAG;AAClC,eAAAC,eAAAA,eAAA,CAAA,GAAAC,QAAW,GAAG,GAAA,KAAA,GAAA,CAAE,IAAI,GAAA,KAAA;;AAEtB,aAAO;OACN,CAAA,CAAE,EAAE,KAAK,GAAG;;AAEjB,SAAO;AACT;AAEA,IAAM,kBAAkB,SAAC,QAA4B,MAAU;AAC7D,MAAM,gBAAgB,GAAA,OAAG,eAAO,IAAI,IAAI,EAAE,OAAO,iBAAiB,GAAC,GAAA;AACnE,SAAO,SACH,GAAA,OAAG,QAAM,GAAA,EAAA,OAAI,aAAa,IAC1B;AACN;AAEA,IAAM,wBAA4C,SAAC,OAAO,QAAQ,eAAe,eAAa;AAC5F,MAAM,WAAW,uBAAuB,MAAM;AAE9C,MAAM,iBAAiB,MAAM,YAAY,KAAe;AACxD,MAAM,mBAAmB,eAAe,gCAC/B,cAAc,GAAA,EAAE,OAAO,eAAO,WAAW,eAAe,KAAK,CAAC,EAAE,OAAM,EAAE,CAAA,IAC7E;AACJ,MAAM,mBAAmB,eAAO,WAAW,aAAc,CAAC,EAAE,OAAM;AAClE,WAAS,MAAM,IAAI,MAAKF,UAAAA,UAAA,CAAA,GACnB,gBAAgB,GAAA,EACnB,SAAS,iBAAgB,CAAA,CAAA,CACzB;AACF,MAAI,eAAe,SAAS,eAAe,OAAO;AAChD,WAAO;MACL,SAAS;MACT,OAAO,SAAS,IAAG,EAElB,IAAI,SAAA,UAAQ;AAAI,eAAA,eAAO,mBAAmB,QAAQ,CAAC,EAAE,OAAM;MAAE,CAAA;;;AAGlE,MAAM,YAAY;AAClB,MAAM,aAAa,eAAO,WAAW,aAAc,CAAC,EAAE,OAAM;AAC5D,SAAO;IACL,SAAS;IACT,OAAO,SAAS,QAAQ,WAAW,YAAY,IAAI,EAClD,IAAI,SAAA,UAAQ;AAAI,aAAA,eAAO,mBAAmB,QAAQ,CAAC,EAAE,OAAM;IAAE,CAAA;;AAElE;AAEA,IAAM,0BAA0B,SAAC,OAA2B,SAAe;AACzE,MAAM,WAAW,IAAI,SAAQ;AAC7B,WAAS,MAAM,IAAI,MAAKA,UAAAA,UAAA,CAAA,GACnB,MAAM,YAAY,KAAe,CAAC,GAClC,OAAO,CAAA,CACV;AACF,SAAO,SAAS,QAAO;AACzB;AAEA,IAAM,4BAAsC,SAAC,iBAAiB,SAAS,iBAAe;;AAC5E,MAAA,QAA8D,gBAAe,OAAtE,YAAuD,gBAAe,WAA3D,aAA4C,gBAAe,YAA/C,KAAgC,gBAAe,QAAvC,aAAU,OAAA,SAAG,KAAE,IAAE,KAAO,gBAAe;AAE/E,MAAA,KAAyC,2BAC7C,WAAW,WAAW,eAAO,IAAI,SAAiB,EAAE,OAAM,GAAI,YAAY,KAAK,GADzE,kBAAe,GAAA,iBAAE,oBAAiB,GAAA;AAI1C,MAAI,sBAAsB;AAAG,WAAO,gBAAgB,iBAAiB,OAAO;AAE5E,MAAM,eAAe,wBAAwB,OAAiB;IAC5D,SAAS,eAAO,IAAI,WAAW,SAAS,EAAE,OAAM;IAChD,OAAO,eAAO,IAAI,gBAAgB,oBAAoB,CAAC,CAAC,EAAE,OAAM;IAChE,OAAO;GACR;AAED,MAAM,aAAa,aAAa,YAAY,SAAiB;AAC7D,SAAO;IACL,UAAOD,MAAA,CAAA,GACLA,IAAC,EAAG,IAAAC,UAAA,EACF,OAAO,aAAa,CAAC,EAAE,MAAM,CAAC,EAAC,GAC5B,cAAc,eAAe,aAAa,EAAE,QAAQ,WAAU,IAAK,CAAA,CAAE;;AAIhF;AAEA,IAAM,6BAA6B,SACjC,eAAqB,WAAiB,QAAgB,OAAyB;AAE/E,MAAM,kBAAkB,sBAAsB,OAAO,QACnD,eAAO,IAAI,aAAa,EAAE,OAAM,GAAI,eAAO,IAAI,SAAS,EAAE,OAAM,CAAE,EAClE;AACF,MAAM,oBAAoB,gBACvB,UAAU,SAAA,MAAI;AAAI,WAAA,eAAO,IAAI,EAAE,OAAO,SAAiB;EAAC,CAAA;AAC3D,SAAO,EAAE,iBAAiB,kBAAiB;AAC7C;IAEa,gBAA0B,SAAC,iBAAe;;AAC/C,MAAA,KAAqB,sBACzB,gBAAgB,OAAO,gBAAgB,QACvC,eAAO,IAAI,gBAAgB,WAAW,SAAS,EAAE,OAAM,GACvD,eAAO,IAAI,gBAAgB,SAAS,EAAE,OAAM,CAAE,GAHxC,UAAO,GAAA,SAAE,QAAK,GAAA;AAMtB,OAAK,QAAQ,SAAS,QAAQ,UAAU,MAAM,WAAW,GAAG;AAC1D,WAAO,UAAU,eAAe;;AAGlC,MAAM,aAAa,gBAAgB,gBAAgB,QAAQ,gBAAgB,SAAiB;AAC5F,SAAO,EAAE,UAAOD,MAAA,CAAA,GAAIA,IAAC,gBAAgB,EAAG,IAAG,EAAE,QAAQ,WAAU,GAAEA,KAAE;AACrE;IAEa,YAAsB,SAAC,iBAAe;AACjD,SAAO,EAAE,SAAS,gBAAgB,GAAE;AACtC;IAEa,4BAAsC,SAAA,iBAAe;AAAI,SAAA,0BACpE,iBAAiB,CAAA,GAAI,SAAS;AAC/B;IAEY,UAAkB,SAAC,iBAAiB,SAAO;;AAC9C,MAAA,QAAc,gBAAe,OAAtB,KAAO,gBAAe;AAErC,MAAM,cAAc,IAAI,MAAM,MAAM,YAAY,KAAe,CAAC;AAChE,MAAI,QAAQ,aACP,eAAO,IAAI,QAAQ,SAAiB,EAAE,QAAQ,YAAY,QAAQ,KAAM,GAAG;AAC9E,WAAO;MACL,UAAOA,MAAA,CAAA,GACLA,IAAC,EAAG,IAAAC,UAAAA,UAAA,CAAA,GACC,OAAO,GAAA,EACV,OAAO,sBACP,QAAQ,GAAE,CAAA;;;AAMlB,SAAQ,EAAE,UAAO,KAAA,CAAA,GAAK,GAAC,gBAAgB,EAAG,IAAG,SAAO,IAAE;AACxD;IAEa,cAAsB,SAAC,iBAAiB,SAAO;;AAAK,SAAC;IAChE,UAAOD,MAAA,CAAA,GACLA,IAAC,gBAAgB,EAAG,IAAG;MACrB,QAAQ,gBAAgB,gBAAgB,QAAQ,gBAAgB,SAAiB;;IAGrF,OAAO,gBAAgB,iBAA8C,OAAkB;;AANxB;IASpD,0BAAkC,SAAC,iBAAiB,SAAO;AAC9D,MAAA,QAA0D,gBAAe,OAAlE,YAAmD,gBAAe,WAAvDA,MAAwC,gBAAe,QAA/C,aAAUA,QAAA,SAAG,KAAEA,KAAE,aAAe,gBAAe;AACjF,MAAM,cAAc,IAAI,MAAM,MAAM,YAAY,KAAe,CAAC;AAE1D,MAAA,KAAyC,2BAC7C,WAAW,WAAW,eAAO,IAAI,SAAiB,EAAE,OAAM,GAAK,YAAY,KAAK,GAD1E,kBAAe,GAAA,iBAAE,oBAAiB,GAAA;AAG1C,MAAI,sBAAsB;AAAG,WAAO,QAAQ,iBAAiB,OAAO;AAEpE,MAAM,eAAe,YAAY,QAAQ,SAAS,YAAY,QAAQ,QAClE,EAAE,OAAO,gBAAgB,SAAS,kBAAiB,IACnD,CAAA;AACJ,MAAM,aAAa,wBAAwB,gBAAgB,OAAeC,UAAA,EACxE,SAAS,eAAO,IAAI,SAAiB,EAAE,OAAM,EAAE,GAC5C,YAAY,CAAA;AAGjB,MAAM,mBAAmB,eAAO,IAAI,QAAQ,SAAiB,EAAE,QAAQ,YAAY,QAAQ,KAAM,IAC7F,EAAE,OAAO,sBAAsB,QAAQ,GAAE,IAAK,EAAE,OAAO,WAAW,CAAC,EAAE,MAAM,CAAC,EAAC;AAEjF,SAAO;IACL,SAAS,0BAA0B,iBAAiB,SAAS,OAAO,EAAE;IACtE,OAAKA,UAAAA,UAAA,CAAA,GACA,gBAAgB,GAAK,gBAAgB,iBAAiB,OAAO,CAAC;;AAGvE;AAEA,IAAa,mBAAuC,SAClD,SAAS,iBAAiB,UAAQ;AAElC,MAAI,YAAY,MAAM;AACpB,YAAQ,UAAQ;MACd,KAAK,sBAAsB,KAAK;AAC9B,eAAO,UAAU,eAAe;;MAElC,KAAK,sBAAsB,SAAS;AAClC,eAAO,cAAc,eAAe;;MAEtC,KAAK,sBAAsB,uBAAuB;AAChD,eAAO,0BAA0B,eAAe;;;SAG/C;AACL,YAAQ,UAAQ;MACd,KAAK,sBAAsB,KAAK;AAC9B,eAAO,QAAQ,iBAAiB,OAAO;;MAEzC,KAAK,sBAAsB,SAAS;AAClC,eAAO,YAAY,iBAAiB,OAAO;;MAE7C,KAAK,sBAAsB,uBAAuB;AAChD,eAAO,wBAAwB,iBAAiB,OAAO;;;;AAI7D,SAAO,CAAA;AACT;ACjNA,IAAMG,SAEF,SAAC,OAAO,KAAK,KAAG;AAAK,SAAA,KAAK,IAAI,KAAK,IAAI,OAAO,GAAG,GAAG,GAAG;AAAC;AAE5D,IAAM,wBAEF,SAAC,YAAY,YAAY,qBAAmB;AAAK,SAAA,eAAe,gBAChE,aAAa,sBAAsB,KAAK,IAAI;AAAC;IAEpC,WAET,SAAA,MAAI;AAAI,SAAA,eAAO,KAAK,SAAiB,EACtC,OAAO,KAAK,SAAiB,KAAK,IAAI,gBAAgB;AAAe;AAExE,IAAa,mBAET,SAAC,MAAM,MAAI;AAAK,SAAA,eAAO,KAAK,OAAe,EAAE,KAAK,KAAK,WAAmB,IAAI;AAAC;IAEtE,YAET,SAAC,cAAc,cAAY;AAAK,SAAA,aAAa,UAAU,SAACC,cAAW;AAC/D,QAAAL,MAA+BK,aAAW,GAAxC,OAAIL,IAAA,MAAE,MAAGA,IAAA,KAAE,QAAKA,IAAA,OAAE,SAAMA,IAAA;AAChC,QAAM,SAAS,gBACRI,OAAM,aAAa,GAAG,MAAM,KAAK,MAAM,aAAa,KACpDA,OAAM,aAAa,GAAG,KAAK,MAAM,MAAM,aAAa;AAC3D,WAAO;EACT,CAAC;AAAC;AAEF,IAAa,WAET,SAAC,gBAAgB,aAAaE,gBAAe,iBAAe;AAC9D,MAAM,YAAY,gBAAgB,KAAK,kBAAkBA;AACzD,MAAM,eAAe,gBAAgB,KAAK,cAAc;AACxD,MAAM,aAAa,UAAU,CAAC,EAAE;AAEhC,MAAM,WAAW,KAAK,MAAM,eAAe,UAAU;AACrD,MAAM,cAAc,eAAe;AACnC,SAAO,UAAU,QAAQ,EAAE,WAAW;AACxC;AAEA,IAAa,aAET,SAAC,cAAc,mBAAmB,aAAW;AAC/C,SACE,aAAa,GAAG,kBAAkB,aAAa,kBAAkB,gBACjE,kBAAkB,sBAAsB,WAAW;AAErD,SACE,aAAa,GAAG,kBAAkB,cAAc,kBAAkB,eAClE,kBAAkB,wBAAwB,WAAW;AAEzD;AAEA,IAAM,SAEF,SAAC,QAAQ,eAAe,gBAAgB,cAAc,aAAW;AACnE,MAAK,SAAS,gBAAgBC,kBAAmB,SAAS,eAAgB;AACxE,iBAAa,CAAC,WAAW;;AAE3B,MAAI,iBAAiBA,iBAAgB,QAAQ;AAC3C,iBAAa,CAAC,WAAW;;AAE7B;IAEa,yBAAiD,SAC5D,SAAS,YAAY,YAAY,qBAAqB,YAAU;AAEhE,MAAI,eAAe,QAAQ,iBAAiB;AAC1C,WAAO,EAAE,sBAAsB,QAAW,oBAAoB,OAAS;;AAGzE,MAAI;AACJ,MAAI;AACJ,MAAM,aAAa,QAAQ;AAE3B,MAAI,eAAe,YAAY;AAC7B,QAAM,kBAAkB,sBAAsB,YAAY,YAAY,mBAAmB;AACzF,2BAAuB,eAAO,WAAW,SAAiB,EACvD,IAAI,iBAAiB,OAAO,EAAE,OAAM;AACvC,yBAAqB,eAAO,QAAQ,OAAe,EAAE,OAAM;;AAE7D,MAAI,eAAe,eAAe;AAChC,QAAM,qBAAqB,eAAe,KAAK,eAAe,gBAC1D,sBAAsB,KAAK,IAAI;AACnC,yBAAqB,eAAO,WAAW,OAAe,EACnD,IAAI,CAAC,oBAAoB,OAAO,EAAE,OAAM;AAC3C,2BAAuB,eAAO,QAAQ,SAAiB,EAAE,OAAM;;AAGjE,MAAI,eAAO,kBAAkB,EAAE,KAAK,sBAAsB,OAAO,IAAI,GAAG;AACtE,2BAAuB,eAAO,QAAQ,SAAiB,EAAE,OAAM;AAC/D,yBAAqB,eAAO,QAAQ,OAAe,EAAE,OAAM;;AAE7D,SAAO,EAAE,sBAAsB,mBAAkB;AACnD;IAEa,uBAA6C,SACxD,SAAS,YAAY,YACrB,qBAAqB,YAAY,mBAAiB;AAElD,MAAI,eAAe,mBACd,iBAAiB,SAAS,OAAO,IAAI,iBAAiB,YAAY,OAAO,GAAG;AAC/E,WAAO;MACL,sBAAsB,WAAW;MACjC,oBAAoB,WAAW;MAC/B,eAAe;;;AAGnB,MAAI;AACJ,MAAI;AACJ,MAAI;AAEJ,MAAM,eAAe,sBAAsB,YAAY,YAAY,mBAAmB;AACtF,MAAM,QAAQ,eAAO,WAAW,SAAiB,EAAE,IAAI,cAAc,OAAO;AAE5E,MAAI,sBAAsB,MAAM;AAC9B,oBAAgB,eAAO,WAAW,SAAiB,EAChD,KAAK,QAAQ,WAAmB,OAAO,IAAI;SACzC;AACL,oBAAgB;;AAGlB,MAAI,QAAQ,SAAS,YAAY;AAC/B,QAAM,6BAA6B,iBAAiB,SAAS,OAAO;AACpE,2BAAuB,eAAO,KAAK,EAAE,IAAK,gBAAkB,IAAK,OAAO,EAAE,OAAM;AAChF,yBAAqB,eAAO,KAAK,EAC9B,IAAK,6BAA6B,eAAgB,OAAO,EAAE,OAAM;SAC/D;AACL,2BAAuB,eAAO,WAAW,SAAiB,EACvD,IAAI,cAAc,OAAO,EAAE,OAAM;AACpC,yBAAqB,eAAO,WAAW,OAAe,EAAE,IAAI,cAAc,OAAO,EAAE,OAAM;;AAG3F,SAAO,EAAE,sBAAsB,oBAAoB,cAAa;AAClE;IAEa,qCAAyE,SACpF,SAAS,YAAY,YACrB,qBAAqB,YAAY,mBAAiB;AAElD,MAAM,aAAc,QAAQ,SAAS,iBAAiB,QAAQ,SAAS;AAEvE,SAAO,aACH,qBACE,SAAS,YAAgC,YACzC,qBAAqB,YAAY,iBAAiB,IAEpD,uBACE,SAAS,YAAgC,YAAY,qBAAqB,UAAU;AAG5F;AAEA,IAAa,sBAET,SAAC,KAAK,qBAAqB,gBAAc;AAC3C,MAAI,mBAAmB,UAAa,mBAAmB,IAAI;AACzD,QAAM,WAAW,oBAAoB,cAAc,EAAC;AACpD,WAAO,MAAM,SAAS,MAAM,SAAS,SAAS,IAAI,IAAI;;AAExD,SAAO;AACT;IAEa,6BAA6B,SACxC,aAAqB,mBAAwBC,gBAC7CC,cAAmB,cAAwBH,gBAC3C,4BACA,YAAoB,qBACpB,0BACA,UAAsB,WAA4B,QAClD,kBAAoC,eAAsB;AAE1D,MAAI,gBAAgB,MAAO,eAAe,iBACrC,2BAA2B,aAAa,UACxC,iBAAiB,kBAAkB,CAAC,EAAE,UAAU,KAAK,IAAI,IAAK;AACjE,QAAM,eAAe,kBAAkB,IAAI,SAAC,WAAc;AAAK,aAAAL,UAAAA,UAAA,CAAA,GAC1D,SAAS,GAAA,EACZ,QAAQ,KAAI,CAAA;IAAA,CACZ;AAEF,WAAO;MACL,yBAAyB,YACvB,cAAcO,gBAAeC,cAC7B,cAAcH,gBAAe,4BAC7B,UAAU,WAAW,QAAQ,kBAAkB,aAAa;MAE9D,4BAA4B,CAAA;;;AAIhC,MAAI,eAAe,iBAAiB,gBAAgB,IAAI;AACtD,WAAO;MACL,yBAAyB,CAAA;MACzB,4BAA4B,uBAC1B,mBAAmBE,gBAAeC,cAClC,cAAcH,gBAAe,qBAAqB,0BAClD,UAAU,WAAW,QAAQ,kBAAkB,aAAa;;;AAIlE,SAAO;IACL,yBAAyB,CAAA;IACzB,4BAA4B,yBAC1B,mBAAmBE,gBAAeC,cAClCH,gBAAe,0BACf,UAAU,WAAW,QAAQ,kBAAkB,aAAa;;AAGlE;AAEA,IAAa,6BAET,SAAC,kBAAkB,WAAW,iBAAe;AAC/C,MAAI,CAAC;AAAkB,WAAO,CAAA;AAC9B,SAAO,iBAAiB,OAAO,SAAC,KAAK,OAAY;;AAC/C,QAAM,qBAAqB,UAAU,KACnC,SAAA,UAAQ;AAAI,aAAC,SAAS,cAAc,MAAM;IAAS,CAAC,EACnD;AACH,WAAAL,UAAAA,UAAA,CAAA,GACK,GAAG,IAAAD,MAAA,CAAA,GAAAA,IACL,MAAM,SAAS,IAAG,qBACf,2BAA2B,OAAO,eAAe,IAAI,MAAM,IAAEA,IAAA;KAElE,CAAA,CAAE;AACP;AAEA,IAAM,6BAEF,SAAC,cAAc,iBAAe;AAChC,MAAM,wBAAwB,gBAAgB,aAAa,SAAS;AACpE,MAAI,sBAAsB,UAAU,SAAC,WAAc;AAAK,WAAA,cAAc,aAAa;EAAE,CAAA,MAAM,IAAI;AAC7F,WAAO;;AAET,SAAO,CAAC,aAAa,EAAE;AACzB;IAEa,qBAET,SAAC,OAAO,WAAW,KAAK,SAAS,cAAc,kBAAgB;AACjE,MAAI,eAAO,KAAa,EAAE,OAAO,SAAiB,KAC3C,eAAO,GAAW,EAAE,OAAO,OAAe,KAC1C,uBAAuB,cAAc,gBAAgB,GAAG;AAC7D,WAAO;;AAET,SAAO;AACT;AAEA,IAAM,yBAEF,SAAC,cAAc,kBAAgB;AACjC,MAAM,SAAS,OAAO,oBAAoB,YAAY;AACtD,SAAO,OAAO,MAAM,SAAC,OAAK;AACxB,QAAI,MAAM,QAAQ,aAAa,KAAK,CAAC,KAAK,MAAM,QAAQ,iBAAiB,KAAK,CAAC,GAAG;AAChF,aAAO,aAAa,KAAK,EAAE,MAAM,SAAC,MAAW,OAAa;AAAK,eAC7D,SAAS,iBAAiB,KAAK,EAAE,KAAK;MAAC,CACxC;;AAEH,WAAO,aAAa,KAAK,MAAM,iBAAiB,KAAK;GACtD;AACH;IC5Qa,cAET,SAAA,YAAU;AAAI,SAAA,eAAe;AAAS;AAE1C,IAAa,sBAA2C,SACtDA,KAA2B,aAAa,2BAAyB;MAAzD,kBAAeA,IAAA;AAEvB,MAAM,oBAAoB,eAAO,WAAW;AAC5C,MAAI,gBAAgB,QAAQ;AAC1B,WAAO,kBAAkB,QAAQ,gBAAgB,SAAiB,KAAK,KACpE;;AAEL,MAAI,kBAAkB,QAAQ,gBAAgB,OAAe,GAAG;AAC9D,WAAO;;AAET,SAAO;AACT;IAEa,6BAA2D,SACtEU,WAAU,aAAW;AAErB,MAAM,OAAQ,cAAcA,UAAS,UAAU,QAAO,KAAM,OACzDA,UAAS,QAAQ,QAAO,IAAKA,UAAS,UAAU,QAAO;AAC1D,SAAQ,MAAM,KAAK,MAAM,MAAO,SAAY,GAAA,OAAG,KAAG,GAAA;AACpD;AAEA,IAAa,eAA+B,SAC1CV,KAAoC,aAAa,oBAAkB;MAAjE,YAASA,IAAA,WAAE,UAAOA,IAAA,SAAE,aAAUA,IAAA;AAEhC,MAAM,YAAY,YAAY,UAAU;AACxC,UAAS,UAAU,QAAO,IAAK,eAAe,CAAC,aAC1C,QAAQ,QAAO,IAAK,eAAe,cAAc;AACxD;ICpCa,0BAAmD,SAC9D,aAAa,WAAW,gBAAc;AAEtC,MACE,CAAC,aAAa,UAAU,WAAW,KAChC,CAAC,kBAAkB,eAAe,WAAW;AAChD,WAAO,CAAA;AAET,SAAO,UAAU,OAAO,SAAC,KAAK,UAAQ;AACpC,QAAM,wBAAwB,YAAY,SAAS,SAAS;AAC5D,QAAI,0BAA0B;AAAW,aAAO;AAEhD,QAAI,SAAS,iBAAiB,CAAC,MAAM,QAAQ,qBAAqB,KAC/D,CAAC,SAAS,iBAAiB,MAAM,QAAQ,qBAAqB,GAAG;AAElE,aAAO;;AAGT,QAAI,SAAS,eAAe;AAC1B,aAAAE,eAAAA,eAAA,CAAA,GAAAC,QACK,GAAG,GAAA,KAAA,GAAAA,QACF,sBACH,OAAO,SAAC,eAAe,QAAM;AAAK,eAAA,kCACjC,gBAAgB,eAAe,UAAU,MAAM;MAChB,GAAE,CAAA,CAAkC,CAAC,GAAA,KAAA;;AAI1E,WAAO,kCACL,gBAAgB,KAAK,UAAU,qBAAqB;KAErD,CAAA,CAAkC;AACvC;AAEA,IAAM,oCAGF,SAAC,gBAAgB,sBAAsB,UAAU,YAAU;AAC7D,MAAM,kBAAkB,eAAe,KACrC,SAAA,WAAS;AAAI,WAAA,SAAS,cAAc,UAAU,aAAa,UAAU,OAAO;EAAU,CAAA;AAGxF,SAAO,kBAAeD,eAAAA,eAAA,CAAA,GAAAC,QACjB,oBAAoB,GAAA,KAAA,GAAA;IACvB;cACE;AACN;IC5Ca,0BAAmD,SAAC,gBAAc;AAC7E,SAAO,eAAe,OAAO,SAAC,KAAK,UAAQ;AAAK,WAAAD,eAAAA,eAAA,CAAA,GAAAC,QAC3C,GAAG,GAAA,KAAA,GAAAA,QACH,SAAS,UAAU,IAAI,SAAA,MAAI;AAAI,aAAA;IAAI,CAAA,CAAC,GAAA,KAAA;EAAA,GACtC,CAAA,CAAkC;AACvC;AAEA,IAAa,oBAAuC,SAAC,WAAW,kBAAkB,SAAO;AACvF,MAAM,wBAAwB,CAAC,CAAC;AAChC,MAAI,sBAAsB;AAC1B,SAAO,UAAU,IAAI,SAAC,UAAU,YAAU;AACxC,QAAM,YAAY,SAAS;AAC3B,QAAM,SAAS,yBAAyB,qBAAqB,aACxD,eAAe,KAAK,CAAC;AAC1B,QAAM,QAAQ,SAAS,SAAS;AAChC,QAAM,gBAAgB,CAAC,CAAC,SAAS;AACjC,WAAO;MACL;MACA;MACA;MACA;MACA,WAAW,SAAS,UAAU,IAAI,SAAC,cAAY;AAC7C,YAAM,QAAQ,aAAa,SAAS,QAAQ,sBAAsB,QAAQ,MAAM;AAChF,YAAI,CAAC,aAAa;AAAO,iCAAuB;AAEhD,eAAQ;UACN,IAAI,aAAa;UACjB;UACA;UACA,MAAM,aAAa,QAAQ,SAAS;UACpC;UACA;UACA;;OAEH;;GAEJ;AACH;AAEA,IAAa,6BAAyD,SACpEQ,eAAc,WAAW,gBAAc;AACpC,SAAA;IACHA,cAAa,IAAI,SAAA,aAAW;AAAI,aAAAV,UAAAA,UAAA,CAAA,GAC3B,WAAW,GAAA,EACd,WAAW,wBAAwB,YAAY,UAAU,WAAW,cAAc,EAAC,CAAA;IAAA,CACnF;;AACH;IC9CY,uBAA+E,SAC1F,OAAOD,KAAY;MAAV,WAAQA,IAAA;AAEjB,MAAM,iBAAiB,MAAM,MAAM,cAAc;AACjD,MAAM,gBAAgB,eAAe,QAAQ,QAAQ;AAErD,MAAI,gBAAgB,IAAI;AACtB,mBAAe,OAAO,eAAe,CAAC;SACjC;AACL,mBAAe,KAAK,QAAQ;;AAG9B,SAAO,EAAE,eAAc;AACzB;ICda,yBAET,SAAC,WAAS;AACZ,MAAM,YAAY,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,MAAI,QAAQ;AACZ,SAAO,UAAU,CAAC,EAAE,KAAK,KAAK,eAAO,UAAU,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,WAAW,KAAK,GAAG;AAC5F,aAAS;;AAEX,SAAO;AACT;IAEa,mBAET,SAAC,WAAW,eAAa;AAC3B,MAAI,CAAC,eAAe;AAClB,WAAO,UAAU,CAAC,EAAE,IAAI,SAACA,KAEtB,OAAK;UADN,YAASA,IAAA,WAAE,UAAOA,IAAA,SAAE,QAAKA,IAAA,OAAE,aAAUA,IAAA,YAAE,eAAYA,IAAA;AACxC,aAAC;QACZ,KAAK,MAAM,SAAQ;QACnB;QAAW;QAAS;QAAO;QAAY;;KACvC;;AAEJ,MAAI;AACJ,MAAM,UAAU,uBAAuB,SAAS;AAChD,SAAO,UAAU,CAAC,EAAE,OAAO,SAAC,KAAKA,KAA+B,OAAK;QAAlC,YAASA,IAAA,WAAE,UAAOA,IAAA,SAAE,QAAKA,IAAA;AAC1D,QAAM,cAAc,eAAO,SAAS;AACpC,QAAI,YAAY,OAAO,QAAQ,GAAG;AAChC,aAAO;;AAET,eAAW;AACX,WAAAE,eAAAA,eAAA,CAAA,GAAAC,QACK,GAAG,GAAA,KAAA,GAAA;MAAE;QACN,KAAK,MAAM,SAAQ;QACnB;QAAW;QAAS;QAAO;QAC3B,YAAY;;;KAGf,CAAA,CAAgB;AACrB;ICtCa,qBAET,SAAC,aAAa,YAAU;AAAK,SAAA,eAAO,WAAgC,EACrE,aAAa,aAAa,KAAK,EAAE,GAAG,OAAO,EAAE,OAAM;AAAE;ACkCxD,IAAY;CAAZ,SAAYS,sBAAmB;AAC7B,EAAAA,qBAAAA,qBAAA,OAAA,IAAQ,mBAAmB,KAAK,IAAA;AAChC,EAAAA,qBAAAA,qBAAA,QAAA,IAAS,mBAAmB,MAAM,IAAA;AAClC,EAAAA,qBAAAA,qBAAA,SAAA,IAAU,mBAAmB,OAAO,IAAA;AACpC,EAAAA,qBAAAA,qBAAA,QAAA,IAAS,mBAAmB,MAAM,IAAA;AACpC,GALY,wBAAA,sBAAmB,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjC/B,IAAA,oBAAA,SAAA,QAAA;AAAgC,EAAAC,WAAAC,oBAAA,MAAA;AAAhC,WAAAA,qBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AACE,UAAA,uBAAuB,QAAQ,SAAA,QAAM;AAAI,aAAA,qBAAqB,MAAM;IAAC,CAAA;;;AAErE,EAAAA,mBAAA,UAAA,SAAA,WAAA;AACQ,QAAAC,MAMF,KAAK,OALP,OAAIA,IAAA,MACW,OAAIA,IAAA,eACnB,SAAMA,IAAA,QACN,SAAMA,IAAA,QACN,iBAAcA,IAAA;AAGhB,eACEC;MAAC;MAAM,EACL,MAAK,gBAAe;UAEpBA,6BAAC,QAAM,EAAC,MAAK,gBAAe,OAAO,aAAa,IAAI,EAAC,CAAA;UACrDA,6BAAC,QAAM,EAAC,MAAK,cAAa,OAAO,KAAK,qBAAqB,MAAM,EAAC,CAAA;UAClEA,6BAAC,QAAM,EAAC,MAAK,kBAAiB,OAAO,eAAc,CAAA;UACnDA,6BAAC,QAAM,EAAC,MAAK,UAAS,OAAO,OAAM,CAAA;UACnCA;QAAC;QAAQ,EAAC,MAAK,OAAM;YACnBA;UAAC;UAAI,EAAC,OAAc;cAClBA,6BAAC,qBAAmB,EAAC,MAAK,gBAAe,CAAA;cACzCA,6BAAC,qBAAmB,EAAC,MAAK,SAAQ,CAAA;cAClCA,6BAAC,qBAAmB,EAAC,MAAK,OAAM,CAAA;cAChCA,6BAAC,qBAAmB,EAAC,MAAK,SAAQ,CAAA;QAAG;MAChC;IACE;;AAInB,SAAAF;AAAA,EA/BgCG,2BAAmB;AAuC5C,IAAM,gBAAqD;AC1ClE,IAAM,gBAAyD,SAACF,KAO/D;MANC,OAAIA,IAAA,MACJ,gBAAaA,IAAA,eACb,WAAQA,IAAA,UACR,SAAMA,IAAA,QACN,SAAMA,IAAA,QACN,iBAAcA,IAAA;AACV,aACJC;IAACE;IAAU;QACTF,6BAAC,eAAa,EACZ,MACA,eACA,QACA,QACA,eAA8B,CAAA;IAE/B;EAAQ;AATP;AAaN,cAAc,eAAe;EAC3B,MAAM,CAAA;EACN,QAAQ;EACR,QAAQ;EACR,gBAAgB;;AASlB,IAAa,YAAiD;AClB9D,IAAM,kBAAkB,SAAA,QAAM;AAAI,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,QAAO,OAAc,CAAA;AAAI;AACrF,IAAM,4BAA4B,WAAA;AAAM,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,4BAA2B,CAAA;AAAG;AAEhG,IAAM,4BAA4B,SAACD,KAAiB;MAAfI,iBAAaJ,IAAA;AAAO,SAAAK,cAAkBD,cAAa;AAA/B;AACzD,IAAM,0BAA0B,SAACJ,KAAiB;MAAfI,iBAAaJ,IAAA;AAAO,SAAAM,YAAgBF,cAAa;AAA7B;AAEvD,IAAM,uBAAuB,WAAA;AAAM,aAAAH,6BAAC,qBAAmB,EAAC,MAAK,YAAW,CAAA;AAAG;AAC3E,IAAM,sBAAsB,WAAA;AAAM,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,WAAU,CAAA;AAAG;AACzE,IAAM,+BAA+B,WAAA;AAAM,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,oBAAmB,CAAA;AAAG;AAE3F,IAAM,2BAA2B,WAAA;AAAM,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,gBAAe,CAAA;AAAG;AAEnF,IAAA,gBAAA,SAAA,QAAA;AAA4B,EAAAH,WAAAS,gBAAA,MAAA;AAA5B,WAAAA,iBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AACE,UAAA,QAAQ;MACN,uBAAuB,CAAA;MACvB,mBAAmB;QACjB,aAAa;QACb,gBAAgB;QAChB,cAAc;QACd,eAAe;QACf,sBAAsB,WAAA;AAAM,iBAAA;QAAS;QACrC,wBAAwB,WAAA;AAAM,iBAAA;QAAS;;MAEzC,uBAAuB;;;MAGvB,oBAAoB;;AAiBtB,UAAA,4BAA4B,QAAQ,SAAC,UAAU,mBAAiB;AAAK,aAAA,SAAA,SAAO;AAC1E,eAAA,SAAS,SAAS,UAAW,WAAA;AAAM,iBAAA;QAAiB,GAAE,QAAQ,iBAAiB;;IAAC,CAAA;AAElF,UAAA,gCAAgC,QAAQ,SAAC,UAAU,uBAAqB;AAAK,aAAA,SAAA,SAAO;AAClF,eAAA,SAAS,SAAS,UAAW,WAAA;AAAM,iBAAA;QAAqB,GAAE,QAAQ,qBAAqB;;IAAC,CAAA;AAE1F,UAAA,wBAAwB,QAAQ,SAAC,UAAU,eAAa;AAAK,aAAA,SAAA,SAAO;AAClE,eAAA,SAAS,SAAS,UAAW,WAAA;AAAM,iBAAA;QAAa,GAAE,QAAQ,aAAa;;IAAC,CAAA;AAE1E,UAAA,uBAAuB,QAAQ,SAAC,UAAU,cAAY;AAAK,aAAA,SAAA,SAAO;AAChE,eAAA,SAAS,SAAS,UAAU,WAAA;AAAM,iBAAA;QAAY,GAAE,QAAQ,YAAY;;IAAC,CAAA;AAEvE,UAAA,uBAAuB,QAAQ,SAAC,UAAU,cAAY;AAAK,aAAA,SAAA,SAAO;AAAI,eAAA,SACpE,SAAS,UAAW,WAAA;AAAM,iBAAA;QAAY,GAAE,QAAQ,YAAY;MAC7D;IAAA,CAAA;AAED,UAAA,yBAAyB,QAAQ,SAAC,UAAU,iBAAe;AAAK,aAAA,SAACP,KAAkB;YAAhBQ,mBAAcR,IAAA;AAC/E,eAAAS,eAAmBD,kBAAgB,UAAW,eAAe;;IAAC,CAAA;AAEhE,UAAA,sBAAsB,QAAQ,SAAC,UAAU,iBAAiB,MAAI;AAAK,aAAA,SAACR,KAAe;YAAb,cAAWA,IAAA;AAAO,eACtF,eAAe,YAAY,SAAS,WAChC,cACA,EAAE,MAAM,UAAU,MAAM,aAAa,gBAAe;;IACzD,CAAA;AAED,UAAA,sBAAkC,SAAC,SAAO;AAChC,UAAM,WAAa,MAAK,MAAK;AACrC,aAAO,SACL,SAAS,UAAW,yBAAyB,QAAQ,WAAW;;AAIpE,UAAA,wBAAoC,SAAC,SAAO;AAClC,UAAM,WAAa,MAAK,MAAK;AACrC,aAAO,SACL,SAAS,UAAW,2BAA2B,QAAQ,aAAa;;AAIxE,UAAA,wBAAwB,QAAQ,SAC9B,UAAU,cAAc,cAAc,YAAYU,4BAAyB;AACxE,aAAA,SAAA,SAAO;AAAI,eAAA,SACd,SACA,UACAA,2BAA0B,cAAc,cAAc,UAAU,GAChE,QAAQ,aAAa;MACtB;IAAA,CAAA;AAED,UAAA,gCAAgC,QAAQ,SACtC,UAAU,cAAc,gCAA8B;AACnD,aAAA,SAAA,SAAO;AAAI,eAAA,SACZ,SACA,UACA,+BAA+B,YAAY,GAC3C,QAAQ,qBAAqB;MAC9B;IAAA,CAAA;AAEH,UAAA,yBAAyB,QAAQ,SAAC,kBAAgB;AAChD,YAAK,SAAS,EAAE,uBAAuB,iBAAgB,CAAE;KAC1D;AAED,UAAA,uBAAuB,SAAC,mBAAoC;AAC1D,YAAK,SAAS,EAAE,kBAAiB,CAAE;;;;AA5E9B,EAAAH,eAAA,2BAAP,SACE,OAAuB,OAAqB;AAG5C,QAAI,MAAM,2BAA2B,MAAM,uBAAuB;AAChE,aAAAI,UAAAA,UAAA,CAAA,GACK,KAAK,GAAA,EACR,uBAAuB,MAAM,wBAC7B,oBAAoB,KAAK,OAAM,EAAE,CAAA;;AAGrC,WAAO;;AAoET,EAAAJ,eAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAP,MAqBF,KAAK,OApBD,WAAQA,IAAA,MACd,gBAAaA,IAAA,eACb,cAAWA,IAAA,aACX,OAAIA,IAAA,MACJ,eAAYA,IAAA,cACZ,eAAYA,IAAA,cACZ,eAAYA,IAAA,cACZ,aAAUA,IAAA,YACV,wBAAqBA,IAAA,uBACrB,iCAA8BA,IAAA,gCAC9B,wBAAqBA,IAAA,uBACrB,uBAAoBA,IAAA,sBACK,WAAQA,IAAA,yBACT,gBAAaA,IAAA,wBACX,kBAAeA,IAAA,0BACzC,wBAAqBA,IAAA,uBACM,mBAAgBA,IAAA,2BACf,oBAAiBA,IAAA,4BAC7C,cAAWA,IAAA,aACM,SAAMA,IAAA;AAEnB,QAAA,KAAmE,KAAK,OAAtE,wBAAqB,GAAA,uBAAE,oBAAiB,GAAA,mBAAE,qBAAkB,GAAA;AACpE,QAAM,kBAAkB,eAAe;AAEvC,eACEC;MAAC;MAAM,EAAC,MAAK,YAAW;UACtBA,6BAAC,QAAM,EACL,MAAK,kBACL,UAAU,KAAK,uBAAuB,UAAU,eAAe,EAAC,CAAA;UAElEA,6BAAC,QAAM,EACL,MAAK,eACL,UAAU,KAAK,oBAAoB,UAAU,iBAAiB,IAAI,EAAC,CAAA;UAErEA,6BAAC,QAAM,EACL,MAAK,iBACL,UAAU,KAAK,sBAAsB,UAAU,aAAa,EAAC,CAAA;UAE/DA,6BAAC,QAAM,EAAC,MAAK,gBAAe,UAAU,KAAK,qBAAqB,UAAU,YAAY,EAAC,CAAA;UACvFA,6BAAC,QAAM,EACL,MAAK,iBACL,UAAU,KAAK,sBACb,UAAU,cAAc,cAAc,YAAY,qBAAqB,EACxE,CAAA;UAEHA,6BAAC,QAAM,EAAC,MAAK,iBAAgB,UAAU,KAAK,sBAAqB,CAAA;UACjEA,6BAAC,QAAM,EAAC,MAAK,eAAc,UAAU,KAAK,oBAAmB,CAAA;UAC7DA,6BAAC,QAAM,EACL,MAAK,gBACL,UAAU,KAAK,qBAAqB,UAAU,YAAY,EAAC,CAAA;UAG7DA,6BAAC,QAAM,EACL,MAAK,yBACL,UAAU,KAAK,8BAA8B,UAAU,qBAAqB,EAAC,CAAA;UAE/EA,6BAAC,QAAM,EACL,MAAK,qBACL,UAAU,KAAK,0BAA0B,UAAU,iBAAiB,EAAC,CAAA;UAGvEA,6BAAC,QAAM,EACL,MAAK,yBACL,UAAU,KAAK,8BACb,UAAU,cAAc,8BAA8B,EACvD,CAAA;UAGHA,6BAAC,UAAQ,EAAC,MAAK,OAAM,GACjB,SAAC,QAAW;AACZ,mBAAAA,6BAAC,mBAAiB,MACf,SAACD,KAAyC;cAAvC,cAAWA,IAAA,aAAE,mBAAgBA,IAAA,kBAAE,SAAMA,IAAA;AACvC,cAAI,YAAY,SAAS;AAAU,uBAAOC,6BAAC,qBAAmB,IAAA;AAC9D,cAAMW,uBAAqB,qBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAmB,QAAQ,OAChD;AACN,qBACEX,6BAAC,QAAMU,UAAA,EACL,cAAc,WAAM,QAAN,WAAM,SAAA,SAAN,OAAQ,cACtB,mBAAmB,qBACnB,oBAAoB,sBACpB,sBAAsB,MAAK,sBAC3B,wBACEC,sBAAqB,2BAA2B,QAElD,mBAAmBA,sBAAqB,WAAM,QAAN,WAAM,SAAA,SAAN,OAAQ,SAAS,GACzD,4BAA4B,6BAA4B,GACpD,WAAW,CAAA;SAGpB;OACiB;UAIxBX;QAAC;QAAQ,EAAC,MAAK,WAAU;YACvBA,6BAAC,mBAAiB,MACf,SAACD,KAAyE;cAAvE,cAAWA,IAAA,aAAEI,iBAAaJ,IAAA,eAAE,aAAUA,IAAA,YAAE,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AACvE,cAAI,YAAY,SAAS;AAAU,uBAAOC,6BAAC,qBAAmB,IAAA;AAC9D,cAAM,qBAAqB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAc,QAAQ;AACjD,cAAM,wBAAuB,qBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAmB,QAAQ,OAClD;AACN,qBACEA,6BAAC,UAAQ,EACP,eAAe,uBACf,cAAc,sBACd,wBACE,uBAAuB,2BAA2B,QAEpD,WAAWG,gBACX,YACA,eAAe,mBAAkB,CAAA;SAGtC;MACiB;UAGtBH,6BAAC,UAAQ,EAAC,MAAK,OAAM,GAClB,SAAA,QAAM;AAAI,mBACTA,6BAAC,mBAAiB,MACf,SAACD,KAAe;cAAb,cAAWA,IAAA;AACb,cAAI,YAAY,SAAS;AAAU,uBAAOC,6BAAC,qBAAmB,EAAC,OAAc,CAAA;AAC7E,qBACEA,6BAAC,eAAaU,UAAA,CAAA,GAAK,MAAM,CAAA;SAE5B;MACiB,CACrB;UAGHV,6BAAC,UAAQ,EAAC,MAAK,YAAW,GACvB,SAAC,QAAW;AAAK,mBAChBA,6BAAC,mBAAiB,MACf,SAACD,KAA0C;cAAxC,aAAUA,IAAA,YAAE,cAAWA,IAAA,aAAEI,iBAAaJ,IAAA;AACxC,cAAI,YAAY,SAAS;AAAU,uBAAOC,6BAAC,qBAAmB,IAAA;AAC9D,qBACEA;YAAAA;YAAAA;gBACEA,6BAAC,iBAAeU,UAAA,EACd,WAAWP,gBACX,cAAc,uBACd,eAAe,iBACf,YACA,qBAAqB,MAAK,wBAC1B,KAAK,mBAAkB,GACnB,MAAM,CAAA;gBAEZH;cAAC;cAAgB;kBACfA,6BAAC,2BAAyB,IAAA;YAAG;UACZ;SAGxB;MACe,CACnB;UAGHA;QAAC;QAAQ,EAAC,MAAK,oBAAmB;YAChCA,6BAAC,mBAAiB,MACf,SAACD,KAAe;cAAb,cAAWA,IAAA;AACb,cAAI,YAAY,SAAS,YAAY,CAAC,mBAAmB;AACvD,uBAAOC,6BAAC,qBAAmB,IAAA;;AAE7B,qBACEA,6BAAC,mBAAiB,IAAA;SAErB;MACiB;IACX;;AAInB,SAAAM;AAAA,EA7Q4BL,2BAAmB;AA8QxC,IAAM,YAAiD;AC5R9D,IAAM,6CAA6C,SAAA,cAAY;AAAI,SAAA,SAACF,KAEnE;QADCa,gBAAYb,IAAA,cAAEc,iBAAad,IAAA,eAAEe,eAAWf,IAAA,aAAE,eAAYA,IAAA;AAClD,WAAA,2BACJa,eAAcC,gBAAeC,cAAa,cAAc,YAAY;EADhE;AAEL;AACD,IAAM,wBAAwB,SAAC,cAAc,YAAU;AAAK,SAAA,SAACf,KAE5D;QADCI,iBAAaJ,IAAA,eAAE,eAAYA,IAAA;AACvB,WAAAgB,cAAkBZ,gBAAe,cAAc,YAAY,cAAc,KAAK,IAAG,CAAE;EAAnF;AAAoF;AAE1F,IAAM,uBAAuB,WAAA;AAAM,aAAAH,6BAAC,qBAAmB,EAAC,MAAK,YAAW,CAAA;AAAG;AAE3E,IAAA,kBAAA,SAAA,QAAA;AAA8B,EAAAH,WAAAmB,kBAAA,MAAA;AAA9B,WAAAA,mBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AACE,UAAA,wBAAwB,QAAQ,SAAC,UAAU,cAAc,YAAU;AAAK,aAAA,SAAA,SAAO;AAAI,eAAA,SACjF,SACA,UACA,sBAAsB,cAAc,UAAU,GAC9C,QAAQ,aAAa;MACtB;IAAA,CAAA;;;AAED,EAAAA,iBAAA,UAAA,SAAA,WAAA;AACQ,QAAAjB,MAuBF,KAAK,OAtBP,kBAAeA,IAAA,iBACf,6BAA0BA,IAAA,4BACA,YAASA,IAAA,0BACV,iBAAcA,IAAA,yBACvC,6BAA0BA,IAAA,4BAC1B,6BAA0BA,IAAA,4BAC1B,0BAAuBA,IAAA,yBACvB,wBAAqBA,IAAA,uBACrB,uBAAoBA,IAAA,sBACpB,2BAAwBA,IAAA,0BACxB,wBAAqBA,IAAA,uBACrB,yBAAsBA,IAAA,wBACtB,eAAYA,IAAA,cACZ,eAAYA,IAAA,cACN,WAAQA,IAAA,MACd,4BAAyBA,IAAA,2BACzB,gBAAaA,IAAA,eACb,cAAWA,IAAA,aACX,eAAYA,IAAA,cACZ,aAAUA,IAAA,YACV,wBAAqBA,IAAA,uBACrB,OAAIA,IAAA;AAGN,eACEC;MAAC;MAAM,EACL,MAAK,WAAU;UAEfA,6BAAC,WAAS,EACR,uBACA,MACA,cACA,MAAM,UACN,eACA,aACA,cACA,YACA,cACA,gCAAgC,4CAChC,4BACA,yBACA,uBACA,sBACA,wBACA,0BACA,uBACA,2BACA,iBACA,aAAa;QACX,oBAAoB;QACrB,CAAA;UAGHA,6BAAC,QAAM,EACL,MAAK,iBACL,UAAU,KAAK,sBAAsB,UAAU,cAAc,UAAU,EAAC,CAAA;UAG1EA,6BAAC,UAAQ,EAAC,MAAK,YAAW,GACvB,SAAC,QAAW;AAAK,mBAChBA,6BAAC,mBAAiB,MACf,SAACD,KAID;cAHC,cAAWA,IAAA,aAAEkB,iBAAalB,IAAA,eAAE,SAAMA,IAAA,QAAE,aAAUA,IAAA,YAC5B,sBAAmBA,IAAA,kBACrC,wBAAqBA,IAAA;AAErB,cAAI,YAAY,SAAS;AAAU,uBAAOC,6BAAC,qBAAmB,IAAA;AAC9D,cAAM,mBAAmB,wBAAmB,QAAnB,wBAAmB,SAAA,SAAnB,oBAAsB,QAAQ;AAEvD,qBACEA,6BAAC,WAASU,UAAA,EACR,gBAAgB,gBAChB,mBAAmB,4BACnB,cAAc,4BACd,WAAWO,gBACX,YACA,QACA,kBACA,QAAQ,mBAAmB,qBAAqB,EAAC,GAC7C,MAAM,CAAA;SAGf;MACiB,CACrB;IACQ;;AAInB,SAAAD;AAAA,EAnG8Bf,2BAAmB;AAqG1C,IAAM,eAA6D;ACtH1E,IAAM,4BAA4B,SAChC,cAAc,cAAc,YAAU;AACnC,SAAA,SAACF,KAA8B;QAA5B,cAAWA,IAAA,aAAE,gBAAaA,IAAA;AAChC,WAAOmB,cACL,aAAa,QACb,eAAe,CAAA,GACf,cAAe,YAAa,cAC5B,KAAK,IAAG,CAAE;EAEd;AAAC;AAED,IAAA,cAAA,SAAA,QAAA;AAA0B,EAAArB,WAAAsB,cAAA,MAAA;AAA1B,WAAAA,eAAA;;;AA2BE,EAAAA,aAAA,UAAA,SAAA,WAAA;AACQ,QAAApB,MAoBF,KAAK,OAnBP,kBAAeA,IAAA,iBACa,oBAAiBA,IAAA,4BAC7C,2BAAwBA,IAAA,0BACxB,0BAAuBA,IAAA,yBACvB,6BAA0BA,IAAA,4BAC1B,6BAA0BA,IAAA,4BAC1B,0BAAuBA,IAAA,yBACvB,wBAAqBA,IAAA,uBACrB,uBAAoBA,IAAA,sBACpB,2BAAwBA,IAAA,0BACxB,wBAAqBA,IAAA,uBACrB,yBAAsBA,IAAA,wBACtB,4BAAyBA,IAAA,2BACzB,eAAYA,IAAA,cACN,WAAQA,IAAA,MACd,gBAAaA,IAAA,eACb,cAAWA,IAAA,aACX,eAAYA,IAAA,cACZ,aAAUA,IAAA;AAGZ,eACEC;MAAC;MAAM,EACL,MAAK,UAAS;UAEdA,6BAAC,cAAY,EACX,uBAAuB,2BACvB,MAAM,WAAW,KACjB,cACA,MAAM,UACN,eACA,aACA,cACA,YACA,4BAA4B,mBAC5B,yBACA,uBACA,sBACA,wBACA,0BACA,uBACA,2BACA,iBACA,0BACA,yBACA,4BACA,2BAAsD,CAAA;IACtD;;AA3ED,EAAAmB,aAAA,eAA2C;IAChD,MAAM;IACN,cAAc;IACd,YAAY;IACZ,cAAc;IACd,eAAe;;AAGV,EAAAA,aAAA,aAA+B;IACpC,iBAAiB;IACjB,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;IAC5B,0BAA0B;IAC1B,yBAAyB;IACzB,4BAA4B;IAC5B,4BAA4B;IAC5B,yBAAyB;IACzB,uBAAuB;IACvB,sBAAsB;IACtB,6BAA6B;IAC7B,0BAA0B;IAC1B,wBAAwB;IACxB,uBAAuB;;AAwD3B,SAAAA;EAhF0BlB,2BAAmB;AAsF7C,IAAa,UAAkD;ACjG/D,IAAMmB,gBAAe;AACrB,IAAMX,8BAA4B,SAChC,cAAc,cAAc,YAAU;AACnC,SAAA,SAACV,KAA4D;QAA1D,iBAAcA,IAAA,gBAAE,gBAAaA,IAAA,eAAE,eAAYA,IAAA,cAAE,cAAWA,IAAA;AAC9D,WAAOmB,cACL,aAAa,gBACb,gBAAiBE,eAAc,cAC/B,cAAe,YAAa,cAC5B,KAAK,IAAG,CAAE;EAEd;AAAC;AAED,IAAA,eAAA,SAAA,QAAA;AAA2B,EAAAvB,WAAAwB,eAAA,MAAA;AAA3B,WAAAA,gBAAA;;;AA4BE,EAAAA,cAAA,UAAA,SAAA,WAAA;AACQ,QAAAtB,MAqBF,KAAK,OApBP,kBAAeA,IAAA,iBACf,6BAA0BA,IAAA,4BAC1B,2BAAwBA,IAAA,0BACxB,0BAAuBA,IAAA,yBACvB,6BAA0BA,IAAA,4BAC1B,6BAA0BA,IAAA,4BAC1B,0BAAuBA,IAAA,yBACvB,wBAAqBA,IAAA,uBACrB,uBAAoBA,IAAA,sBACpB,2BAAwBA,IAAA,0BACxB,wBAAqBA,IAAA,uBACrB,yBAAsBA,IAAA,wBACtB,eAAYA,IAAA,cACZ,eAAYA,IAAA,cACN,WAAQA,IAAA,MACd,4BAAyBA,IAAA,2BACzB,gBAAaA,IAAA,eACb,cAAWA,IAAA,aACX,eAAYA,IAAA,cACZ,aAAUA,IAAA;AAGZ,eACEC;MAAC;MAAM,EACL,MAAK,WAAU;UAEfA,6BAAC,cAAY,EACX,uBAAuBS,6BACvB,MAAM,WAAW,MACjB,cACA,MAAM,UACN,eACA,aACA,cACA,YACA,cACA,4BACA,yBACA,uBACA,sBACA,wBACA,0BACA,uBACA,2BACA,iBACA,0BACA,yBACA,4BACA,2BAAsD,CAAA;IACtD;;AA9ED,EAAAY,cAAA,eAAuC;IAC5C,cAAc;IACd,YAAY;IACZ,cAAc;IACd,eAAe;IACf,cAAc,CAAA;IACd,MAAM;;AAGD,EAAAA,cAAA,aAA+B;IACpC,iBAAiB;IACjB,0BAA0B;IAC1B,2BAA2B;IAC3B,4BAA4B;IAC5B,0BAA0B;IAC1B,yBAAyB;IACzB,4BAA4B;IAC5B,4BAA4B;IAC5B,yBAAyB;IACzB,uBAAuB;IACvB,sBAAsB;IACtB,6BAA6B;IAC7B,0BAA0B;IAC1B,wBAAwB;IACxB,uBAAuB;;AA0D3B,SAAAA;EAnF2BpB,2BAAmB;AA0F9C,IAAa,WAA+C;AC5G5D,IAAMQ,8BAA4B,SAChC,cAAc,cAAc,YAAU;AACnC,SAAA,SAACV,KAA8C;QAA5C,cAAWA,IAAA,aAAE,iBAAcA,IAAA,gBAAE,gBAAaA,IAAA;AAAO,WAAA,eACvD,aAAa,gBAAgB,eAAgB,KAAK,IAAG,CAAE;EADA;AAExD;AACD,IAAMuB,+CAA6C,SAAA,cAAY;AAAI,SAAA,SAACvB,KAEnE;QADCa,gBAAYb,IAAA,cAAEc,iBAAad,IAAA,eAAEe,eAAWf,IAAA,aAAE,eAAYA,IAAA;AAClD,WAAA,4BACJa,eAAcC,gBAAeC,YAAW;EADpC;AAEL;AAED,IAAA,gBAAA,SAAA,QAAA;AAA4B,EAAAjB,WAAA0B,gBAAA,MAAA;AAA5B,WAAAA,iBAAA;;;AAmBE,EAAAA,eAAA,UAAA,SAAA,WAAA;AACQ,QAAAxB,MAaF,KAAK,OAZP,kBAAeA,IAAA,iBACf,6BAA0BA,IAAA,4BAC1B,0BAAuBA,IAAA,yBACvB,wBAAqBA,IAAA,uBACrB,uBAAoBA,IAAA,sBACpB,2BAAwBA,IAAA,0BACxB,wBAAqBA,IAAA,uBACrB,yBAAsBA,IAAA,wBACtB,4BAAyBA,IAAA,2BACnB,WAAQA,IAAA,MACd,gBAAaA,IAAA,eACb,cAAWA,IAAA;AAGb,eACEC;MAAC;MAAM,EACL,MAAK,YAAW;UAEhBA,6BAAC,WAAS,EACR,uBAAuBS,6BACvB,MAAM,WAAW,OACjB,MAAM,UACN,eACA,aACA,gCAAgCa,8CAChC,4BACA,yBACA,uBACA,sBACA,wBACA,0BACA,uBACA,2BACA,gBAAgC,CAAA;IAChC;;AAtDD,EAAAC,eAAA,eAAwC;IAC7C,eAAe;IACf,MAAM;;AAGD,EAAAA,eAAA,aAA+B;IACpC,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;IAC5B,yBAAyB;IACzB,uBAAuB;IACvB,sBAAsB;IACtB,6BAA6B;IAC7B,0BAA0B;IAC1B,wBAAwB;IACxB,uBAAuB;;AA2C3B,SAAAA;EA3D4BtB,2BAAmB;AAoE/C,IAAa,YAAiD;AC5E9D,IAAA,cAAA,SAAA,QAAA;AAA0B,EAAAJ,WAAA2B,cAAA,MAAA;AAA1B,WAAAA,eAAA;;;AAKE,EAAAA,aAAA,UAAA,SAAA,WAAA;AACQ,QAAAzB,MAGF,KAAK,OAFQ,OAAIA,IAAA,eACK,yBAAsBA,IAAA;AAEhD,eACEC;MAAC;MAAM,EACL,MAAK,UAAS;UAEdA;QAAC;QAAQ,EAAC,MAAK,SAAQ;YACrBA;UAAC;UAAI;cACHA,6BAAC,qBAAmB,EAAC,MAAK,iBAAgB,CAAA;QAAG;YAE/CA,6BAAC,qBAAmB,IAAA;MAAG;UAEzBA;QAAC;QAAQ,EAAC,MAAK,iBAAgB;YAC7BA,6BAAC,wBAAsB,IAAA;MAAG;IACjB;;AArBV,EAAAwB,aAAA,aAA+B;IACpC,eAAe;IACf,wBAAwB;;AAuB5B,SAAAA;EA1B0BvB,2BAAmB;AA6B7C,IAAa,UAA6C;ACtB1D,IAAM,qBAAqB;EACzB,EAAE,MAAM,UAAS;EACjB,EAAE,MAAM,YAAW;;AAGrB,IAAM,WAAW,SAAC,QAAQ,aAAa,eAAa;AAAK,SAAA,SAAC,WAAW,UAAQ;AAAK,WAAA,OAAO;MACvF;MACA;MACA,QAAQ;MACR,MAAM,YAAY;KACnB;EAAC;AAAA;AAEF,IAAA,oBAAA,SAAA,QAAA;AAAgC,EAAAJ,WAAA4B,oBAAA,MAAA;AAAhC,WAAAA,qBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AAGE,UAAA,QAAQ;MACN,SAAS;;AAiBX,UAAA,aAAa,SAAC,QAA2B;AACvC,YAAK,SAAS;;AAGhB,UAAA,yBAAyB,WAAA;AACvB,YAAK,SAAS,SAAA,WAAS;AAAI,eAAC,EAAE,SAAS,CAAC,UAAU,QAAO;MAAE,CAAC;;AAG9D,UAAA,aAAa,WAAA;AACX,YAAK,SAAS,EAAE,SAAS,MAAK,CAAE;;AAGlC,UAAA,iBAAiB,QAAQ,SAACC,oBAAmB,aAAa,eAAe,gBAAc;AACrF,aAAA,eAAeA,oBAAmB,aAAa,aAAa;KAAC;;;AAE/D,EAAAD,mBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAA1B,MAaF,KAAK,OAZQ,OAAIA,IAAA,eACD,UAAOA,IAAA,kBACJ,aAAUA,IAAA,qBACJ,mBAAgBA,IAAA,2BACxB,WAAQA,IAAA,mBACL,cAAWA,IAAA,sBACV,eAAYA,IAAA,uBACP,oBAAiBA,IAAA,4BAChB,qBAAkBA,IAAA,6BACxB,eAAYA,IAAA,uBACA,2BAAwBA,IAAA,mCAC/B,oBAAiBA,IAAA;AAGvC,QAAA,UAAY,KAAK,MAAK;AAC9B,eACEC;MAAC;MAAM,EACL,MAAK,iBACL,cAAc,mBAAkB;UAEhCA;QAAC;QAAQ,EAAC,MAAK,iBAAgB;YAC7BA,6BAAC,mBAAiB,MACf,SAACD,KAQC,IAEF;cATC,cAAWA,IAAA,aACXc,iBAAad,IAAA,eACbe,eAAWf,IAAA,aACX,iBAAcA,IAAA,gBACd,cAAWA,IAAA,aACX,gBAAaA,IAAA,eACb,aAAUA,IAAA;cAEV2B,qBAAiB,GAAA;AAEjB,cAAM,iBAAiB,MAAK,eAC1BA,oBAAmB,aAAa,eAAe,QAAQ;AAEzD,cAAM,sBAAsB,SAAC,UAAQ;AACnC,2BAAe,QAAW,QAAQ;AAClC,kBAAK,WAAU;;AAEjB,cAAM,gBAAgB,cACpBb,gBACAC,cACA,YAAY,MACZ,aACA,eACA,UAAU;AAEZ,qBACEd;YAAC2B;YAAc;gBACb3B,6BAAC,MAAI,EACH,2BAA2B,kBAC3B,qBAAqB,YACrB,eACA,SAAS,MAAK,YACd,oBAAoB,MAAK,wBACzB,YAAY,eAAc,CAAA;gBAE5BA;cAAC;cAAO,EACN,SACA,QAAQ,MAAK,QACb,QAAQ,MAAK,WAAU;kBAEvBA,6BAAC,UAAQ,EACP,cAAc,aACd,gBACA,UAAU,gBACV,eAAe,cACf,2BAA2B,0BAC3B,cAAc,aACd,eAAe,cACf,oBAAoB,mBACpB,qBAAqB,oBACrB,oBAAoB,mBACpB,sBAAsB,qBACtB,WAAsB,CAAA;YACtB;UACM;SAGf;YAEHA,6BAAC,qBAAmB,IAAA;MAAG;IACd;;AAnHV,EAAAyB,mBAAA,aAA+B;IACpC,eAAe;IACf,kBAAkB;IAClB,qBAAqB;IACrB,2BAA2B;IAC3B,mBAAmB;IACnB,sBAAsB;IACtB,uBAAuB;IACvB,4BAA4B;IAC5B,6BAA6B;IAC7B,uBAAuB;IACvB,4BAA4B;IAC5B,mCAAmC;;AA2GvC,SAAAA;EA7HgCxB,2BAAmB;AAgInD,IAAa,gBAAyD;AClJtE,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,UAAS;EACjB,EAAE,MAAM,YAAW;;AAGrB,IAAA,mBAAA,SAAA,QAAA;AAA+B,EAAA/B,WAAAgC,mBAAA,MAAA;AAA/B,WAAAA,oBAAA;;;AAKE,EAAAA,kBAAA,UAAA,SAAA,WAAA;AACU,QAAmB,WAAa,KAAK,MAAK;AAElD,eACE7B;MAAC;MAAM,EACL,MAAK,gBACL,cAAc4B,qBAAkB;UAEhC5B;QAAC;QAAQ,EAAC,MAAK,iBAAgB;YAC7BA,6BAAC,qBAAmB,IAAA;YACpBA,6BAAC,mBAAiB,MACf,SAACD,KAGC,IAEF;cAJC,cAAWA,IAAA,aACXQ,kBAAcR,IAAA;cAEd+B,sBAAkB,GAAA;AACd,qBACJ9B,6BAAC,UAAQ,EACP,aACA,gBAAgBO,iBAChB,UAAUuB,oBAAkB,CAAA;SAE/B;MACiB;IACX;;AA5BV,EAAAD,kBAAA,aAA+B;IACpC,mBAAmB;;AA+BvB,SAAAA;EAjC+B5B,2BAAmB;AAoClD,IAAa,eAAuD;ACpCpE,IAAM,yBAAyB,SAAA,QAAM;AAAI,aAAAD,6BAAC,qBAAmB,EAAC,MAAK,eAAc,OAAc,CAAA;AAAI;AAEnG,IAAM,qBAAqB,SAAA,OAAK;AAAI,SAAA,MAAM,IAAI,SAACD,KAG9C;AAFC,QAAA,WAAQA,IAAA,UAAQ,WAAQA,IAAA,MAAE,WAAQA,IAAA,UAAE,SAAMA,IAAA,QAC1C,eAAYA,IAAA,cAAE,YAASA,IAAA,WAAE,MAAGA,IAAA,KAAK,WAAQgC,QAAAhC,KAFI,CAAA,YAAA,QAAA,YAAA,UAAA,gBAAA,aAAA,KAAA,CAG9C;AAAK,eACJC,6BAAC,wBAAsB,EACrB,KACA,MAAM,UACN,MAAM,UACN,UACA,QACA,cACA,WACA,OAAO,oBAAoB,QAAgB,EAAC,CAAA;GAE/C;AAAC;AAEF,IAAM4B,uBAAqB;EACzB,EAAE,MAAM,WAAW,UAAU,KAAI;EACjC,EAAE,MAAM,YAAY,UAAU,KAAI;EAClC,EAAE,MAAM,aAAa,UAAU,KAAI;;AAGrC,IAAA,mBAAA,SAAA,QAAA;AAA+B,EAAA/B,WAAAmC,mBAAA,MAAA;AAA/B,WAAAA,oBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AAYE,UAAA,8BAA8B,QAAQ,SACpC,uBAAuB7B,gBAAe,uBAAuB,aAC7DU,gBAAeC,cAAa,cAAc,QAAQ,qBAAqB,aACvE,kCAAgC;AAEhC,UAAI,CAAC,8BAA8BX,gBAAe,qBAAqB;AAAG,eAAO;AAEjF,UAAM,mBAAmB,sBACrB,oBAAoB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,IACrC;AACJ,UAAM,aAAa,SAAS,iBAAiB,MAAM,EAAE,SAAS;AAE9D,UAAI,kBAAkB,EAAE,eAAe,eAAe,WAAW,MAAK;AACtE,UAAI,WAAW;AACf,UAAI,YAAY,SAAS,WAAW,OAAO;AACzC,0BAAkB,EAAE,eAAe,iBAAiB,WAAW,KAAI;AACnE,mBAAW;;AAGb,aAAO,mBAAmB,qCACxB,iBAAiB,uBAAuB,UACxC;QACE,eAAaU;QAAE,aAAWC;QAAE;QAC5B,eAAaX;QAAE,kBAAkB;QACjC;SAEF;QACE;QACA,eAAe,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAc,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI;QAC9C;OACD,CACF;KACF;AAED,UAAA,2BAA2B,QAAQ,SACjC,oBAAoBA,gBAAe,oBAAoB,aACvDU,gBAAeC,cAAa,QAAQ,qBAAqB,aAAW;AAEpE,UAAM,mBAAmB,sBACrB,oBAAoB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,IACrC;AACJ,UAAM,aAAa,SAAS,iBAAiB,MAAM,EAAE,SAAS;AAE9D,UAAI,CAAC,2BACHX,gBAAe,oBAAoB,kBAAkB,UAAU,GAC9D;AACD,eAAO;;AAGT,aAAO,mBAAmB,qCACxB,EAAE,eAAe,iBAAkB,WAAW,MAAK,GACnD,oBACA,oCACA;QACE,eAAaU;QAAE,aAAWC;QAC1B,eAAaX;QAAE,kBAAkB;SAEnC;QACE;QACA,eAAe,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAc,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI;QAC9C;OACD,CACF;KACF;;;AAED,EAAA6B,kBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAjC,MAOF,KAAK,OANkB,iBAAcA,IAAA,yBACjB,cAAWA,IAAA,sBACJ,qBAAkBA,IAAA,6BAC3B,YAASA,IAAA,oBAC7B,yBAAsBA,IAAA,wBACtB,mCAAgCA,IAAA;AAGlC,eACEC;MAAC;MAAM,EACL,MAAK,gBACL,cAAc4B,qBAAkB;UAEhC5B;QAAC;QAAQ,EACP,MAAK,4BAA2B;YAEhCA,6BAAC,mBAAiB,MACf,SAACD,KAGD;cAFC,wBAAqBA,IAAA,uBAAEI,iBAAaJ,IAAA,eAAE,wBAAqBA,IAAA,uBAAE,cAAWA,IAAA,aACxEc,iBAAad,IAAA,eAAEe,eAAWf,IAAA,aAAE,eAAYA,IAAA,cAAE,mBAAgBA,IAAA,kBAAG,SAAMA,IAAA,QAAE,cAAWA,IAAA;AAC5E,iBAAA,MAAK,4BACT,uBAAuBI,gBAAe,uBAAuB,aAC7DU,gBAAeC,cAAa,cAAc,QAAQ,kBAAkB,aACpE,gCAAgC;SACjC;MACiB;UAEtBd;QAAC;QAAQ,EACP,MAAK,yBAAwB;YAE7BA,6BAAC,mBAAiB,MACf,SAACD,KAGD;cAFC,qBAAkBA,IAAA,oBAAEI,iBAAaJ,IAAA,eAAE,qBAAkBA,IAAA,oBACrDc,iBAAad,IAAA,eAAEe,eAAWf,IAAA,aAAE,mBAAgBA,IAAA,kBAAE,cAAWA,IAAA,aAAE,SAAMA,IAAA,QAAE,cAAWA,IAAA;AAC1E,iBAAA,MAAK,yBACT,oBAAoBI,gBAAe,oBAAoB,aACvDU,gBAAeC,cAAa,QAAQ,kBAAkB,WAAW;SAClE;MACiB;UAEtBd,6BAAC,UAAQ,EACP,MAAK,cAAa,GAEjB,SAACD,KAAyB;AAAvB,YAAA,QAAKA,IAAA,OAAK,SAAMgC,QAAAhC,KAAlB,CAAA,OAAA,CAAoB;AAAU,mBAC9BC,6BAAC,mBAAiB,MACf,SAACD,KAAc;cAAZ,aAAUA,IAAA;AAAO,qBACnBC;YAAC;YAAS,EAAC,MAAY;gBACrBA,6BAAC,qBAAmB,EAClB,MAAK,kBACL,QAAQ,EAAE,MAAM,OAAO,MAAM,MAAM,OAAO,MAAM,OAAO,OAAO,SAAQ,EAAE,CAAA;gBAE1EA,6BAAC,qBAAmB,EAClB,MAAK,sBACL,QAAMU,UAAAA,UAAA,CAAA,GAAO,MAAM,GAAA,EAAE,WAAU,CAAA,EAAA,CAAA;gBAEjCV,6BAAC,qBAAmB,EAClB,MAAK,qBACL,QAAQ,EAAE,MAAM,OAAO,MAAM,MAAM,OAAO,MAAM,OAAO,OAAO,OAAM,EAAE,CAAA;UACtE;SAEL;OAEJ;UAGHA,6BAAC,UAAQ,EAAC,MAAK,qBAAoB,GAChC,SAACD,KAKI;AAJJ,YAAA,UAAOA,IAAA,SAAE,gBAAaA,IAAA,eAAE,aAAUA,IAAA,YAClC,OAAIA,IAAA,MAAE,OAAIA,IAAA,MAAE,WAAQA,IAAA,UAAE,SAAMA,IAAA,QAC5B,eAAYA,IAAA,cAAE,YAASA,IAAA,WAAE,eAAYA,IAAA,cAClC,aAAUgC,QAAAhC,KAJb,CAAA,WAAA,iBAAA,cAAA,QAAA,QAAA,YAAA,UAAA,gBAAA,aAAA,cAAA,CAKD;AAAU,mBACTC;UAAC;UAAWU,UAAA,EACV,cACA,MACA,UAAoB,GAChB,oBAAoB,SAAS,aAAa,GAC1C,UAAU;UAEb,gBAAYV,6BAAC,gBAAc,EAAC,UAAU,gBAAgB,iBAAiB,KAAI,CAAA;cAC5EA,6BAAC,oBAAkB,EACjB,MACA,MACA,cACA,wBACA,YACA,UAAoB,CAAA;UAErB,cAAUA,6BAAC,gBAAc,EAAC,UAAU,cAAc,iBAAiB,KAAI,CAAA;QAAI;OAE/E;IACQ;;AAzKV,EAAAgC,kBAAA,aAA+B;IACpC,yBAAyB;IACzB,oBAAoB;IACpB,sBAAsB;IACtB,6BAA6B;IAC7B,wBAAwB;;AAEnB,EAAAA,kBAAA,eAA2C;IAChD,kCAAkC;;AAqKtC,SAAAA;EA9K+B/B,2BAAmB;AAiLlD,IAAa,eAAuD;ACtMpE,IAAM,cAAc,SAAA,aAAW;AAAI,SAAA,YAAY,SAAS,WAAW;AAAK;AACxE,IAAM,qBAAqB,SACzB,aAAa,kBAAgB;AAC1B,UAAA,qBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAmB,YAAY,IAAI,OAAM;AAA0B;AAExE,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,WAAW,UAAU,KAAI;EACjC,EAAE,MAAM,YAAY,UAAU,KAAI;;AAEpC,IAAM,kBAAkB;EACtB,QAAQ;;AAEV,IAAM,oCAAoC,WAAA;AACxC,aAAA5B,6BAAC,qBAAmB,EAAC,MAAK,yBAAwB,CAAA;AAAlD;AACF,IAAM,yBAAyB,SAAA,QAAM;AAAI,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,eAAc,OAAc,CAAA;AAAI;AACnG,IAAMiC,oBAAkB,SAAA,QAAM;AAAI,aAAAjC,6BAAC,qBAAmB,EAAC,MAAK,mBAAkB,OAAc,CAAA;AAAI;AAChG,IAAM,yBAAyB,SAAA,QAAM;AAAI,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,eAAc,OAAc,CAAA;AAAI;AAEnG,IAAA,kBAAA,SAAA,QAAA;AAA8B,EAAAH,WAAAqC,kBAAA,MAAA;AAA9B,WAAAA,mBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AACE,UAAA,QAA0B;MACxB,cAAc,CAAA;MACd,cAAc;;;MAGd,WAAW;;AA4Bb,UAAA,0BAA0B,QAAQ,SAACnC,KAAiB;UAAfI,iBAAaJ,IAAA;AAAO,aAAA,YAAYI,cAAa;KAAC;AAEnF,UAAA,yBAAyB,QAAQ,SAAC,kBAAgB;AAChD,YAAK,SAAS,EAAE,cAAc,iBAAgB,CAAE;KACjD;AAED,UAAA,6BAA6B,QAAQ,SAACJ,KAErC;UADCa,gBAAYb,IAAA,cAAEc,iBAAad,IAAA,eAAEe,eAAWf,IAAA,aAAE,eAAYA,IAAA;AAEtD,UAAM,kBAAkB,eAAOc,cAAa,EAAE,MAAM,CAAC,EAAE,QAAQ,CAAC,EAAE,OAAM;AACxE,UAAM,mBAAmB,eAAOC,YAAW,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAM;AACzE,aAAO,6BACLF,eAAc,iBAAiB,kBAAkB,YAAY;KAEhE;AAED,UAAA,4BAA4B,QAAQ,SAACb,KAEpC;UADC,cAAWA,IAAA;AACP,aAAA,CAAC,YAAY,WAAW;KAAC;AAE/B,UAAA,sBAAsB,QAAQ,SAAC,UAAU,4BAA0B;AACjE,aAAA,qBAAoBW,UAAAA,UAAA,CAAA,GAAM,0BAA0B,GAAK,QAAQ,CAAA;KAAG;;;AAlC/D,EAAAwB,iBAAA,2BAAP,SACE,OAAyB,OAAuB;AAEhD,QAAI,MAAM,kBAAkB,MAAM,cAAc;AAC9C,aAAAxB,UAAAA,UAAA,CAAA,GACK,KAAK,GAAA,EACR,cAAc,MAAM,eACpB,WAAW,KAAK,OAAM,EAAE,CAAA;;AAG5B,WAAO;;AA0BT,EAAAwB,iBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAnC,MAQF,KAAK,OAPoB,mBAAgBA,IAAA,2BAC1B,SAAMA,IAAA,iBACR,OAAIA,IAAA,eACnB,eAAYA,IAAA,cACQ,YAASA,IAAA,oBACT,YAASA,IAAA,oBAC7B,WAAQA,IAAA;AAEJ,QAAA,KAA8B,KAAK,OAAjC,eAAY,GAAA,cAAE,YAAS,GAAA;AAC/B,QAAM,aAAa,KAAK,oBAAoB,UAAU,eAAe;AAErE,eACEC;MAAC;MAAM,EACL,MAAK,eACL,cAAc4B,qBAAkB;UAEhC5B,6BAAC,QAAM,EAAC,MAAK,sBAAqB,OAAO,aAAY,CAAA;UACrDA,6BAAC,QAAM,EAAC,MAAK,mBAAkB,UAAU,KAAK,wBAAuB,CAAA;UACrEA,6BAAC,QAAM,EAAC,MAAK,qBAAoB,UAAU,KAAK,0BAAyB,CAAA;UACzEA,6BAAC,QAAM,EACL,MAAK,sBACL,UAAU,KAAK,2BAA0B,CAAA;UAG3CA,6BAAC,UAAQ,EAAC,MAAK,YAAW,GACvB,SAAC,QAAW;AAAK,mBAChBA,6BAAC,mBAAiB,MACf,SAACD,KAAkD;cAAhD,cAAWA,IAAA,aAAE,mBAAgBA,IAAA,kBAAE,kBAAeA,IAAA;AAChD,cAAI,YAAY,WAAW,KACtB,CAAC,mBAAmB,aAAa,gBAAgB,GAAG;AACvD,uBAAOC,6BAAC,qBAAmB,EAAC,OAAiB,CAAA;;AAE/C,qBACEA;YAAAA;YAAAA;gBACEA,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,qBAAqBuB,mBACrB,oBAAoB,cACpB,gBAAe,CAAA,EAAA,CAAA;gBAGnBjC;cAAC;cAAgB;kBACfA,6BAAC,mCAAiC,IAAA;YAAG;UACpB;SAGxB;MACiB,CACrB;UAGHA;QAAC;QAAQ,EAAC,MAAK,oBAAmB;YAChCA,6BAAC,mBAAiB,MACf,SAACD,KAAiC;cAA/B,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAC/B,cAAI,YAAY,WAAW,KAAK,mBAAmB,aAAa,gBAAgB,GAAG;AACjF,uBAAOC,6BAAC,qBAAmB,IAAA;;AAG7B,qBACEA,6BAAC,wBAAsB,IAAA;SAE1B;MACiB;UAGtBA,6BAAC,UAAQ,EAAC,MAAK,YAAW,GACvB,SAAC,QAAW;AAAK,mBAChBA,6BAAC,mBAAiB,MACf,SAACD,KAAiC;cAA/B,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAC/B,cAAI,YAAY,WAAW,KACtB,CAAC,mBAAmB,aAAa,gBAAgB,GAAG;AACvD,uBAAOC,6BAAC,qBAAmB,EAAC,OAAiB,CAAA;;AAG/C,qBACEA,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,sBAAsB,wBACtB,iBAAiB,KAAI,CAAA,EAAA,CAAA;SAI5B;MACiB,CACrB;UAGHV;QAAC;QAAQ,EAAC,MAAK,WAAU;YACvBA,6BAAC,qBAAmB,IAAA;YACpBA,6BAAC,mBAAiB,MACf,SAACD,KAAiC;cAA/B,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAC/B,cAAI,YAAY,WAAW,KAAK,mBAAmB,aAAa,gBAAgB,GAAG;AACjF,mBAAO;;AAGT,qBACEC;YAAC;YAAS;gBACRA,6BAAC,wBAAsB,IAAA;UAAG;SAG/B;MACiB;UAGtBA;QAAC;QAAQ,EAAC,MAAK,cAAa;YAC1BA,6BAAC,qBAAmB,IAAA;YACpBA,6BAAC,mBAAiB,MACf,SAACD,KAED;cADC,cAAWA,IAAA,aAAE,aAAUA,IAAA,YAAE,kBAAeA,IAAA;AAExC,cAAI,YAAY,SAAS,WAAW;AAAO,mBAAO;AAElD,qBACEC;YAAC2B;YAAc;gBACb3B,6BAAC,QAAM,EACL,eAAeiC,mBACf,cACA,WAAW,gBAAgB,CAAC,GAC5B,qBAAqB,MAAK,wBAC1B,YACA,KAAK,UAAS,CAAA;gBAEhBjC;cAAC;cAAgB;kBACfA,6BAAC,mCAAiC,IAAA;YAAG;UACpB;SAGxB;MACiB;UAGtBA,6BAAC,UAAQ,EAAC,MAAK,cAAa,GACzB,SAAC,QAAW;AAAK,mBAAAA,6BAAC,WAASU,UAAA,EAAC,WAAsB,GAAM,MAAM,CAAA;MAAG,CAAA;UAEpEV,6BAAC,UAAQ,EAAC,MAAK,kBAAiB,GAC7B,SAAC,QAAW;AAAK,mBAAAA,6BAAC,MAAIU,UAAA,CAAA,GAAK,MAAM,CAAA;MAAI,CAAA;IAC7B;;AA7LV,EAAAwB,iBAAA,eAA0C;IAC/C,UAAU,CAAA;;AAEL,EAAAA,iBAAA,aAA+B;IACpC,2BAA2B;IAC3B,iBAAiB;IACjB,0BAA0B;IAC1B,eAAe;IACf,cAAc;IACd,oBAAoB;IACpB,oBAAoB;;AAuLxB,SAAAA;EAzM8BjC,2BAAmB;AA4MjD,IAAa,cAAqD;AC/NlE,IAAA,gBAAA,SAAA,QAAA;AAA4B,EAAAJ,WAAAsC,gBAAA,MAAA;AAQ1B,WAAAA,eAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAuCd,UAAA,yBAA0B,QAAQ,SAAA,iBAAe;AAAI,aAAA,WAAA;AAAM,eACzD,kBACE,EAAE,MAAM,gBAAe,IACvB;MAAS;IACZ,CAAA;AAzCC,UAAK,QAAQ;MACX,aAAa,MAAM,eAAe,MAAM;MACxC,iBAAiB,MAAM,mBAAmB,MAAM;;AAGlD,QAAM,cAA2B,kBAC/B,OACA;MACE,aAAa,WAAA;AACH,YAAA,sBAAwB,MAAK,MAAK;AAC1C,eAAO;;MAET,iBAAiB,WAAA;AACP,YAAA,0BAA4B,MAAK,MAAK;AAC9C,eAAO;;KAEV;AAGH,UAAK,oBAAoB,YAAY,kBAClC,KAAK,aAAa,eAAe,iBAAiB;AACrD,UAAK,qBAAqB,YAAY,kBACnC,KAAK,aAAa,mBAAmB,kBAAkB;;;AAGrD,EAAAA,eAAA,2BAAP,SAAgC,WAAW,WAAS;AAEhD,QAAApC,MAEE,UAAS,aAFX,cAAWA,QAAA,SAAG,UAAU,cAAWA,KACnC,KACE,UAAS,iBADX,kBAAe,OAAA,SAAG,UAAU,kBAAe;AAG7C,WAAO;MACL;MACA;;;AAUJ,EAAAoC,eAAA,UAAA,SAAA,WAAA;AACQ,QAAApC,MAAyD,KAAK,OAA5D,cAAWA,IAAA,aAAmB,uBAAoBA,IAAA;AAC1D,eACEC;MAAC;MAAM,EACL,MAAK,YAAW;UAEhBA,6BAAC,QAAM,EAAC,MAAK,eAAc,OAAO,YAAW,CAAA;UAC7CA,6BAAC,QAAM,EAAC,MAAK,eAAc,UAAU,KAAK,uBAAuB,oBAAoB,EAAC,CAAA;UACtFA,6BAAC,QAAM,EAAC,MAAK,qBAAoB,QAAQ,KAAK,kBAAiB,CAAA;UAC/DA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,QAAQ,KAAK,mBAAkB,CAAA;IAAI;;AA3DpE,EAAAmC,eAAA,eAAwC;IAC7C,oBAAoB,oBAAI,KAAI;;AA8DhC,SAAAA;EAnE4BlC,2BAAmB;AAsE/C,IAAa,YAAiD;ACtE9D,IAAA,mBAAA,SAAA,QAAA;AAA+B,EAAAJ,WAAAuC,mBAAA,MAAA;AAmB7B,WAAAA,kBAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEZ,UAAK,QAAQ;MACX,oBAAoB,MAAM,sBAAsB,MAAM;MACtD,kBAAkB,MAAM,oBAAoB,MAAM;MAClD,oBAAoB,MAAM,sBAAsB,MAAM;;AAGxD,QAAM,cAA2B,kBAC/B,OACA;MACE,oBAAoB,WAAA;AACV,YAAA,6BAA+B,MAAK,MAAK;AACjD,eAAO;;MAET,kBAAkB,WAAA;AACR,YAAA,2BAA6B,MAAK,MAAK;AAC/C,eAAO;;MAET,oBAAoB,WAAA;AACV,YAAA,6BAA+B,MAAK,MAAK;AACjD,eAAO;;KAEV;AAGH,UAAK,iBAAiB,YAAY,kBAC/B,KAAK,aAAa,oBAAoB,cAAc;AACvD,UAAK,yBAAyB,YAAY,kBACvC,KAAK,aAAa,oBAAoB,iBAAiB;AAC1D,UAAK,yBAAyB,YAAY,kBACvC,KAAK,aAAa,oBAAoB,sBAAsB;AAE/D,UAAK,uBAAuB,YAAY,kBACrC,KAAK,aAAa,sBAAsB,oBAAoB;AAC/D,UAAK,sBAAsB,YAAY,kBACpC,KAAK,aAAa,sBAAsB,mBAAmB;AAE9D,UAAK,oBAAoB,YAAY,kBAClC,KAAK,aAAa,sBAAsB,iBAAiB;AAC5D,UAAK,2BAA2B,YAAY,kBACzC,KAAK,aAAa,sBAAsB,aAAa;AAExD,UAAK,2BAA2B,SAAC,MAAoC;AAApC,UAAA,SAAA,QAAA;AAAA,eAAO,sBAAsB;MAAO;AAC7D,UAAArC,MAA6C,MAAK,OAAhD,qBAAkBA,IAAA,oBAAE,qBAAkBA,IAAA;AACxC,UAAA,KAAwC,MAAK,OAA3C,kBAAe,GAAA,iBAAEsC,oBAAgB,GAAA;AACzC,UAAI,CAAC,oBAAoB;AACvB;;AAEF,UAAM,UAAU,CAAC,mBAAmB,QAChC,EAAE,SAAS,uBAAuB,oBAAoB,mBAAmB,EAAG,EAAC,IAC7EA,kBAAkB,oBAAoB,oBAAoB,IAAI;AAElE,sBAAgB,OAAO;AACvB,YAAK,yBAAwB;AAC7B,YAAK,oBAAmB;;AAG1B,UAAK,yBAAyB,WAAA;AACpB,UAAA,kBAAoB,MAAK,MAAK;AAC9B,UAAkB,wBAA0B,MAAK,MAAK;AAC9D,sBAAgB;QACd,OAAO;OACR;;AAGH,UAAK,2BAA2B,SAACtC,KAA4C;UAA1C,yBAAsBA,IAAA,wBAAE,KAAAA,IAAA,MAAA,OAAI,OAAA,SAAG,YAAS;AACnE,UAAA,KAAwC,MAAK,OAA3C,kBAAe,GAAA,iBAAEsC,oBAAgB,GAAA;AAEzC,UAAM,UAAU,uBAAuB,QACnCA,kBAAkB,MAAM,wBAAwB,IAAI,IACpD,EAAE,SAAS,uBAAuB,GAAE;AACxC,sBAAgB,OAAO;;;;AAIpB,EAAAD,kBAAA,2BAAP,SAAgC,WAAW,WAAS;AAEhD,QAAArC,MAGE,UAAS,oBAHX,qBAAkBA,QAAA,SAAG,UAAU,qBAAkBA,KACjD,KAEE,UAAS,oBAFX,qBAAkB,OAAA,SAAG,UAAU,qBAAkB,IACjD,KACE,UAAS,kBADX,mBAAgB,OAAA,SAAG,UAAU,mBAAgB;AAG/C,WAAO;MACL;MACA;MACA;;;AAIJ,EAAAqC,kBAAA,UAAA,SAAA,WAAA;AACQ,QAAArC,MAA+D,KAAK,OAAlE,mBAAgBA,IAAA,kBAAE,qBAAkBA,IAAA,oBAAE,qBAAkBA,IAAA;AAEhE,eACEC;MAAC;MAAM,EACL,MAAK,eAAc;UAEnBA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,OAAO,mBAAkB,CAAA;UAC3DA,6BAAC,QAAM,EAAC,MAAK,wBAAuB,QAAQ,KAAK,qBAAoB,CAAA;UACrEA,6BAAC,QAAM,EAAC,MAAK,uBAAsB,QAAQ,KAAK,oBAAmB,CAAA;UAEnEA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,OAAO,mBAAkB,CAAA;UAC3DA,6BAAC,QAAM,EAAC,MAAK,qBAAoB,QAAQ,KAAK,kBAAiB,CAAA;UAC/DA,6BAAC,QAAM,EAAC,MAAK,4BAA2B,QAAQ,KAAK,yBAAwB,CAAA;UAC7EA,6BAAC,QAAM,EAAC,MAAK,4BAA2B,QAAQ,KAAK,yBAAwB,CAAA;UAE7EA,6BAAC,QAAM,EAAC,MAAK,oBAAmB,OAAO,iBAAgB,CAAA;UACvDA,6BAAC,QAAM,EAAC,MAAK,kBAAiB,QAAQ,KAAK,eAAc,CAAA;UACzDA,6BAAC,QAAM,EAAC,MAAK,0BAAyB,QAAQ,KAAK,uBAAsB,CAAA;UACzEA,6BAAC,QAAM,EAAC,MAAK,0BAAyB,QAAQ,KAAK,uBAAsB,CAAA;UACzEA,6BAAC,QAAM,EAAC,MAAK,0BAAyB,QAAQ,KAAK,uBAAsB,CAAA;UAEzEA,6BAAC,QAAM,EAAC,MAAK,4BAA2B,QAAQ,KAAK,yBAAwB,CAAA;IAAI;;AAxHhF,EAAAoC,kBAAA,eAA2C;IAChD,2BAA2B;IAC3B,2BAA2B,CAAA;IAC3B,yBAAyB,CAAA;IACzB;;AAwHJ,SAAAA;EAxI+BnC,2BAAmB;AA2IlD,IAAa,eAAuD;ACrIpE,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,eAAc;EACtB,EAAE,MAAM,gBAAgB,UAAU,KAAI;EACtC,EAAE,MAAM,sBAAsB,UAAU,KAAI;EAC5C,EAAE,MAAM,qBAAqB,UAAU,KAAI;;AAG7C,IAAM,mBAAmB;EACvB,MAAM;EACN,OAAO;EACP,QAAQ;;AAGV,IAAA,yBAAA,SAAA,QAAA;AAAqC,EAAA/B,WAAAyC,yBAAA,MAAA;AAoBnC,WAAAA,wBAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEZ,UAAK,QAAQ;MACX,SAAS,MAAM;MACf,iBAAiB,MAAM;;AAGzB,QAAM,cAA2B,kBAC/B,OACA;MACE,SAAS,WAAA;AACC,YAAA,qBAAuB,MAAK,MAAK;AACzC,eAAO;;MAET,iBAAiB,WAAA;AACP,YAAA,0BAA4B,MAAK,MAAK;AAC9C,eAAO;;KAEV;AAGH,QAAM,mBAAmB,WAAA;AACf,UAAS,SAAW,MAAK,MAAK;AACtC,aAAO,CAAC;;AAEV,UAAK,mBAAmB,YAAY,kBACjC,KAAK,aAAa,WAAW,gBAAgB;AAChD,UAAK,qBAAqB,YAAY,kBACnC,KAAK,aAAa,mBAAmB,kBAAkB;AAC1D,UAAK,qBAAqB,SAACvC,KAAgB;UAAd,SAAMA,IAAA,QAAE,OAAIA,IAAA;AACvC,YAAK,mBAAmB,EAAE,QAAQ,KAAI,CAAE;AACxC,YAAK,iBAAgB;;;;AAIlB,EAAAuC,wBAAA,2BAAP,SAAgC,WAAW,WAAS;AAEhD,QAAAvC,MAEE,UAAS,SAFX,UAAOA,QAAA,SAAG,UAAU,UAAOA,KAC3B,KACE,UAAS,iBADX,kBAAe,OAAA,SAAG,UAAU,kBAAe;AAE7C,WAAO;MACL;MACA;;;AAIJ,EAAAuC,wBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAvC,MASF,KAAK,OARP,iBAAcA,IAAA,gBACd,mBAAgBA,IAAA,kBAChB,kBAAeA,IAAA,iBACE,SAAMA,IAAA,iBACvB,kBAAeA,IAAA,iBACf,mBAAgBA,IAAA,kBAChB,yBAAsBA,IAAA,wBACtB,yBAAsBA,IAAA;AAElB,QAAA,KAA+B,KAAK,OAAlC,UAAO,GAAA,SAAE,kBAAe,GAAA;AAEhC,eACEC;MAAC;MAAM,EACL,MAAK,sBACL,cAAc4B,qBAAkB;UAEhC5B,6BAAC,QAAM,EAAC,MAAM,uCAAuC,QAAQ,KAAK,iBAAgB,CAAA;UAElFA;QAAC;QAAQ,EAAC,MAAK,YAAW;YACxBA,6BAAC,qBAAmB,IAAA;YACpBA,6BAAC,mBAAiB,MACf,SAACD,KAECwC,KAEF;cAHC,aAAUxC,IAAA,YAAE,YAASA,IAAA,WAAE,iBAAcA,IAAA;cAErC,0BAAuBwC,IAAA,yBAAE,+BAA4BA,IAAA;AAErD,cAAM,sBAAsB,WAAA;AAC1B,gBAAI,CAAC,yBAAyB;AAC5B;;AAEF,gBAAI,8BAA8B;AAChC,2CAA6B;gBAC3B,gBAAgB;gBAChB,iBAAiB,gBAAgB;eAClC;mBACI;AACL,oBAAK,iBAAgB;AACrB,sCAAwB,gBAAgB,IAAI;;;AAGhD,qBACEvC,6BAAC,qBAAmB,EAClB,MAAK,WACL,QAAQ;YACN;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,sBAAsB,kBAAkB,wBACtC,gBAAgB,MAAa,WAAW,cAAc,IACpD,CAAA;YACJ;YACA,QAAQ,MAAK;YACb;YACA;YACA;YACD,CAAA;SAGN;MACiB;UAGtBA,6BAAC,UAAQ,EAAC,MAAK,UAAS,GACrB,SAAC,QAAW;AAAK,mBAAAA,6BAAC,QAAMU,UAAA,CAAA,GAAK,MAAM,CAAA;MAAI,CAAA;UAG1CV,6BAAC,UAAQ,EAAC,MAAK,cAAa,GACzB,SAAC,QAAqC;AAAK,mBAC1CA,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,SAAS,SAACX,KAAgB;cAAd,SAAMA,IAAA,QAAE,OAAIA,IAAA;AACvB,iBAAA,MAAK,mBAAmB,EAAE,QAAQ,KAAI,CAAE;UAAC,CAAA,EAAA,CAAA;MAE5C,CACH;IACQ;;AA/IV,EAAAuC,wBAAA,eAAiD;IACtD,gBAAgB;IAChB,kBAAkB;IAClB,iBAAiB;;AAEZ,EAAAA,wBAAA,aAA+B;IACpC,iBAAiB;IACjB,iBAAiB;IACjB,kBAAkB;IAClB,wBAAwB;IACxB,wBAAwB;;AAyI5B,SAAAA;EA1JqCrC,2BAAmB;AA8JxD,IAAa,qBAAmE;ACvKhF,IAAM,uBAAuB,SAC3B,OAAO,WAAW,SAAS,cAAc,WACzC,QAAQ,iBAAiBuC,iBAAgB,QAAM;AAE/C,MAAM,iBAAiB,CAAC,CAAC,eACrB,aAAa,OAAO,SAAC,KAAK,cAAY;;AAAK,WAAA9B,UAAAA,UAAA,CAAA,GACtC,GAAG,IAAAX,MAAA,CAAA,GAAAA,IAAG,aAAa,SAAS,IAAG,aAAa,IAAEA,IAAA;KAClD,CAAA,CAAE,IAAI,CAAA;AACX,MAAM,sBAAsB,YACxB,4BAA4B,gBAAgB,SAAS,IACrD;AAEJ,MAAM,qBAAkBW,UAAA,EACtB,OACA,WACA,SACA,OAAM,GACH,mBAAmB;AAGxB,aACEV,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,eAAe,WAAA;AACb,oBAAgB,kBAAkB;AAClC,uBAAmB8B,iBACjB,EAAE,iBAAiB,mBAAkB,CAAE;IAC1C,CAAA,EAAA,CAAA;AAIT;AAEA,IAAMC,oBAAkB;EACtB,aAAa;EACb,YAAY;EACZ,eAAe;EACf,cAAc;EACd,sBAAsB;EACtB,aAAa;EACb,YAAY;EACZ,OAAO;EACP,OAAO;EACP,QAAQ;EACR,SAAS;EACT,QAAQ;EACR,kBAAkB;EAClB,WAAW;EACX,gBAAgB;EAChB,SAAS;EACT,YAAY;EACZ,kBAAkB;EAClB,cAAc;EACd,aAAa;EACb,mBAAmB;EACnB,UAAU;EACV,YAAY;EACZ,aAAa;EACb,YAAY;EACZ,aAAa;EACb,WAAW;EACX,YAAY;EACZ,SAAS;EACT,YAAY;;AAGd,IAAM,2BAA2B,WAAA;AAAM,aAAAzC,6BAAC,qBAAmB,EAAC,MAAK,gBAAe,CAAA;AAAG;AACnF,IAAM,yBAAyB,WAAA;AAAM,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,cAAa,CAAA;AAAG;AAC/E,IAAM,8BAA8B,WAAA;AAAM,aAAAA,6BAAC,qBAAmB,EAAC,MAAK,mBAAkB,CAAA;AAAG;AAEzF,IAAM4B,uBAAqB;EACzB,EAAE,MAAM,gBAAgB,UAAU,KAAI;EACtC,EAAE,MAAM,gBAAgB,UAAU,KAAI;EACtC,EAAE,MAAM,sBAAsB,UAAU,KAAI;EAC5C,EAAE,MAAM,sBAAsB,UAAU,KAAI;EAC5C,EAAE,MAAM,qBAAqB,UAAU,KAAI;;AAG7C,IAAM,iBAAiB,SACrB,iBAAiB,oBACjB,kBAAkB,oBAClB,WAAW,gBAAc;AAEzB,MAAM,QAAQ,CAAC;AACf,MAAM,qBAAkBlB,UAAAA,UAAAA,UAAA,CAAA,GACnB,eAAe,GACf,kBAAkB,GAClB,SAAS,gBAAgB;AAE9B,MAAM,uBAAuB,wBAC3B,oBAAoB,WAAW,cAAc;AAE/C,MAAM,eAAe,SAAS,OAAO,oBAAoB,kBAAkB,EAAE,WAAW;AACxF,SAAO,EAAE,oBAAoB,sBAAsB,OAAO,aAAY;AACxE;AAEA,IAAM,iBAAiB,SACrB,eAAe,yBAAyB,0BAAwB;AAC7D,SAAA,CAAC,CAAC,2BAA4B,CAAC,iBAAiB,CAAC,CAAC;AAAyB;AAEhF,IAAA,sBAAA,SAAA,QAAA;AAAkC,EAAAb,WAAA6C,sBAAA,MAAA;AA8BhC,WAAAA,qBAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AA3Bd,UAAA,gBAAYC,yBAAe;AA2E3B,UAAA,gBAAgB,QAAQ,SACtB,yBAAyB,wBAAwB,OAAO,oBAAkB;AACvE,aAAA,WAAA;AACH,cAAK,iBAAgB;AACrB,YAAI,OAAO;AACT,6BAAmB,wBAAwB,kBAAkB;mBACpD,yBAAyB;AAClC,kCAAuB;;AAEzB,cAAK,SAAS,EAAE,qBAAqB,mBAAkB,CAAE;;IAC1D,CAAA;AAED,UAAA,gBAAgB,QAAQ,SACtB,8BAA8B,OAAOC,sBAAqB,oBAC1D,oBAAoBC,yBAAwB,0BAAwB;AACjE,aAAA,WAAA;AACH,YAAI,gCAAgC,OAAO,KAAK,kBAAkB,EAAE,WAAW,GAAG;AAChF,uCAA6B,kCAAkC;eAC1D;AACL,cAAI,OAAO;AACT,+BAAmBA,yBAAwB,kBAAkB;iBACxD;AACL,+BAAmBD,sBAAqB,kBAAkB;AAC1D,+BAAmB,0BAA0B,kBAAkB;;AAEjE,gBAAK,iBAAgB;;AAEvB,cAAK,SAAS,EAAE,qBAAqB,mBAAkB,CAAE;;IAC1D,CAAA;AAED,UAAA,oBAAoB,QAAQ,SAC1B,yBAAyB,iBAAiB,8BAC1C,oBAAoBC,yBAAwB,0BAC5CD,sBAAqB,OAAK;AACvB,aAAA,WAAA;AACH,YAAI,8BAA8B;AAChC,uCAA6B;YAC3B,gBAAgB;YAAoC,iBAAiB;WACtE;eACI;AACL,6BAAmB,yBAAyB,eAAe;AAC3D,cAAI,OAAO;AACT,+BAAmBC,yBAAwB,eAAe;iBACrD;AACL,+BAAmB,0BAA0B,eAAe;AAC5D,+BAAmBD,sBAAqB,eAAe;;AAEzD,gBAAK,iBAAgB;;AAEvB,cAAK,SAAS,EAAE,qBAAqB,mBAAkB,CAAE;;IAC1D,CAAA;AAED,UAAA,yBAAyB,QAAQ,SAAC,OAAO,wBAAwBE,oBAAiB;AAChF,aAAA,SAAC,QAAM;AACL,YAAI,UAAU,OAAO,OAAO;AAC1B,gBAAK,SAAS,EAAE,qBAAmBpC,UAAAA,UAAA,CAAA,GAC9B,MAAK,MAAM,mBAAmB,GAAA,EAAE,OAAO,OAAO,MAAK,CAAA,EACvD,CAAC;;AAEJ,YAAI,OAAO;AACT,6BAAmB,wBAAwB,EAAE,OAAM,CAAE;eAChD;AACL,6BAAmBoC,oBAAmB,EAAE,OAAM,CAAE;;;KAEnD;AAGH,UAAA,aAAa,QAAQ,SAAC,cAAc,UAAQ;AAC1C,aAAA,qBAAoBpC,UAAAA,UAAA,CAAA,GAAM,YAAY,GAAK,QAAQ,CAAA;KAAG;AAlHtD,UAAK,QAAQ;MACX,SAAS,MAAM;MACf,iBAAiB,MAAM,mBAAmB,CAAA;MAC1C,qBAAqB,MAAM,mBAAmB,CAAA;;AAGhD,QAAM,cAA2B,kBAC/B,OACA;MACE,SAAS,WAAA;AACC,YAAA,qBAAuB,MAAK,MAAK;AACzC,eAAO;;MAET,iBAAiB,WAAA;AACP,YAAA,0BAA4B,MAAK,MAAK;AAC9C,eAAO;;KAEV;AAGH,QAAM,mBAAmB,WAAA;AACf,UAAS,SAAW,MAAK,MAAK;AACtC,aAAO,CAAC;;AAEV,UAAK,mBAAmB,YAAY,kBACjC,KAAK,aAAa,WAAW,gBAAgB;AAChD,UAAK,qBAAqB,YAAY,kBACnC,KAAK,aAAa,mBAAmB,kBAAkB;AAE1D,UAAK,kBAAkB,SAAC,iBAAe;AACrC,YAAK,mBAAmB,EAAE,gBAAe,CAAE;AAC3C,YAAK,iBAAgB;;;;AAIlB,EAAAgC,qBAAA,2BAAP,SAAgC,WAAW,WAAS;AAEhD,QAAA3C,MAEE,UAAS,SAFX,UAAOA,QAAA,SAAG,UAAU,UAAOA,KAC3B,KACE,UAAS,iBADX,kBAAe,OAAA,SAAG,UAAU,kBAAe;AAE7C,WAAO;MACL;MACA;;;AA0EJ,EAAA2C,qBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAA3C,MAkBF,KAAK,OAjBa,YAASA,IAAA,oBACX,UAAOA,IAAA,kBACR,SAAMA,IAAA,iBACC,gBAAaA,IAAA,wBACf,cAAWA,IAAA,sBACN,mBAAgBA,IAAA,2BAC3C,yBAAsBA,IAAA,wBACtB,sBAAmBA,IAAA,qBACnB,iBAAcA,IAAA,gBACd,sBAAmBA,IAAA,qBACnB,yBAAsBA,IAAA,wBACtB,kBAAeA,IAAA,iBACf,sBAAmBA,IAAA,qBACnB,oCAAiCA,IAAA,mCACjC,0BAAuBA,IAAA,yBACvB,WAAQA,IAAA,UACR,WAAQA,IAAA;AAEJ,QAAA,KAAoD,KAAK,OAAvD,UAAO,GAAA,SAAE,kBAAe,GAAA,iBAAE,sBAAmB,GAAA;AACrD,QAAM,aAAa,KAAK,WAAW0C,mBAAiB,QAAQ;AAC5D,eACEzC;MAAC;MAAM,EACL,MAAK,mBACL,cAAc4B,qBAAkB;UAEhC5B,6BAAC,QAAM,EAAC,MAAM,oCAAoC,QAAQ,KAAK,iBAAgB,CAAA;UAE/EA;QAAC;QAAQ,EAAC,MAAK,gBAAe;YAC5BA,6BAAC,mBAAiB,MACf,SAACD,KAOCwC,KAMF;cAZC,qBAAkBxC,IAAA,oBAClB,mBAAgBA,IAAA,kBAChB,qBAAkBA,IAAA,oBAElB,YAASA,IAAA,WACT,iBAAcA,IAAA;cAEd,+BAA4BwC,IAAA,8BAE5BK,uBAAmBL,IAAA,qBACnBM,0BAAsBN,IAAA,wBACtB,2BAAwBA,IAAA;AAElB,cAAA,KAAgC,eACpC,iBAAiB,oBACjB,kBAAkB,oBAClB,WAAW,cAAc,GAHnB,qBAAkB,GAAA,oBAAE,QAAK,GAAA;AAKjC,cAAM,WAAW,eACf,SAAS,mBAAmB,OAAO,oBAAoB,KAAK;AAE9D,cAAM,eAAe,WAAA;AAAM,mBAAA,WAAW,MAAK,cACzC,8BAA8B,OAAOK,sBAAmBlC,UAAAA,UAAA,CAAA,GACnD,kBAAkB,GAAK,gBAAgB,GAAI,oBAChDmC,yBAAwB,wBAAwB,EACjD;UAAE;AAEH,qBACE7C;YAAC2B;YAAc;gBACb3B,6BAAC,WAAS,EAAC,KAAK,MAAK,UAAS,CAAA;gBAC9BA;cAAC;cAAO,EACN,SACA,QAAQ,cACR,UACA,QAAQ,MAAK,UAAS;kBAEtBA,6BAAC,QAAM,EACL,sBAAsB,wBACtB,wBAAwB,0BACxB,2BAA2B,6BAC3B,cAAc,SAAQ,CAAA;YACtB;gBAEJA,6BAAC,qBAAmB,IAAA;UAAG;SAE5B;MACiB;UAEtBA;QAAC;QAAQ,EAAC,MAAK,gBAAe;YAC5BA,6BAAC,mBAAiB,MACf,SAACD,KAOCwC,KAWF;cAjBC,qBAAkBxC,IAAA,oBAClB,mBAAgBA,IAAA,kBAChB,qBAAkBA,IAAA,oBAElB,YAASA,IAAA,WACT,iBAAcA,IAAA;cAEd,yBAAsBwC,IAAA,wBACtB,0BAAuBA,IAAA,yBACvB,0BAAuBA,IAAA,yBAEvBK,uBAAmBL,IAAA,qBACnBM,0BAAsBN,IAAA,wBACtB,2BAAwBA,IAAA,0BAExB,+BAA4BA,IAAA,8BAC5B,+BAA4BA,IAAA;AAEtB,cAAA,KAA8C,eAClD,iBAAiB,oBACjB,kBAAkB,oBAClB,WAAW,cAAc,GAHnB,QAAK,GAAA,OAAE,qBAAkB,GAAA,oBAAE,eAAY,GAAA;AAK/C,cAAM,eAAe,eACnB,SAAS,mBAAmB,OAAO,oBAAoB,KAAK;AAE9D,qBACEvC,6BAAC,eAAa,EACZ,wBACA,qBAAqB,MAAK,cACxB,yBAAyB,wBAAwB,OAAO,kBAAkB,GAE5E,qBAAqB,MAAK,cACxB,8BAA8B,OAAO4C,sBAAmBlC,UAAAA,UAAA,CAAA,GACnD,kBAAkB,GAAK,gBAAgB,GAAI,oBAChDmC,yBAAwB,wBAAwB,GAElD,qBAAqB,MAAK,kBACxB,yBAAyB,iBAAiB,8BAC1C,oBAAoBA,yBAAwB,0BAC5CD,sBAAqB,KAAK,GAE5B,YACA,UACA,UAAU,cACV,mBAAmB,CAAC,cACpB,kBAAkB,MAAK,CAAA;SAG5B;MACiB;UAEtB5C;QAAC;QAAQ,EAAC,MAAK,cAAa;YAC1BA,6BAAC,mBAAiB,MACf,SAACD,KAQCwC,KAGF;cAVC,qBAAkBxC,IAAA,oBAClB,mBAAgBA,IAAA,kBAChB,qBAAkBA,IAAA,oBAClB,SAAMA,IAAA,QAEN,YAASA,IAAA,WACT,iBAAcA,IAAA;cAEd+C,qBAAiBP,IAAA,mBACjB,yBAAsBA,IAAA;AAEhB,cAAA,KAAsD,eAC1D,iBAAiB,oBACjB,kBAAkB,oBAClB,WAAW,cAAc,GAHnB,QAAK,GAAA,OAAE,qBAAkB,GAAA,oBAAE,uBAAoB,GAAA;AAKvD,qBACEvC,6BAAC,aAAW,EACV,QACA,iBAAiB,UAAU,qBAAqB,qBAChD,eAAe,MAAK,uBAClB,OAAO,wBAAwB8C,kBAAiB,GAElD,YACA,UACA,qBACA,qBACA,wBACA,iBACA,gBACA,yBACA,UAAU,CAAC,mBAAmB,OAC9B,WACA,qBAA0E,CAAA;SAG/E;MACiB;UAGtB9C;QAAC;QAAQ,EAAC,MAAK,mBAAkB;YAC/BA,6BAAC,mBAAiB,MACf,SAACD,KAOCwC,KAGF;cATC,qBAAkBxC,IAAA,oBAClB,mBAAgBA,IAAA,kBAChB,qBAAkBA,IAAA,oBAClB,aAAUA,IAAA,YACV,SAAMA,IAAA,QACN,iBAAcA,IAAA;cAEd,yBAAsBwC,IAAA,wBACtBO,qBAAiBP,IAAA;AAEX,cAAA,KAAgC,eACpC,iBAAiB,oBACjB,kBAAkB,oBAClB,QAAW,MAAS,GAHd,QAAK,GAAA,OAAE,qBAAkB,GAAA;AAKjC,cAAM,4BAA4B,eAChC,SAAS,mBAAmB,OAAO,oBAAoB,KAAK;AAE9D,cAAM,uBAAuB,CAAC,mBAAmB,gCACxC,kBAAkB,GAAA,EAAE,OAAO,oBAAoB,MAAK,CAAA,IAAK;AAElE,qBACEvC,6BAAC,kBAAgB,EACf,QACA,iBAAiB,UAAU,uBAAuB,qBAClD,eAAe,MAAK,uBAClB,OAAO,wBAAwB8C,kBAAiB,GAElD,YACA,UACA,YACA,qBACA,qBACA,qBACA,mCACA,gBACA,iBACA,SAAS,2BACT,eAA8B,CAAA;SAGnC;MACiB;UAGtB9C,6BAAC,UAAQ,EAAC,MAAK,UAAS,GACrB,SAAC,QAAsC;AAAK,mBAC3CA,6BAAC,mBAAiB,MACf,SAAC,SAASD,KAAwB;cAAtBgD,wBAAoBhD,IAAA;AAAO,qBACtCC,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,mBAAmB,WAAA;AACjB,kBAAK,gBAAgB,OAAO,gBAAiB,IAAI;AACjD,+BAAmBqC,uBAAsB,OAAO,gBAAiB,IAAI;YACtE,CAAA,EAAA,CAAA;SAGN;MACiB,CACrB;UAGH/C,6BAAC,UAAQ,EAAC,MAAK,cAAa,GACzB,SAAC,QAAqC;AAAK,mBAC1CA,6BAAC,mBAAiB,MACf,SAAC,SAASD,KAAwB;cAAtBgD,wBAAoBhD,IAAA;AAAO,qBACtCC,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,eAAe,WAAA;AACb,kBAAK,gBAAgB,OAAO,IAAI;AAChC,+BAAmBqC,uBAAsB,OAAO,IAAI;YACrD,CAAA,EAAA,CAAA;SAGN;MACiB,CACrB;UAGH/C,6BAAC,UAAQ,EAAC,MAAK,OAAM,GAClB,SAAC,QAAW;AAAK,mBAChBA,6BAAC,mBAAiB,MACf,SAACD,KAAewC,KAAkB;cAA/B,YAASxC,IAAA;cAAMyC,kBAAcD,IAAA;AAAO,iBAAA,qBACtC,QAAW,OAAO,WAAW,OAAO,SAAS,OAAO,cAAc,WAClE,aAAa,OAAO,WAAW,OAAO,OAAO,GAC7C,MAAK,iBAAiBC,iBAAgB,MAAM;SAC7C;MACiB,CACrB;UAGHxC,6BAAC,UAAQ,EAAC,MAAK,kBAAiB,GAC7B,SAAC,QAAW;AAAK,mBAChBA,6BAAC,mBAAiB,MACf,SAACD,KAAewC,KAAkB;cAA/B,YAASxC,IAAA;cAAMyC,kBAAcD,IAAA;AAAO,iBAAA,qBACtC,QAAW,OAAO,WAAW,OAAO,SAAS,OAAO,cAAc,WAClE,MAAM,MAAK,iBAAiBC,iBAAgB,MAAM;SACnD;MACiB,CACrB;IACQ;;AA1aV,EAAAE,qBAAA,eAA8C;IACnD,UAAU,CAAA;IACV,UAAU;IACV,oBAAoB,WAAA;AAAM,aAAA;IAAS;IACnC,yBAAyB,WAAA;AAAM,aAAA;IAAS;;AAEnC,EAAAA,qBAAA,aAA+B;IACpC,kBAAkB;IAClB,iBAAiB;IACjB,wBAAwB;IACxB,wBAAwB;IACxB,sBAAsB;IACtB,qBAAqB;IACrB,gBAAgB;IAChB,qBAAqB;IACrB,wBAAwB;IACxB,iBAAiB;IACjB,2BAA2B;IAC3B,qBAAqB;IACrB,mCAAmC;IACnC,yBAAyB;IACzB,oBAAoB;;AAyZxB,SAAAA;EApbkCzC,2BAAmB;AAwbrD,IAAa,kBAA6D;ACxiB1E,IAAM,yBAAyB,SAAC,OAAO,SAAS,WAAS;AAAK,SAC5D,MAAM,SAAS,QACbD,6BAAC,SAAO,MACL,MAAM,IAAI,SAAC,kBAAkB,OAAK;AAAK,eACtCA,6BAAC,qBAAmB,EAClB,MAAK,oBACL,KAAK,MAAM,SAAQ,GACnB,QAAQ,EAAE,MAAM,WAAW,iBAAgB,EAAE,CAAA;EAC7C,CACH,CAAC,IAGJ;AACD;AAGH,IAAM4B,uBAAqB;EACzB,EAAE,MAAM,eAAc;EACtB,EAAE,MAAM,eAAc;EACtB,EAAE,MAAM,sBAAsB,UAAU,KAAI;EAC5C,EAAE,MAAM,qBAAqB,UAAU,KAAI;EAC3C,EAAE,MAAM,WAAW,UAAU,KAAI;EACjC,EAAE,MAAM,YAAY,UAAU,KAAI;EAClC,EAAE,MAAM,aAAa,UAAU,KAAI;EACnC,EAAE,MAAM,eAAe,UAAU,KAAI;;AAGvC,IAAA,uBAAA,SAAA,QAAA;AAAmC,EAAA/B,WAAAmD,uBAAA,MAAA;AAAnC,WAAAA,wBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AAGE,UAAA,6BAAkC,CAAA;AAClC,UAAA,0BAA+B,CAAA;AAC/B,UAAA,gBAA+B;AAC/B,UAAA,uBAA4B;AAC5B,UAAA,qBAA0B;AAC1B,UAAA,0BAA+B,CAAA;AAE/B,UAAA,QAA+B;MAC7B,WAAW;MACX,SAAS;MACT,yBAAyB;MACzB,SAAS;MACT,WAAW;MACX,WAAW,WAAA;AAAM,eAAA;MAAI;MACrB,aAAa,WAAA;AAAM,eAAA;MAAI;MACvB,+BAA+B;MAC/B,2BAA2B;MAC3B,8BAA8B;;AAiLhC,UAAA,aAAa,SAACjD,KAA2B;UAAzB,0BAAuBA,IAAA;AAAO,aAAA,WAAA;AAC5C,gCAAuB;AACvB,cAAK,WAAU;;;AAGjB,UAAA,cAAc,WAAA;AACZ,YAAK,SAAS,EAAE,WAAW,KAAI,CAAE;;;;AA1K5B,EAAAiD,sBAAA,2BAAP,SACE,OAA8B,OAA4B;AAE1D,QAAM,kBAAkB,MAAM,cAAc,MAAM;AAClD,QAAM,oBAAoB,MAAM,gBAAgB,MAAM;AAEtD,QAAI,mBAAmB,mBAAmB;AACxC,aAAO;;AAGT,WAAAtC,UAAAA,UAAA,CAAA,GACK,KAAK,GAAA,EACR,+BACE,kBAAkB,MAAM,gCAAgC,KAAK,OAAM,GACrE,2BACE,oBAAoB,MAAM,4BAA4B,KAAK,OAAM,GACnE,8BACE,oBAAoB,MAAM,+BAA+B,KAAK,OAAM,GACtE,WAAW,MAAM,WACjB,aAAa,MAAM,YAAW,CAAA;;AAKlC,EAAAsC,sBAAA,UAAA,kBAAA,SAAgB,SAAO;AAAvB,QAAA,QAAA;AACE,WAAO,SAAA,MAAI;AAAI,aAAA,MAAK,oBAAoB,MAAM,OAAO;IAAC;;AAGxD,EAAAA,sBAAA,UAAA,0BAAA,SAAwB,SAAS,SAAS,aAAW;AAArD,QAAA,QAAA;AACE,WAAO,SAAA,MAAI;AAAI,aAAA,MAAK,oBAAoB,MAAM,SAAS,SAAS,WAAW;IAAC;;AAG9E,EAAAA,sBAAA,UAAA,aAAA,WAAA;AACE,SAAK,6BAA6B,CAAA;AAClC,SAAK,0BAA0B,CAAA;AAC/B,SAAK,gBAAgB;AACrB,SAAK,uBAAuB;AAC5B,SAAK,qBAAqB;AAC1B,SAAK,0BAA0B,CAAA;AAE/B,SAAK,SAAS;MACZ,SAAS;MACT,WAAW;MACX,SAAS;MACT,WAAW;KACZ;;AAGH,EAAAA,sBAAA,UAAA,eAAA,SACE,WAAW,SAAS,SAASD,uBAAsBD,oBAAmB,yBAAuB;AAE7F,IAAAC,sBAAqB,OAAO;AAC5B,IAAAD,mBAAkB;MAChB,QAAMpC,UAAAA,UAAA,EACJ,WAAW,WACX,SAAS,QAAO,GACb,QAAQ,UAAU,EAAE,QAAQ,OAAS,CAAE,GACvC,KAAK,uBAAuB;KAElC;AACD,SAAK,SAAS,EAAE,WAAW,SAAS,SAAS,WAAW,OAAO,wBAAuB,CAAE;;AAG1F,EAAAsC,sBAAA,UAAA,sBAAA,SAAoBjD,KAAa,IAA2B;QAAtC,UAAOA,IAAA;QAAM,0BAAuB,GAAA;AAChD,QAAA,YAAc,KAAK,MAAK;AAChC,QAAI,WAAW,CAAC;AAAW;AAE3B,4BAAuB;AACvB,SAAK,WAAU;;AAGjB,EAAAiD,sBAAA,UAAA,sBAAA,SACEjD,KACA,IAKA,IACA,aAAW;QAPT,UAAOA,IAAA,SAAE,eAAYA,IAAA;QAErBI,iBAAa,GAAA,eAAE,kBAAe,GAAA,iBAAEU,iBAAa,GAAA,eAAEC,eAAW,GAAA,aAAE,eAAY,GAAA,cAAE,cAAW,GAAA,aACrF,wBAAqB,GAAA,uBAAE,qBAAkB,GAAA,oBAAE,oBAAiB,GAAA,mBAC5D,WAAQ,GAAA,UAAE,YAAS,GAAA,WAAE,SAAM,GAAA,QAAoB,sBAAmB,GAAA,kBAAE,cAAW,GAAA;QAE/EgC,qBAAiB,GAAA,mBAAEC,wBAAoB,GAAA;AAGzC,QAAI,cAAc;AAChB,iBAAW,cAAc,mBAAmB,WAAW;;AAGzD,QAAM,wBAAwB;AAC9B,QAAM,mBAAmB,sBACrB,oBAAoB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,IACrC;AAGJ,QAAM,0BAA0B,sBAAsB,mBAAmB,eACrE,qBACA,EAAE,cAAc,CAAA,EAAE;AACtB,QAAM,iBAAiB,UAAU,sBAAsB,cAAc,YAAY;AACjF,QAAM,cAAc,UAAU,wBAAwB,cAAc,YAAY;AAEhF,QAAI,gBAAgB,MAAM,mBAAmB;AAAI;AAEjD,QAAM,aAAa,SACjB,gBAAgB,aAAa5C,gBAAe,eAAe;AAE7D,QAAM,aAAa,SAAS,UAAU;AACtC,QAAM,aAAa,oBACjB,aAAa,GAAG,sBAAsB,cAAc,cAAc;AAEpE,QAAM,sBAAsB,iBAAiB,YAAY,SAAS;AAE5D,QAAA,KAEF,mCACF,SAAS,YAAY,YAAY,qBACjC,YAAY,KAAK,aAAc,GAH/B,uBAAoB,GAAA,sBAAE,qBAAkB,GAAA,oBAAE,gBAAa,GAAA;AAMzD,QAAM,oBAAoB,2BACxB,WAAW,cAAc,WAAW,OAAO;AAG7C,SAAK,uBAAuB,wBAAwB,KAAK;AACzD,SAAK,qBAAqB,sBAAsB,KAAK;AACrD,SAAK,0BAA0B,qBAAqB,KAAK;AACzD,SAAK,gBAAgB;AAEf,QAAA,KAAkD,KAAK,OAArD,YAAS,GAAA,WAAE,UAAO,GAAA,SAAE,0BAAuB,GAAA;AACnD,QAAI,CAAC,mBACH,KAAK,sBAAsB,WAC3B,KAAK,oBAAoB,SACzB,KAAK,yBAAyB,uBAAuB,GACpD;AACD;;AAGF,QAAM,oBAAoB,CAAC;MACzB,UAAQO,UAAAA,UAAAA,UAAA,CAAA,GACH,OAAO,GAAA,EACV,WAAW,KAAK,sBAChB,SAAS,KAAK,mBAAkB,CAAA,GAC7B,KAAK,uBAAuB;MAEjC,OAAO,KAAK;MACZ,KAAK,KAAK;KACX;AAEK,QAAA,KAGF,2BACF,aAAa,mBAAmBG,gBAChCC,cAAa,cAAcX,gBAAe,yBAC1C,YAAY,qBAAqB,uBAAuB,UAAU,WAAW,QAC7E,kBAAkB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAc,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,CAAC,GANlD,0BAAuB,GAAA,yBACvB,6BAA0B,GAAA;AAQ5B,SAAK,0BAA0B;AAC/B,SAAK,6BAA6B;AAElC,SAAK,aACH,KAAK,sBAAsB,KAAK,oBAChC,SAAS4C,uBAAsBD,oBAC/B,KAAK,uBAAuB;;AAahC,EAAAE,sBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAjD,MAGF,KAAK,OAFP,UAAOA,IAAA,SAAE,gCAA6BA,IAAA,+BACtC,+BAA4BA,IAAA,8BAAE,4BAAyBA,IAAA;AAEnD,QAAA,KAQF,KAAK,OAPa,YAAS,GAAA,oBACF,mBAAgB,GAAA,2BACf,oBAAiB,GAAA,4BAC5B,SAAM,GAAA,iBACvB,YAAS,GAAA,WACT,cAAW,GAAA,aACX,cAAW,GAAA;AAGb,QAAM,YAASW,UAAAA,UAAA,CAAA,GACV,OAAO,GAAA,EAAE,WAAW,KAAK,sBAAsB,SAAS,KAAK,mBAAkB,CAAA;AAGpF,eACEV;MAAC;MAAM,EACL,MAAK,oBACL,cAAc4B,qBAAkB;UAEhC5B;QAAC;QAAQ,EAAC,MAAK,OAAM;YACnBA,6BAAC,mBAAiB,MACf,SAACD,KAICwC,KAEF;cALCpC,iBAAaJ,IAAA,eAAE,kBAAeA,IAAA,iBAAEc,iBAAad,IAAA,eAAEe,eAAWf,IAAA,aAAE,eAAYA,IAAA,cACxE,wBAAqBA,IAAA,uBAAE,qBAAkBA,IAAA,oBAAE,oBAAiBA,IAAA,mBAC5D,WAAQA,IAAA,UAAE,YAASA,IAAA,WAAE,SAAMA,IAAA,QAAE,cAAWA,IAAA,aAAE,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;cAEvE+C,qBAAiBP,IAAA,mBAAEQ,wBAAoBR,IAAA,sBAAE,0BAAuBA,IAAA;AAEhE,cAAM,4BAA4B,MAAK,wBAAwB;YAC7D,eAAapC;YAAE;YAAiB;YAChC,eAAaU;YAAE,aAAWC;YAAE;YAC5B;YAAuB;YAAoB;YAC3C;YAAW;YAAU;YAAQ;YAAa;aACzC,EAAE,mBAAiBgC,oBAAE,sBAAoBC,sBAAA,GAAI,WAAW;AAC3D,qBACE/C;YAACiD;YAAoB,EACnB,UAAU,MAAK,gBAAgB,EAAE,wBAAuB,CAAE,EAAC;gBAE3DjD;cAAC;cAAU,EACT,QAAQ,2BACR,SAAS,2BACT,QAAQ,MAAK,WAAW,EAAE,wBAAuB,CAAE,GACnD,SAAS,MAAK,YAAW;kBAEzBA,6BAAC,oBAAkB,IAAA;YAAG;UACX;SAGlB;MACiB;UAGtBA,6BAAC,UAAQ,EACP,MAAK,sBACL,WAAW,SAACD,KAAa;YAAX,OAAIA,IAAA;AAAY,eAAA,UAAW,IAAI;SAC7C,KAAK,8BAA6B,GAEjC,SAACA,KAA0B;AAAxB,YAAAmD,UAAMnD,IAAA,QAAK,SAAMgC,QAAAhC,KAAnB,CAAA,QAAA,CAAqB;AAAU,mBAC/BC,6BAAC,YAAU,EACT,SAAOU,UAAAA,UAAA,CAAA,GAAO,OAAO,IAAI,GAAA,EAAE,MAAM,OAAO,KAAI,CAAA,EAAA,GAE3C,WAAW,OAAO,KAAK,OAAO,QAAQ,SACrCV,6BAAC,mBAAiBU,UAAA,CAAA,GAAK,MAAM,CAAA,QAE7BV,6BAAC,oBAAkB,EAAC,QAAMU,UAAAA,UAAA,CAAA,GAAO,MAAM,GAAA,EAAE,WAAW,KAAI,CAAA,EAAA,CAAA,CACzD;OAEJ;UAGHV,6BAAC,UAAQ,EACP,MAAK,kBACL,WAAW,SAAC,QAAW;AAAK,eAAA,CAAC,OAAO,SAAS,YAAa,OAAO,IAAI;MAAC,GACtE,KAAK,0BAAyB,GAE7B,SAACD,KAAmB;YAAjB,OAAIA,IAAA,MAAE,OAAIA,IAAA;AAAY,mBACxBC;UAAC;UAAU,EACT,SAAOU,UAAAA,UAAA,CAAA,GAAO,IAAI,GAAA,EAAE,MAAM,YAAY,iBAAiB,KAAI,CAAA,EAAA;cAE3DV,6BAAC,QAAM,EAAC,UAAU,gBAAgB,iBAAiB,KAAI,CAAA;QAAI;OAE9D;UAGHA,6BAAC,UAAQ,EACP,MAAK,qBACL,WAAW,SAAC,QAAW;AAAK,eAAA,CAAC,OAAO,SAAS,YAAa,OAAO,IAAI;MAAC,GACtE,KAAK,6BAA4B,GAEhC,SAACD,KAAmB;YAAjB,OAAIA,IAAA,MAAE,OAAIA,IAAA;AAAY,mBACxBC;UAAC;UAAU,EACT,SAAOU,UAAAA,UAAA,CAAA,GAAO,IAAI,GAAA,EAAE,MAAM,eAAe,iBAAiB,KAAI,CAAA,EAAA;cAE9DV,6BAAC,QAAM,EAAC,UAAU,cAAc,iBAAiB,KAAI,CAAA;QAAI;OAE5D;UAGHA;QAAC;QAAQ,EAAC,MAAK,cAAa;YAC1BA,6BAAC,mBAAiB,MACf,SAACD,KAAiC;cAA/B,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAAO,qBACtCC;YAAAA;YAAAA;gBACEA,6BAAC,qBAAmB,IAAA;aACnB,qBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAmB,YAAY,IAAI,OAAM,6BACtC,uBAAuB,MAAK,yBAAyB,WAAW,SAAS,IACzE;UAAI;SAEX;MACiB;UAGtBA;QAAC;QAAQ,EAAC,MAAK,YAAW;YACxBA,6BAAC,mBAAiB,MACf,SAACD,KAAiC;cAA/B,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAAO,qBACtCC;YAAAA;YAAAA;gBACEA,6BAAC,qBAAmB,IAAA;YACnB,uBAAuB,MAAK,4BAA4B,WAAW,SAAS;aAC5E,qBAAgB,QAAhB,qBAAgB,SAAA,SAAhB,iBAAmB,YAAY,IAAI,OAAM,6BACtC,uBAAuB,MAAK,yBAAyB,WAAW,SAAS,IACzE;UAAI;SAEX;MACiB;UAGtBA,6BAAC,UAAQ,EAAC,MAAK,mBAAkB,GAC9B,SAACD,KAA8C;AAA5C,YAAA,OAAIA,IAAA,MAAE,mBAAgBA,IAAA,kBAAK,aAAUgC,QAAAhC,KAAvC,CAAA,QAAA,kBAAA,CAAyC;AAAU,mBACnDC,6BAAC,mBAAiB,MACf,SAACD,KAAyC;cAAvC,aAAUA,IAAA,YAAE,YAASA,IAAA,WAAE,iBAAcA,IAAA;AAErC,cAAA,WACE,iBAAgB,UADR,OACR,iBAAgB,MADF,WACd,iBAAgB,UADQ,SACxB,iBAAgB,QADgB,eAChC,iBAAgB,cADiC,WAAQgC,QACzD,kBAFE,CAAA,YAAA,QAAA,YAAA,UAAA,cAAA,CAEL;AACD,qBACE/B,6BAAC,kBAAgBU,UAAA,EACf,MACA,WAAW,wBAAwB,UAAU,WAAW,cAAc,GACtE,cACA,OAAO,oBAAoB,QAAQ,GACnC,MACA,UACA,QACA,WAAsB,GAClB,UAAU,CAAA;SAGnB;OAEJ;IACQ;;AAjVV,EAAAsC,sBAAA,aAA+B;IACpC,oBAAoB;IACpB,2BAA2B;IAC3B,4BAA4B;IAC5B,iBAAiB;;AAEZ,EAAAA,sBAAA,eAA+C;IACpD,WAAW,WAAA;AAAM,aAAA;IAAI;IACrB,aAAa,WAAA;AAAM,aAAA;IAAI;IACvB,aAAa;;AA4UjB,SAAAA;EA3WmC/C,2BAAmB;AA8WtD,IAAakD,oBAA+D;AC9Y5E,IAAMvB,uBAAqB;EACzB,EAAE,MAAM,UAAS;EACjB,EAAE,MAAM,YAAW;;AAGrB,IAAMa,oBAAkB;EACtB,OAAO;;AAGT,IAAA,kBAAA,SAAA,QAAA;AAA8B,EAAA5C,WAAAuD,kBAAA,MAAA;AAA9B,WAAAA,mBAAA;;;AAIE,EAAAA,iBAAA,UAAA,SAAA,WAAA;AACQ,QAAArD,MAGF,KAAK,OAFU,SAAMA,IAAA,iBACvB,WAAQA,IAAA;AAEV,QAAM,aAAa,qBAAoBW,UAAAA,UAAA,CAAA,GAAM+B,iBAAe,GAAK,QAAQ,CAAA;AAEzE,eACEzC;MAAC;MAAM,EACL,MAAK,eACL,cAAc4B,qBAAkB;UAEhC5B;QAAC;QAAQ,EAAC,MAAK,iBAAgB;YAC7BA,6BAAC,mBAAiB,MACf,SAAC,SAASD,KAEV;cADC2B,qBAAiB3B,IAAA;AAEjB,cAAM,iBAAiB,SAAA,UAAQ;AAAI,mBAAA2B,mBAAkB;cACnD;aACD;UAAC;AACF,qBACE1B,6BAAC,QAAM,EACL,YACA,eAA8B,CAAA;SAGnC;YAEHA,6BAAC,qBAAmB,IAAA;MAAG;IACd;;AAhCV,EAAAoD,iBAAA,aAA+B;IACpC,iBAAiB;;AAmCrB,SAAAA;EArC8BnD,2BAAmB;AAwCjD,IAAa,cAAqD;;ICpD5D2B,uBAAqB;EACzB,EAAE,MAAM,eAAc;;AAGxB,IAAM,6BAA6B;EACjC,EAAE,OAAO,sBAAsB,QAAO;EACtC,EAAE,OAAO,sBAAsB,sBAAqB;EACpD,EAAE,OAAO,sBAAsB,IAAG;;AAGpC,IAAMa,qBAAe,KAAA,CAAA,GACnB,GAAC,sBAAsB,OAAO,IAAG,oBACjC,GAAC,sBAAsB,qBAAqB,IAAG,mCAC/C,GAAC,sBAAsB,GAAG,IAAG,oBAC7B,GAAA,mBAAkB,8BAClB,GAAA,oBAAmB,gCACnB,GAAA,eAAc,UACd,GAAA,eAAc;AAGhB,IAAA,yBAAA,SAAA,QAAA;AAAqC,EAAA5C,WAAAwD,yBAAA,MAAA;AAArC,WAAAA,0BAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AAUE,UAAA,qBAAiBV,yBAAe;AAEhC,UAAA,QAAQ;MACN,QAAQ;MACR,wBAAwB;;AAG1B,UAAA,0BAA0B,SACxB,SACA5C,KACA,IAAqC;UADnC,qBAAkBA,IAAA;UAClB,2BAAwB,GAAA;AAE1B,UAAI,sBAAsB,CAAC,mBAAmB,OAAO;AACnD,iCAAwB;aACnB;AACL,cAAK,SAAS;UACZ,QAAQ;UAAM,wBAAwB;SACvC;;;AAIL,UAAA,0BAA0B,SACxB,SACA,SACAA,KAAqC;UAAnC,2BAAwBA,IAAA;AAE1B,UAAI,WAAW,CAAC,QAAQ,OAAO;AAC7B,iCAAyB,EAAE,wBAAwB,QAAO,CAAE;aACvD;AACL,cAAK,SAAS;UACZ,QAAQ;UAAM,wBAAwB;SACvC;;;AAIL,UAAA,SAAS,QAAQ,SAAC,YAAY,cAAc,SAAO;AAAK,aAAA,SAAC,MAAI;AAC3D,YAAI,SAAS;AACX,uBAAa,EAAE,wBAAwB,SAAS,KAAI,CAAE;eACjD;AACL,qBAAW,IAAI;;AAEjB,cAAK,UAAS;;IACf,CAAA;AAED,UAAA,YAAY,WAAA;AACV,YAAK,SAAS,EAAE,QAAQ,OAAO,wBAAwB,KAAI,CAAE;;AAG/D,UAAA,gBAAgB,QAAQ,SAAC,cAAc,gBAAc;AAAK,aAAA,WAAA;AACxD,uBAAc;AACd,qBAAY;AACZ,cAAK,UAAS;;IACf,CAAA;AAED,UAAA,sBAAsB,QAAQ,SAAC,YAAY,yBAAuB;AAChE,aAAA,wBAAwB,IAAI,SAACA,KAAS;YAAP,QAAKA,IAAA;AAAO,eAAC;UAC1C;UACA,OAAO,WAAW,CAAC,KAAK,CAAC;;OACzB;KAAC;AAEL,UAAA,aAAa,QAAQ,SAAC,UAAU,cAAY;AAC1C,aAAA,qBAAoBW,UAAAA,UAAA,CAAA,GAAM,YAAY,GAAK,QAAQ,CAAA;KAAG;;;AAExD,EAAA2C,wBAAA,UAAA,SAAA,WAAA;AAAA,QAAA,QAAA;AACQ,QAAAtD,MAAqC,KAAK,OAAxC,SAAMA,IAAA,QAAE,yBAAsBA,IAAA;AAChC,QAAA,KAMF,KAAK,OALU,SAAM,GAAA,iBACL,UAAO,GAAA,kBACL,YAAS,GAAA,oBAC7B,kBAAe,GAAA,iBACf,WAAQ,GAAA;AAGV,QAAM,aAAa,KAAK,WAAW,UAAU0C,iBAAe;AAC5D,QAAM,sBAAsB,KAAK,oBAAoB,YAAY,0BAA0B;AAE3F,eACEzC;MAAC;MAAM,EACL,MAAK,sBACL,cAAc4B,qBAAkB;UAEhC5B,6BAAC,QAAM,EAAC,MAAK,2BAA0B,QAAQ,KAAK,wBAAuB,CAAA;UAC3EA,6BAAC,QAAM,EAAC,MAAK,2BAA0B,QAAQ,KAAK,wBAAuB,CAAA;UAE3EA;QAAC;QAAQ,EAAC,MAAK,gBAAe;YAC5BA,6BAAC,qBAAmB,IAAA;YACpBA,6BAAC,WAAS,EAAC,KAAK,KAAK,eAAc,CAAA;YACnCA,6BAAC,qBAAmB,EAAC,MAAK,UAAS,CAAA;MAAG;UAGxCA;QAAC;QAAQ,EAAC,MAAK,UAAS;YACtBA,6BAAC,mBAAiB,MACf,SAAC,SAASD,KAGV;cAFC,2BAAwBA,IAAA,0BAAE,2BAAwBA,IAAA,0BAClD,2BAAwBA,IAAA,0BAAE6C,uBAAmB7C,IAAA;AAE7C,cAAM,SAAS,MAAK,OAClB,0BAA0B,0BAA0B,sBAAsB;AAE5E,cAAM,gBAAgB,MAAK,cACzB,0BAA0B6C,oBAAmB;AAG/C,qBACE5C;YAAC;YAAO,EACN,QAAQ,MAAK,gBACb,SAAS,QACT,QAAQ,MAAK,UAAS;gBAEtBA,6BAAC,QAAM,EACL,YAAY,CAAC,CAAC,wBACd,iBACA,aAAa,eACb,QACA,qBACA,WAAsB,CAAA;UACtB;SAGP;MACiB;IACX;;AAhIV,EAAAqD,wBAAA,aAAa;IAClB,iBAAiB;IACjB,kBAAkB;IAClB,iBAAiB;IACjB,oBAAoB;;AAgIxB,SAAAA;EAvIqCpD,2BAAmB;AA6IxD,IAAa,qBAET;ACvKJ,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,eAAc;;AAGxB,IAAA,wBAAA,SAAA,QAAA;AAAoC,EAAA/B,WAAAyD,wBAAA,MAAA;AAApC,WAAAA,yBAAA;AAAA,QAAA,QAAA,WAAA,QAAA,OAAA,MAAA,MAAA,SAAA,KAAA;AAKE,UAAA,0BAA0B,SAAC,SAAS,SAASvD,KAAqC;UAAnC,2BAAwBA,IAAA;AACrE,+BAAwB;;AAG1B,UAAA,0BAA0B,SAAC,SAAS,SAASA,KAAqC;UAAnC,2BAAwBA,IAAA;AACrE,+BAAyB,EAAE,wBAAwB,QAAO,CAAE;;;;AAG9D,EAAAuD,uBAAA,UAAA,SAAA,WAAA;AACE,eACEtD;MAAC;MAAM,EACL,MAAK,qBACL,cAAc4B,qBAAkB;UAEhC5B,6BAAC,QAAM,EAAC,MAAK,2BAA0B,QAAQ,KAAK,wBAAuB,CAAA;UAC3EA,6BAAC,QAAM,EAAC,MAAK,2BAA0B,QAAQ,KAAK,wBAAuB,CAAA;IAAI;;AAnB9E,EAAAsD,uBAAA,eAAe;IACpB,YAAY;;AAsBhB,SAAAA;EAxBoCrD,2BAAmB;AA2BvD,IAAa,oBAAiE;AC5B9E,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,eAAc;;AAGxB,IAAM,sCAAsC,SAAC7B,KAEnC;MADR,wBAAqBA,IAAA,uBAAE,YAASA,IAAA,WAAE,iBAAcA,IAAA;AACnC,SAAA,yBACV,2BAA2B,sBAAsB,CAAC,GAAG,WAAW,cAAc;AADpE;AAEf,IAAM,mCAAmC,SAACA,KAE9B;MADR,qBAAkBA,IAAA,oBAAE,YAASA,IAAA,WAAE,iBAAcA,IAAA;AAChC,SAAA,sBACV,2BAA2B,mBAAmB,CAAC,GAAG,WAAW,cAAc;AADjE;AAGjB,IAAM,oBAAyDwD,oBAAW,SAACxD,KAE1E;MADC,OAAIA,IAAA,MAAE,mBAAgBA,IAAA,kBAAE,UAAOA,IAAA;AAE/B,MAAM,mBAAmB,SAACA,KAAsB;QAApB,YAASA,IAAA;AACnC,WAAA,wBAAwB,SAAS;;AAEnC,aACAC;IAAC;IAAM,EACL,MAAK,aACL,cAAc4B,qBAAkB;QAEhC5B,6BAAC,QAAM,EAAC,MAAK,aAAY,OAAO,kBAAkB,MAAM,kBAAkB,OAAO,EAAC,CAAA;QAClFA,6BAAC,QAAM,EAAC,MAAK,kBAAiB,UAAU,iBAAgB,CAAA;QACxDA,6BAAC,QAAM,EAAC,MAAK,yBAAwB,UAAU,oCAAmC,CAAA;QAClFA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,UAAU,iCAAgC,CAAA;EAAI;AAGpF,CAAC;AAGD,IAAa,YAAiD;AC5B9D,IAAMyC,oBAAkB;EACtB,eAAe;EACf,cAAc;EACd,cAAc;EACd,sBAAsB;EACtB,sBAAsB;;AAGxB,IAAMb,uBAAqB;EACzB,EAAE,MAAM,eAAc;EACtB,EAAE,MAAM,sBAAsB,UAAU,KAAI;EAC5C,EAAE,MAAM,qBAAqB,UAAU,KAAI;;AAG7C,IAAM,eAAe;EACnB,QAAQ;EACR,QAAQ;;AAGV,IAAM,yBAGD,SAAC7B,KAGL;MAFC,WAAQA,IAAA,UAAoB,UAAOA,IAAA,kBAAmB,SAAMA,IAAA,iBAAsB,YAASA,IAAA,oBAC3F,kBAAeA,IAAA,iBAAE,eAAYA,IAAA,cAAE,eAAYA,IAAA;AAE3C,MAAM,aAAa,qBAAoBW,UAAAA,UAAA,CAAA,GAAM+B,iBAAe,GAAK,QAAQ,CAAA;AACzE,MAAM,qBAAiBe,sBAAY;AAE7B,MAAA,KAAAC,YAAwBC,wBAAe,KAAK,GAAC,CAAA,GAA5C,UAAO,GAAA,CAAA,GAAE,aAAU,GAAA,CAAA;AACpB,MAAA,KAAAD,YAA8BC,wBAAe,EAAE,GAAC,CAAA,GAA/C,aAAU,GAAA,CAAA,GAAE,gBAAa,GAAA,CAAA;AAC1B,MAAA,KAAAD,YAAsCC,wBAAe,EAAE,GAAC,CAAA,GAAvD,iBAAc,GAAA,CAAA,GAAE,oBAAiB,GAAA,CAAA;AAClC,MAAA,KAAAD,YAAwCC,wBAAe,CAAA,CAAE,GAAC,CAAA,GAAzD,kBAAe,GAAA,CAAA,GAAEC,sBAAkB,GAAA,CAAA;AAE1C,MAAM,uBAAmBC,2BAAkB,WAAA;AACzC,eAAW,CAAC,OAAO;KAClB,CAAC,SAAS,UAAU,CAAC;AAExB,MAAM,2BAAuBA,2BAAkB,SAAC,YAAU;AACxD,qBAAgB;AAChB,sBAAkB,UAAU;AAC5B,kBAAc,aAAa,MAAM;KAChC,CAAC,kBAAkB,mBAAmB,aAAa,CAAC;AAEvD,MAAM,oBAAgBA,2BAAkB,SAAC7D,KAExC;QADiB,aAAUA,IAAA,gBAAmB,qBAAkBA,IAAA;AAE/D,qBAAgB;AAChB,sBAAkB,UAAU;AAC5B,kBAAc,aAAa,MAAM;AACjC,IAAA4D,oBAAmB,kBAAkB;KACpC,CAAC,kBAAkB,mBAAmB,eAAeA,mBAAkB,CAAC;AAE3E,MAAM,oBAAgBC,2BAAkB,SACtC,kBAAkB,YAAYhB,sBAAqB,yBACnDC,yBAAwB,0BAAwB;AAC7C,WAAA,WAAA;AACH,iBAAU;AACV,uBAAgB;AAChB,UAAI,kBAAkB;AACpB,QAAAA,wBAAsB;aACjB;AACL,QAAAD,qBAAmB;AACnB,iCAAwB;;AAE1B,UAAI,eAAe,aAAa,QAAQ;AACtC,gCAAwB,eAAe;;;EAE1C,GAAE,CAAC,kBAAkB,YAAY,eAAe,CAAC;AAElD,aACE5C;IAAC;IAAM,EACL,MAAK,sBACL,cAAc4B,qBAAkB;IAE/B,CAAC,oBACA5B,6BAAC,QAAM,EAAC,MAAK,gCAA+B,QAAQ,qBAAoB,CAAA;IAEzE,CAAC,oBACAA,6BAAC,QAAM,EAAC,MAAK,gCAA+B,QAAQ,cAAa,CAAA;QAGnEA;MAAC;MAAQ,EAAC,MAAK,gBAAe;UAC5BA,6BAAC,qBAAmB,IAAA;UACpBA,6BAAC,WAAS,EAAC,KAAK,eAAc,CAAA;UAC9BA,6BAAC,qBAAmB,EAAC,MAAK,4BAA2B,CAAA;IAAG;QAG1DA;MAAC;MAAQ,EAAC,MAAK,4BAA2B;UACxCA,6BAAC,mBAAiB,MACf,SAACD,KAEC,SAAO;YADR,qBAAkBA,IAAA;AAElB,YAAM,gBAAgB,cACpB,CAAC,oBAAoB,QAAQ,cAAc,GAAG,QAAQ,qBACtD,QAAQ,yBAAyB,QAAQ,wBACzC,QAAQ,wBAAwB;AAGlC,mBACEC;UAAC;UAAO,EACN,QAAQ,gBACR,SACA,QAAQ,iBAAgB;cAExBA,6BAAC,QAAM,EACL,iBACA,cAAc,kBACd,eACA,YACA,YAAY,eAAe,aAAa,QACxC,gBAAoD,CAAA;QACpD;OAGP;IACiB;EACX;AAGjB;AAEA,uBAAuB,aAAa;EAClC,kBAAkB;EAClB,oBAAoB;EACpB,iBAAiB;EACjB,iBAAiB;;AAGnB,uBAAuB,eAAe;EACpC,cAAc;EACd,cAAc;;AAKhB,IAAa,qBAET;AC7IJ,IAAA,oBAAA,SAAA,QAAA;AAAgC,EAAAH,WAAAgE,oBAAA,MAAA;AAS9B,WAAAA,mBAAY,OAAK;AAAjB,QAAA,QACE,OAAA,KAAA,MAAM,KAAK,KAAC;AAEZ,UAAK,QAAQ;MACX,UAAU,MAAM;MAChB,gBAAgB,MAAM,kBAAkB,MAAM;;AAEhD,UAAK,cAAc,kBACjB,OACA;MACE,gBAAgB,WAAA;AACN,YAAA,yBAA2B,MAAK,MAAK;AAC7C,eAAO;;KAEV;AAEH,UAAK,sBAAsB,MAAK,YAAY,aACzC,KAAK,MAAK,aAAa,oBAAoB;;;AAGzC,EAAAA,mBAAA,2BAAP,SAAgC,WAAW,WAAS;AAEhD,QAAA9D,MAEE,UAAS,UAFX,WAAQA,QAAA,SAAG,UAAU,WAAQA,KAC7B,KACE,UAAS,gBADX,iBAAc,OAAA,SAAG,UAAU,iBAAc;AAG3C,WAAO,EAAE,UAAU,eAAc;;AAGnC,EAAA8D,mBAAA,UAAA,SAAA,WAAA;AACQ,QAAA9D,MAA+B,KAAK,OAAlC,WAAQA,IAAA,UAAE,iBAAcA,IAAA;AAC1B,QAAA,KAAoC,KAAK,OAAvC,cAAW,GAAA,aAAE,mBAAgB,GAAA;AAErC,eACEC;MAAC;MAAM,EAAC,MAAK,gBAAe;UAC1BA,6BAAC,QAAM,EAAC,MAAK,YAAW,OAAO,SAAQ,CAAA;UACvCA,6BAAC,QAAM,EAAC,MAAK,eAAc,OAAO,YAAW,CAAA;UAC7CA,6BAAC,QAAM,EAAC,MAAK,oBAAmB,OAAO,iBAAgB,CAAA;UAEvDA,6BAAC,QAAM,EAAC,MAAK,kBAAiB,OAAO,eAAc,CAAA;UACnDA,6BAAC,QAAM,EAAC,MAAK,uBAAsB,QAAQ,KAAK,oBAAmB,CAAA;IAAI;;AAhDtE,EAAA6D,mBAAA,eAAe;IACpB,uBAAuB,CAAA;IACvB,aAAa,WAAA;AAAM,aAAA;IAAK;IACxB,kBAAkB,WAAA;AAAM,aAAA;IAA4B;;AAiDxD,SAAAA;EArDgC5D,2BAAmB;AAwDnD,IAAa,gBAAyD;ACpDtE,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,gBAAe;EACvB,EAAE,MAAM,qBAAoB;EAC5B,EAAE,MAAM,WAAW,UAAU,KAAI;EACjC,EAAE,MAAM,aAAa,UAAU,KAAI;EACnC,EAAE,MAAM,YAAY,UAAU,KAAI;EAClC,EAAE,MAAM,aAAa,UAAU,KAAI;;AAGrC,IAAA,oBAAA,SAAA,QAAA;AAAgC,EAAA/B,WAAAiE,oBAAA,MAAA;AAAhC,WAAAA,qBAAA;;;AAQE,EAAAA,mBAAA,UAAA,SAAA,WAAA;AACQ,QAAA/D,MAKF,KAAK,OAJoB,mBAAgBA,IAAA,2BAClB,iBAAcA,IAAA,yBACvC,eAAYA,IAAA,cACZ,gBAAaA,IAAA;AAGf,eACEC;MAAC;MAAM,EACL,MAAK,iBACL,cAAc4B,qBAAkB;UAEhC5B;QAAC;QAAQ,EAAC,MAAK,gBAAe;YAC5BA,6BAAC,mBAAiB,MACf,SAACD,KAGD;cAFCI,iBAAaJ,IAAA,eAAE,cAAWA,IAAA,aAAE,oBAAiBA,IAAA,mBAAE,oBAAiBA,IAAA,mBAChE,cAAWA,IAAA,aAAoB,sBAAmBA,IAAA,kBAAE,SAAMA,IAAA;AAE1D,cAAM,mBAAmB,oBAAoB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI;AAC9D,iBAAO,qBAAqB,mCAC1BC,6BAAC,kBAAgB,EACf,cACA,eACA,QACA,SAASG,eAAc,CAAC,EAAE,QAC1B,WAAW;YACT,MAAM,kBAAkB,iBAAiB,kBAAkB,kBACzD,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,UAAS,WAAW,QAC/B,8BACA;aAEN,wBAAwB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAc,eAAe,YAAY,IAAI,EAAC,CAAA,QAGxEH,6BAAC,gBAAc,EACb,cACA,eACA,QACA,SAASG,eAAc,QACvB,UAAU,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,MACvB,mBAAmB,sBAAiB,QAAjB,sBAAiB,SAAA,SAAjB,kBAAmB,gBACtC,oBAAoB,kBAAiB,CAAA;SAG1C;MACiB;IACX;;AAtDV,EAAA2D,mBAAA,aAA+B;IACpC,2BAA2B;IAC3B,yBAAyB;IACzB,cAAc;IACd,eAAe;;AAsDnB,SAAAA;EA3DgC7D,2BAAmB;AA8DnD,IAAa,gBAAyD;ACxEtE,IAAM2B,uBAAqB;EACzB,EAAE,MAAM,WAAW,UAAU,KAAI;EACjC,EAAE,MAAM,YAAY,UAAU,KAAI;EAClC,EAAE,MAAM,aAAa,UAAU,KAAI;EACnC,EAAE,MAAM,oBAAoB,UAAU,KAAI;EAC1C,EAAE,MAAM,gBAAgB,UAAU,KAAI;;AAGxC,IAAM,2BAED,SAAC7B,KAEL;MADC,qBAAkBA,IAAA,oBAAE,4BAAyBA,IAAA,2BAAE,qBAAkBA,IAAA,oBAAE,iBAAcA,IAAA;AAE3E,MAAA,KAAA0D,YAAgCC,wBAAe,KAAK,GAAG,GAAC,CAAA,GAAvD,cAAW,GAAA,CAAA,GAAE,iBAAc,GAAA,CAAA;AAElCK,+BAAgB,WAAA;AACd,QAAM,OAAO,WAAA;AAAM,aAAA,eAAe,KAAK,IAAG,CAAE;IAAC;AAC7C,QAAM,aAAc,iBAChB,OAAO,YAAY,MAAM,cAAc,IACvC;AAEJ,WAAO,WAAA;AAAM,aAAA,OAAO,cAAc,UAAU;IAAC;KAC5C,CAAC,cAAc,CAAC;AAEnB,aACE/D;IAAC;IAAM,EACL,MAAK,wBACL,cAAc4B,qBAAkB;QAEhC5B,6BAAC,UAAQ,EACP,MAAK,QACL,WAAW,SAACD,KAAmB;UAAjB,aAAUA,IAAA;AAAY,aAAA,CAAC,YAAY,UAAU;MAAC,GAE3D,SAAC,QAAW;AAAK,iBAChBC,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,8BAA8B,2BAA2B,QAAQ,WAAW,GAC5E,+BAA+B,mBAAkB,CAAA,EAAA,CAAA;IAEnD,CACH;QAEHV,6BAAC,UAAQ,EACP,MAAK,OAAM,GAEV,SAAC,QAAW;AAAK,iBAChBA,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,UAAU,aAAa,QAAQ,aAAa,kBAAkB,EAAC,CAAA,EAAA,CAAA;IAEjE,CACH;QAEHV,6BAAC,UAAQ,EACP,MAAK,qBAAoB,GAExB,SAAC,QAAqC;AAAK,iBAC1CA,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,UAAU,oBACR,QAAQ,aAAa,yBAAyB,EAC/C,CAAA,EAAA,CAAA;IAEH,CACH;QAEHV,6BAAC,UAAQ,EACP,MAAK,mBAAkB,GAEtB,SAAC,QAAqC;AAAK,iBAC1CA,6BAAC,qBAAmB,EAClB,QAAMU,UAAAA,UAAA,CAAA,GACD,MAAM,GAAA,EACT,UAAU,oBACR,QAAQ,aAAa,yBAAyB,EAC/C,CAAA,EAAA,CAAA;IAEH,CACH;EACQ;AAGjB;AAEA,yBAAyB,eAAe;EACtC,gBAAgB;EAChB,oBAAoB;EACpB,2BAA2B;;AAG7B,yBAAyB,aAAa;EACpC,oBAAoB;;AAKtB,IAAa,uBAET;ACvGJ,IAAMkB,uBAAqB;EACzB,EAAE,MAAM,YAAW;EACnB,EAAE,MAAM,gBAAe;EACvB,EAAE,MAAM,WAAW,UAAU,KAAI;EACjC,EAAE,MAAM,aAAa,UAAU,KAAI;EACnC,EAAE,MAAM,YAAY,UAAU,KAAI;;AAGpC,IAAM,2BAA2B,SAAC7B,KAExB;MADRI,iBAAaJ,IAAA,eAAE,SAAMA,IAAA,QAAE,qBAAkBA,IAAA,oBAAE,cAAWA,IAAA,aAAE,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AACxE,SAAA,8BACbI,gBAAe,QAAQ,oBACvB,YAAY,YAAY,IAAI,GAAG,iBAAiB,YAAY,IAAI,CAAC;AAFpD;AAIf,IAAM,6BAA6B,SAACJ,KAE1B;MADR,kBAAeA,IAAA,iBAAE,SAAMA,IAAA,QAAE,qBAAkBA,IAAA,oBAAE,cAAWA,IAAA,aAAE,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAC1E,SAAA,mBAAmB,8BAChC,iBAAiB,QAAQ,oBACzB,YAAY,YAAY,IAAI,GAAG,iBAAiB,YAAY,IAAI,CAAC;AAFpD;AAKf,IAAM,oBAAoB,SACxBA,KAA+B;MAA7B,qBAAkBA,IAAA;AACjB,SAAA,uBAAuB,kBAAkB;AAAzC;AAEL,IAAM,gCAAgC,SACpCA,KAAgC;MAA9B,YAASA,IAAA,WAAE,WAAQA,IAAA;AAClB,SAAA,sBAAsB,0BAA0B,WAAW,QAAQ,GAAG,QAAQ;AAA9E;AAEL,IAAM,sBAAsB,SAC1BA,KAAgC;MAA9B,WAAQA,IAAA,UAAE,YAASA,IAAA;AAClB,SAAA,+BAA+B,UAAU,SAAS;AAAlD;AAEL,IAAM,mCAAmC,SAACA,KAGhC;MAFR,wBAAqBA,IAAA,uBAAE,WAAQA,IAAA,UAAE,qBAAkBA,IAAA,oBACnD,SAAMA,IAAA,QAAE,cAAWA,IAAA,aAAE,cAAWA,IAAA,aAAE,eAAYA,IAAA;AACjC,SAAA,yBACV,aACD,uBAAuB,UAAU,oBAAoB,QACrD,cAAc,YAAY,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,MAAK,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,UAAS,WAAW,KAAK;AAH3E;AAMf,IAAM,gCAAgC,SAACA,KAG3B;MAFR,qBAAkBA,IAAA,oBAAE,WAAQA,IAAA,UAAE,qBAAkBA,IAAA,oBAChD,SAAMA,IAAA,QAAE,cAAWA,IAAA,aAAE,cAAWA,IAAA,aAAE,eAAYA,IAAA;AACjC,SAAA,sBACf,aACE,oBAAoB,UAAU,oBAC9B,QAAQ,cAAc,YAAY,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,CAAC;AAHvC;AAMjB,IAAM,yBAAyB,SAACA,KAEtB;MADR,cAAWA,IAAA,aAAE,cAAWA,IAAA,aAAE,mBAAgBA,IAAA;AAC7B,SAAA,iBAAiB,gBAAW,QAAX,gBAAW,SAAA,SAAX,YAAa,IAAI,MAAM,6BACnD,WAAA;AAAM,WAAA;EAAK,IAAG;AADH;AAGf,IAAM,mCAAmC,SAACA,KAEhC;MADR,wBAAqBA,IAAA,uBAAE,mBAAgBA,IAAA,kBAAE,SAAMA,IAAA,QAAE,oBAAiBA,IAAA,mBAAEI,iBAAaJ,IAAA,eAAE,cAAWA,IAAA;AACjF,SAAA,gCACb,uBAAuB,kBAAkB,QAAQ,mBAAmBI,gBAAe,WAAW;AADjF;AAIf,IAAM,gCAAgC,SAACJ,KAG7B;MAFR,qBAAkBA,IAAA,oBAAE,wBAAqBA,IAAA,uBAAE,mBAAgBA,IAAA,kBAAE,SAAMA,IAAA,QACnE,oBAAiBA,IAAA,mBAAEI,iBAAaJ,IAAA,eAAE,cAAWA,IAAA;AAChC,SAAA,6BACb,oBAAoB,uBAAuB,kBAAkB,QAC7D,mBAAmBI,gBAAe,WAAW;AAFhC;AAKf,IAAM,2BAA2B,SAACJ,KAGxB;MAFRI,iBAAaJ,IAAA,eAAEkB,iBAAalB,IAAA,eAAG,cAAWA,IAAA,aAC1C,SAAMA,IAAA,QAAE,qBAAkBA,IAAA,oBAAE,mBAAgBA,IAAA;AAC/B,SAAAkB,kBACV,oBACDd,gBACAc,gBACA,QACA,oBACA,iBAAiB,YAAY,IAAI,CAAC;AANvB;AASf,IAAM,6BAA2EsC,oBAAW,WAAA;AAAM,aAChGvD;IAAC;IAAM,EACL,MAAK,sBACL,cAAc4B,qBAAkB;QAEhC5B,6BAAC,QAAM,EAAC,MAAK,eAAc,UAAU,uBAAsB,CAAA;QAC3DA,6BAAC,QAAM,EAAC,MAAK,YAAW,UAAU,oBAAmB,CAAA;QACrDA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,UAAU,8BAA6B,CAAA;QACzEA,6BAAC,QAAM,EAAC,MAAK,UAAS,UAAU,kBAAiB,CAAA;QAEjDA,6BAAC,QAAM,EAAC,MAAK,iBAAgB,UAAU,yBAAwB,CAAA;QAC/DA,6BAAC,QAAM,EAAC,MAAK,mBAAkB,UAAU,2BAA0B,CAAA;QACnEA,6BAAC,QAAM,EAAC,MAAK,iBAAgB,UAAU,yBAAwB,CAAA;QAE/DA,6BAAC,QAAM,EAAC,MAAK,yBAAwB,UAAU,iCAAgC,CAAA;QAC/EA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,UAAU,8BAA6B,CAAA;QAEzEA,6BAAC,QAAM,EAAC,MAAK,sBAAqB,UAAU,8BAA6B,CAAA;QACzEA,6BAAC,QAAM,EAAC,MAAK,yBAAwB,UAAU,iCAAgC,CAAA;EAAI;AAC5E,CACV;AAGD,IAAa,qBAET;",
  "names": ["PluginHost", "EventEmitter", "React.createContext", "PluginIndexer", "__spreadArray", "__read", "React.createElement", "React.Children", "React.PureComponent", "Component", "_a", "PluginBase", "TemplatePlaceholderBase", "React.Component", "PluginHostBase", "PluginHostCore", "PluginHost", "ActionBase", "GetterBase", "computed", "_b", "TemplateBase", "TemplateConnectorBase", "TouchStrategy", "MouseStrategy", "React.forwardRef", "React.isValidElement", "React.cloneElement", "Draggable", "React.createRef", "DragDropProviderCore", "DragDropProvider", "defaultProps", "React.useContext", "clamp", "DropTarget", "Sizer", "_a", "Component", "React.createElement", "React.PureComponent", "__read", "PropTypes", "Weekday", "dateutil", "IterResult", "extendStatics", "d", "b", "__extends", "__assign", "__spreadArray", "__extends", "CallbackIterResult", "ToText", "Parser", "Frequency", "Time", "__extends", "DateTime", "_a", "__assign", "__assign", "_a", "DateWithZone", "_a", "defaultKeys", "_a", "key", "value", "Cache", "item", "i", "__spreadArray", "__assign", "_a", "Iterinfo", "_a", "_a", "RRule", "zonedDate", "DEFAULT_OPTIONS", "_a", "val", "initializeOptions", "__assign", "defaultKeys", "__extends", "RRuleSet", "_a", "__assign", "appointments", "SCROLL_OFFSET", "startViewDate", "endViewDate", "__assign", "_a", "viewCellsData", "appointments", "isMidnight", "appointment", "__spreadArray", "__read", "__rest", "cellIndex", "__rest", "__assign", "viewCellsData", "startViewDate", "getCellRect", "cellIndex", "_a", "appointments", "__spreadArray", "__read", "_a", "__spreadArray", "__read", "viewCellsData", "__assign", "appointments", "timeCellsData", "startViewDate", "endViewDate", "i", "cellIndex", "_a", "__assign", "__spreadArray", "__read", "clamp", "getCellRect", "viewCellsData", "SCROLL_OFFSET", "startViewDate", "endViewDate", "cellData", "appointments", "RecurrenceFrequency", "__extends", "SchedulerCoreBase", "_a", "React.createElement", "React.PureComponent", "PluginHost", "viewCellsData", "startViewDateCore", "endViewDateCore", "BasicViewBase", "availableViews", "availableViewsCore", "viewCellsDataBaseComputed", "__assign", "isVerticalGrouping", "appointments", "startViewDate", "endViewDate", "timeCellsDataCore", "VericalViewBase", "timeCellsData", "viewCellsDataCore", "DayViewBase", "DAYS_IN_WEEK", "WeekViewBase", "calculateAppointmentsIntervalsBaseComputed", "MonthViewBase", "ToolbarBase", "DateNavigatorBase", "changeCurrentDate", "React.Fragment", "pluginDependencies", "ViewSwitcherBase", "setCurrentViewName", "__rest", "AppointmentsBase", "CellPlaceholder", "AllDayPanelBase", "ViewStateBase", "EditingStateBase", "preCommitChanges", "AppointmentTooltipBase", "_b", "addAppointment", "defaultMessages", "AppointmentFormBase", "React.createRef", "stopEditAppointment", "cancelAddedAppointment", "changeAppointment", "startEditAppointment", "DragDropProviderBase", "DragDropProviderCore", "styles", "DragDropProvider", "TodayButtonBase", "EditRecurrenceMenuBase", "IntegratedEditingBase", "React.memo", "React.useRef", "__read", "React.useState", "setAppointmentData", "React.useCallback", "GroupingStateBase", "GroupingPanelBase", "React.useEffect"]
}
